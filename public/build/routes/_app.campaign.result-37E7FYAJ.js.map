{
  "version": 3,
  "sources": ["../../../node_modules/fast-deep-equal/index.js", "../../../node_modules/dom-to-image/src/dom-to-image.js", "../../../app/routes/_app.campaign.result.tsx", "../../../node_modules/dnd-multi-backend/dist/index.js", "../../../node_modules/react-dnd-multi-backend/dist/index.js", "../../../node_modules/react-dnd/src/core/DndContext.ts", "../../../node_modules/redux/es/redux.js", "../../../node_modules/@react-dnd/invariant/src/index.ts", "../../../node_modules/dnd-core/src/utils/js_utils.ts", "../../../node_modules/dnd-core/src/actions/dragDrop/types.ts", "../../../node_modules/dnd-core/src/actions/dragDrop/local/setClientOffset.ts", "../../../node_modules/dnd-core/src/actions/dragDrop/beginDrag.ts", "../../../node_modules/dnd-core/src/actions/dragDrop/drop.ts", "../../../node_modules/dnd-core/src/actions/dragDrop/endDrag.ts", "../../../node_modules/dnd-core/src/utils/matchesType.ts", "../../../node_modules/dnd-core/src/actions/dragDrop/hover.ts", "../../../node_modules/dnd-core/src/actions/dragDrop/publishDragSource.ts", "../../../node_modules/dnd-core/src/actions/dragDrop/index.ts", "../../../node_modules/dnd-core/src/classes/DragDropManagerImpl.ts", "../../../node_modules/dnd-core/src/utils/coords.ts", "../../../node_modules/dnd-core/src/utils/dirtiness.ts", "../../../node_modules/dnd-core/src/classes/DragDropMonitorImpl.ts", "../../../node_modules/@react-dnd/asap/src/makeRequestCall.ts", "../../../node_modules/@react-dnd/asap/src/AsapQueue.ts", "../../../node_modules/@react-dnd/asap/src/RawTask.ts", "../../../node_modules/@react-dnd/asap/src/TaskFactory.ts", "../../../node_modules/@react-dnd/asap/src/asap.ts", "../../../node_modules/dnd-core/src/actions/registry.ts", "../../../node_modules/dnd-core/src/contracts.ts", "../../../node_modules/dnd-core/src/interfaces.ts", "../../../node_modules/dnd-core/src/utils/getNextUniqueId.ts", "../../../node_modules/dnd-core/src/classes/HandlerRegistryImpl.ts", "../../../node_modules/dnd-core/src/utils/equality.ts", "../../../node_modules/dnd-core/src/reducers/dirtyHandlerIds.ts", "../../../node_modules/dnd-core/src/reducers/dragOffset.ts", "../../../node_modules/dnd-core/src/reducers/dragOperation.ts", "../../../node_modules/dnd-core/src/reducers/refCount.ts", "../../../node_modules/dnd-core/src/reducers/stateId.ts", "../../../node_modules/dnd-core/src/reducers/index.ts", "../../../node_modules/dnd-core/src/createDragDropManager.ts", "../../../node_modules/react-dnd/src/core/DndProvider.tsx", "../../../node_modules/react-dnd/src/core/DragPreviewImage.ts", "../../../node_modules/react-dnd/src/hooks/useCollector.ts", "../../../node_modules/react-dnd/src/hooks/useIsomorphicLayoutEffect.ts", "../../../node_modules/react-dnd/src/hooks/useMonitorOutput.ts", "../../../node_modules/react-dnd/src/hooks/useCollectedProps.ts", "../../../node_modules/react-dnd/src/hooks/useOptionalFactory.ts", "../../../node_modules/react-dnd/src/hooks/useDrag/connectors.ts", "../../../node_modules/react-dnd/src/hooks/useDrag/useDragSourceConnector.ts", "../../../node_modules/react-dnd/src/internals/DragSourceMonitorImpl.ts", "../../../node_modules/react-dnd/src/internals/DropTargetMonitorImpl.ts", "../../../node_modules/react-dnd/src/internals/registration.ts", "../../../node_modules/@react-dnd/shallowequal/src/index.ts", "../../../node_modules/react-dnd/src/internals/isRef.ts", "../../../node_modules/react-dnd/src/internals/wrapConnectorHooks.ts", "../../../node_modules/react-dnd/src/internals/SourceConnector.ts", "../../../node_modules/react-dnd/src/internals/TargetConnector.ts", "../../../node_modules/react-dnd/src/hooks/useDragDropManager.ts", "../../../node_modules/react-dnd/src/hooks/useDrag/useDragSourceMonitor.ts", "../../../node_modules/react-dnd/src/hooks/useDrag/useDragSource.ts", "../../../node_modules/react-dnd/src/hooks/useDrag/DragSourceImpl.ts", "../../../node_modules/react-dnd/src/hooks/useDrag/useDragType.ts", "../../../node_modules/react-dnd/src/hooks/useDrag/useRegisteredDragSource.ts", "../../../node_modules/react-dnd/src/hooks/useDrag/useDrag.ts", "../../../node_modules/react-dnd/src/hooks/useDragLayer.ts", "../../../node_modules/react-dnd/src/hooks/useDrop/connectors.ts", "../../../node_modules/react-dnd/src/hooks/useDrop/useDropTargetConnector.ts", "../../../node_modules/react-dnd/src/hooks/useDrop/useDropTargetMonitor.ts", "../../../node_modules/react-dnd/src/hooks/useDrop/useAccept.ts", "../../../node_modules/react-dnd/src/hooks/useDrop/useDropTarget.ts", "../../../node_modules/react-dnd/src/hooks/useDrop/DropTargetImpl.ts", "../../../node_modules/react-dnd/src/hooks/useDrop/useRegisteredDropTarget.ts", "../../../node_modules/react-dnd/src/hooks/useDrop/useDrop.ts", "../../../node_modules/react-dnd-preview/dist/index.js", "../../../node_modules/react-dnd-html5-backend/src/utils/js_utils.ts", "../../../node_modules/react-dnd-html5-backend/src/EnterLeaveCounter.ts", "../../../node_modules/react-dnd-html5-backend/src/NativeDragSources/NativeDragSource.ts", "../../../node_modules/react-dnd-html5-backend/src/NativeTypes.ts", "../../../node_modules/react-dnd-html5-backend/src/NativeDragSources/getDataFromDataTransfer.ts", "../../../node_modules/react-dnd-html5-backend/src/NativeDragSources/nativeTypesConfig.ts", "../../../node_modules/react-dnd-html5-backend/src/NativeDragSources/index.ts", "../../../node_modules/react-dnd-html5-backend/src/BrowserDetector.ts", "../../../node_modules/react-dnd-html5-backend/src/MonotonicInterpolant.ts", "../../../node_modules/react-dnd-html5-backend/src/OffsetUtils.ts", "../../../node_modules/react-dnd-html5-backend/src/OptionsReader.ts", "../../../node_modules/react-dnd-html5-backend/src/HTML5BackendImpl.ts", "../../../node_modules/react-dnd-html5-backend/src/index.ts", "../../../node_modules/react-dnd-touch-backend/src/interfaces.ts", "../../../node_modules/react-dnd-touch-backend/src/OptionsReader.ts", "../../../node_modules/react-dnd-touch-backend/src/utils/math.ts", "../../../node_modules/react-dnd-touch-backend/src/utils/predicates.ts", "../../../node_modules/react-dnd-touch-backend/src/utils/offsets.ts", "../../../node_modules/react-dnd-touch-backend/src/utils/supportsPassive.ts", "../../../node_modules/react-dnd-touch-backend/src/TouchBackendImpl.ts", "../../../node_modules/react-dnd-touch-backend/src/index.ts", "../../../node_modules/rdndmb-html5-to-touch/dist/index.js", "../../../app/components/pages/Campaign/CampaignResult2.tsx", "../../../app/components/common/DndBox.tsx", "../../../node_modules/framework-utils/src/index.ts", "../../../node_modules/@daybrush/utils/src/consts.ts", "../../../node_modules/@daybrush/utils/src/utils.ts", "../../../node_modules/@daybrush/utils/src/color.ts", "../../../node_modules/@daybrush/utils/src/dom.ts", "../../../node_modules/@egjs/list-differ/src/PolyMap.ts", "../../../node_modules/@egjs/list-differ/src/HashMap.ts", "../../../node_modules/@egjs/list-differ/src/consts.ts", "../../../node_modules/@egjs/list-differ/src/Link.ts", "../../../node_modules/@egjs/list-differ/src/Result.ts", "../../../node_modules/@egjs/list-differ/src/utils.ts", "../../../node_modules/@egjs/list-differ/src/ListDiffer.ts", "../../../node_modules/@egjs/list-differ/src/index.ts", "../../../node_modules/croact/src/utils.tsx", "../../../node_modules/croact/src/base/Provider.tsx", "../../../node_modules/croact/src/base/Component.tsx", "../../../node_modules/croact/src/base/refs.tsx", "../../../node_modules/croact/src/base/ComponentProvider.tsx", "../../../node_modules/croact/src/base/ElementProvider.tsx", "../../../node_modules/croact/src/externalUtils.ts", "../../../node_modules/croact/src/providers.tsx", "../../../node_modules/croact/src/renderProviders.tsx", "../../../node_modules/croact/src/base/Context.tsx", "../../../node_modules/croact/src/base/Portal.tsx", "../../../node_modules/croact/src/renderToString.ts", "../../../node_modules/croact/src/hooks/hooks.tsx", "../../../node_modules/croact/src/index.ts", "../../../node_modules/@egjs/agent/src/utils.ts", "../../../node_modules/@egjs/agent/src/presets.ts", "../../../node_modules/@egjs/agent/src/userAgent.ts", "../../../node_modules/@egjs/agent/src/userAgentData.ts", "../../../node_modules/@egjs/agent/src/agent.ts", "../../../node_modules/@scena/matrix/src/index.ts", "../../../node_modules/css-to-mat/node_modules/tslib/tslib.es6.js", "../../../node_modules/css-to-mat/src/CssToMatrix.ts", "../../../node_modules/@egjs/children-differ/src/consts.ts", "../../../node_modules/@egjs/children-differ/src/ChildrenDiffer.ts", "../../../node_modules/@egjs/children-differ/src/utils.ts", "../../../node_modules/@egjs/children-differ/src/index.ts", "../../../node_modules/@scena/event-emitter/src/EventEmitter.ts", "../../../node_modules/@scena/dragscroll/src/DragScroll.ts", "../../../node_modules/overlap-area/src/utils.ts", "../../../node_modules/overlap-area/src/index.ts", "../../../node_modules/gesto/node_modules/tslib/tslib.es6.js", "../../../node_modules/gesto/src/utils.ts", "../../../node_modules/gesto/src/ClientStore.ts", "../../../node_modules/gesto/src/Gesto.ts", "../../../node_modules/css-styled/src/utils.ts", "../../../node_modules/css-styled/src/styled.ts", "../../../node_modules/croact-css-styled/dist/styled.esm.js", "../../../node_modules/croact-moveable/dist/moveable.esm.js", "../../../node_modules/moveable/src/InnerMoveable.tsx", "../../../node_modules/moveable/src/consts.ts", "../../../node_modules/moveable/src/MoveableManager.tsx", "../../../node_modules/moveable/src/Moveable.tsx", "../../../node_modules/moveable/src/utils.ts", "../../../app/components/common/DroppedBox.tsx", "../../../app/components/pages/Campaign/CampaignTitle.tsx", "../../../app/components/pages/Campaign/CampaignControl.tsx", "../../../app/components/pages/Campaign/CampaignGift.tsx", "../../../app/components/pages/Campaign/CampaignEditButton.tsx", "../../../app/components/pages/Campaign/CampaignStickers.tsx", "../../../app/components/pages/Campaign/CampaignThumbnailUpload.tsx"],
  "sourcesContent": ["'use strict';\n\n// do not edit .js files directly - edit src/index.jst\n\n\n\nmodule.exports = function equal(a, b) {\n  if (a === b) return true;\n\n  if (a && b && typeof a == 'object' && typeof b == 'object') {\n    if (a.constructor !== b.constructor) return false;\n\n    var length, i, keys;\n    if (Array.isArray(a)) {\n      length = a.length;\n      if (length != b.length) return false;\n      for (i = length; i-- !== 0;)\n        if (!equal(a[i], b[i])) return false;\n      return true;\n    }\n\n\n\n    if (a.constructor === RegExp) return a.source === b.source && a.flags === b.flags;\n    if (a.valueOf !== Object.prototype.valueOf) return a.valueOf() === b.valueOf();\n    if (a.toString !== Object.prototype.toString) return a.toString() === b.toString();\n\n    keys = Object.keys(a);\n    length = keys.length;\n    if (length !== Object.keys(b).length) return false;\n\n    for (i = length; i-- !== 0;)\n      if (!Object.prototype.hasOwnProperty.call(b, keys[i])) return false;\n\n    for (i = length; i-- !== 0;) {\n      var key = keys[i];\n\n      if (!equal(a[key], b[key])) return false;\n    }\n\n    return true;\n  }\n\n  // true if both NaN, false otherwise\n  return a!==a && b!==b;\n};\n", "(function (global) {\n  'use strict';\n\n  var util = newUtil();\n  var inliner = newInliner();\n  var fontFaces = newFontFaces();\n  var images = newImages();\n\n  // Default impl options\n  var defaultOptions = {\n    // Default is to fail on error, no placeholder\n    imagePlaceholder: undefined,\n    // Default cache bust is false, it will use the cache\n    cacheBust: false\n  };\n\n  var domtoimage = {\n    toSvg: toSvg,\n    toPng: toPng,\n    toJpeg: toJpeg,\n    toBlob: toBlob,\n    toPixelData: toPixelData,\n    impl: {\n      fontFaces: fontFaces,\n      images: images,\n      util: util,\n      inliner: inliner,\n      options: {}\n    }\n  };\n\n  if (typeof module !== 'undefined')\n  module.exports = domtoimage;else\n\n  global.domtoimage = domtoimage;\n\n\n  /**\n   * @param {Node} node - The DOM Node object to render\n   * @param {Object} options - Rendering options\n   * @param {Function} options.filter - Should return true if passed node should be included in the output\n   *          (excluding node means excluding it's children as well). Not called on the root node.\n   * @param {String} options.bgcolor - color for the background, any valid CSS color value.\n   * @param {Number} options.width - width to be applied to node before rendering.\n   * @param {Number} options.height - height to be applied to node before rendering.\n   * @param {Object} options.style - an object whose properties to be copied to node's style before rendering.\n   * @param {Number} options.quality - a Number between 0 and 1 indicating image quality (applicable to JPEG only),\n              defaults to 1.0.\n   * @param {String} options.imagePlaceholder - dataURL to use as a placeholder for failed images, default behaviour is to fail fast on images we can't fetch\n   * @param {Boolean} options.cacheBust - set to true to cache bust by appending the time to the request url\n   * @return {Promise} - A promise that is fulfilled with a SVG image data URL\n   * */\n  function toSvg(node, options) {\n    options = options || {};\n    copyOptions(options);\n    return Promise.resolve(node).\n    then(function (node) {\n      return cloneNode(node, options.filter, true);\n    }).\n    then(embedFonts).\n    then(inlineImages).\n    then(applyOptions).\n    then(function (clone) {\n      return makeSvgDataUri(clone,\n      options.width || util.width(node),\n      options.height || util.height(node)\n      );\n    });\n\n    function applyOptions(clone) {\n      if (options.bgcolor) clone.style.backgroundColor = options.bgcolor;\n\n      if (options.width) clone.style.width = options.width + 'px';\n      if (options.height) clone.style.height = options.height + 'px';\n\n      if (options.style)\n      Object.keys(options.style).forEach(function (property) {\n        clone.style[property] = options.style[property];\n      });\n\n      return clone;\n    }\n  }\n\n  /**\n   * @param {Node} node - The DOM Node object to render\n   * @param {Object} options - Rendering options, @see {@link toSvg}\n   * @return {Promise} - A promise that is fulfilled with a Uint8Array containing RGBA pixel data.\n   * */\n  function toPixelData(node, options) {\n    return draw(node, options || {}).\n    then(function (canvas) {\n      return canvas.getContext('2d').getImageData(\n        0,\n        0,\n        util.width(node),\n        util.height(node)\n      ).data;\n    });\n  }\n\n  /**\n   * @param {Node} node - The DOM Node object to render\n   * @param {Object} options - Rendering options, @see {@link toSvg}\n   * @return {Promise} - A promise that is fulfilled with a PNG image data URL\n   * */\n  function toPng(node, options) {\n    return draw(node, options || {}).\n    then(function (canvas) {\n      return canvas.toDataURL();\n    });\n  }\n\n  /**\n   * @param {Node} node - The DOM Node object to render\n   * @param {Object} options - Rendering options, @see {@link toSvg}\n   * @return {Promise} - A promise that is fulfilled with a JPEG image data URL\n   * */\n  function toJpeg(node, options) {\n    options = options || {};\n    return draw(node, options).\n    then(function (canvas) {\n      return canvas.toDataURL('image/jpeg', options.quality || 1.0);\n    });\n  }\n\n  /**\n   * @param {Node} node - The DOM Node object to render\n   * @param {Object} options - Rendering options, @see {@link toSvg}\n   * @return {Promise} - A promise that is fulfilled with a PNG image blob\n   * */\n  function toBlob(node, options) {\n    return draw(node, options || {}).\n    then(util.canvasToBlob);\n  }\n\n  function copyOptions(options) {\n    // Copy options to impl options for use in impl\n    if (typeof options.imagePlaceholder === 'undefined') {\n      domtoimage.impl.options.imagePlaceholder = defaultOptions.imagePlaceholder;\n    } else {\n      domtoimage.impl.options.imagePlaceholder = options.imagePlaceholder;\n    }\n\n    if (typeof options.cacheBust === 'undefined') {\n      domtoimage.impl.options.cacheBust = defaultOptions.cacheBust;\n    } else {\n      domtoimage.impl.options.cacheBust = options.cacheBust;\n    }\n  }\n\n  function draw(domNode, options) {\n    return toSvg(domNode, options).\n    then(util.makeImage).\n    then(util.delay(100)).\n    then(function (image) {\n      var canvas = newCanvas(domNode);\n      canvas.getContext('2d').drawImage(image, 0, 0);\n      return canvas;\n    });\n\n    function newCanvas(domNode) {\n      var canvas = document.createElement('canvas');\n      canvas.width = options.width || util.width(domNode);\n      canvas.height = options.height || util.height(domNode);\n\n      if (options.bgcolor) {\n        var ctx = canvas.getContext('2d');\n        ctx.fillStyle = options.bgcolor;\n        ctx.fillRect(0, 0, canvas.width, canvas.height);\n      }\n\n      return canvas;\n    }\n  }\n\n  function cloneNode(node, filter, root) {\n    if (!root && filter && !filter(node)) return Promise.resolve();\n\n    return Promise.resolve(node).\n    then(makeNodeCopy).\n    then(function (clone) {\n      return cloneChildren(node, clone, filter);\n    }).\n    then(function (clone) {\n      return processClone(node, clone);\n    });\n\n    function makeNodeCopy(node) {\n      if (node instanceof HTMLCanvasElement) return util.makeImage(node.toDataURL());\n      return node.cloneNode(false);\n    }\n\n    function cloneChildren(original, clone, filter) {\n      var children = original.childNodes;\n      if (children.length === 0) return Promise.resolve(clone);\n\n      return cloneChildrenInOrder(clone, util.asArray(children), filter).\n      then(function () {\n        return clone;\n      });\n\n      function cloneChildrenInOrder(parent, children, filter) {\n        var done = Promise.resolve();\n        children.forEach(function (child) {\n          done = done.\n          then(function () {\n            return cloneNode(child, filter);\n          }).\n          then(function (childClone) {\n            if (childClone) parent.appendChild(childClone);\n          });\n        });\n        return done;\n      }\n    }\n\n    function processClone(original, clone) {\n      if (!(clone instanceof Element)) return clone;\n\n      return Promise.resolve().\n      then(cloneStyle).\n      then(clonePseudoElements).\n      then(copyUserInput).\n      then(fixSvg).\n      then(function () {\n        return clone;\n      });\n\n      function cloneStyle() {\n        copyStyle(window.getComputedStyle(original), clone.style);\n\n        function copyStyle(source, target) {\n          if (source.cssText) target.cssText = source.cssText;else\n          copyProperties(source, target);\n\n          function copyProperties(source, target) {\n            util.asArray(source).forEach(function (name) {\n              target.setProperty(\n                name,\n                source.getPropertyValue(name),\n                source.getPropertyPriority(name)\n              );\n            });\n          }\n        }\n      }\n\n      function clonePseudoElements() {\n        [':before', ':after'].forEach(function (element) {\n          clonePseudoElement(element);\n        });\n\n        function clonePseudoElement(element) {\n          var style = window.getComputedStyle(original, element);\n          var content = style.getPropertyValue('content');\n\n          if (content === '' || content === 'none') return;\n\n          var className = util.uid();\n          clone.className = clone.className + ' ' + className;\n          var styleElement = document.createElement('style');\n          styleElement.appendChild(formatPseudoElementStyle(className, element, style));\n          clone.appendChild(styleElement);\n\n          function formatPseudoElementStyle(className, element, style) {\n            var selector = '.' + className + ':' + element;\n            var cssText = style.cssText ? formatCssText(style) : formatCssProperties(style);\n            return document.createTextNode(selector + '{' + cssText + '}');\n\n            function formatCssText(style) {\n              var content = style.getPropertyValue('content');\n              return style.cssText + ' content: ' + content + ';';\n            }\n\n            function formatCssProperties(style) {\n\n              return util.asArray(style).\n              map(formatProperty).\n              join('; ') + ';';\n\n              function formatProperty(name) {\n                return name + ': ' +\n                style.getPropertyValue(name) + (\n                style.getPropertyPriority(name) ? ' !important' : '');\n              }\n            }\n          }\n        }\n      }\n\n      function copyUserInput() {\n        if (original instanceof HTMLTextAreaElement) clone.innerHTML = original.value;\n        if (original instanceof HTMLInputElement) clone.setAttribute(\"value\", original.value);\n      }\n\n      function fixSvg() {\n        if (!(clone instanceof SVGElement)) return;\n        clone.setAttribute('xmlns', 'http://www.w3.org/2000/svg');\n\n        if (!(clone instanceof SVGRectElement)) return;\n        ['width', 'height'].forEach(function (attribute) {\n          var value = clone.getAttribute(attribute);\n          if (!value) return;\n\n          clone.style.setProperty(attribute, value);\n        });\n      }\n    }\n  }\n\n  function embedFonts(node) {\n    return fontFaces.resolveAll().\n    then(function (cssText) {\n      var styleNode = document.createElement('style');\n      node.appendChild(styleNode);\n      styleNode.appendChild(document.createTextNode(cssText));\n      return node;\n    });\n  }\n\n  function inlineImages(node) {\n    return images.inlineAll(node).\n    then(function () {\n      return node;\n    });\n  }\n\n  function makeSvgDataUri(node, width, height) {\n    return Promise.resolve(node).\n    then(function (node) {\n      node.setAttribute('xmlns', 'http://www.w3.org/1999/xhtml');\n      return new XMLSerializer().serializeToString(node);\n    }).\n    then(util.escapeXhtml).\n    then(function (xhtml) {\n      return '<foreignObject x=\"0\" y=\"0\" width=\"100%\" height=\"100%\">' + xhtml + '</foreignObject>';\n    }).\n    then(function (foreignObject) {\n      return '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"' + width + '\" height=\"' + height + '\">' +\n      foreignObject + '</svg>';\n    }).\n    then(function (svg) {\n      return 'data:image/svg+xml;charset=utf-8,' + svg;\n    });\n  }\n\n  function newUtil() {\n    return {\n      escape: escape,\n      parseExtension: parseExtension,\n      mimeType: mimeType,\n      dataAsUrl: dataAsUrl,\n      isDataUrl: isDataUrl,\n      canvasToBlob: canvasToBlob,\n      resolveUrl: resolveUrl,\n      getAndEncode: getAndEncode,\n      uid: uid(),\n      delay: delay,\n      asArray: asArray,\n      escapeXhtml: escapeXhtml,\n      makeImage: makeImage,\n      width: width,\n      height: height\n    };\n\n    function mimes() {\n      /*\n       * Only WOFF and EOT mime types for fonts are 'real'\n       * see http://www.iana.org/assignments/media-types/media-types.xhtml\n       */\n      var WOFF = 'application/font-woff';\n      var JPEG = 'image/jpeg';\n\n      return {\n        'woff': WOFF,\n        'woff2': WOFF,\n        'ttf': 'application/font-truetype',\n        'eot': 'application/vnd.ms-fontobject',\n        'png': 'image/png',\n        'jpg': JPEG,\n        'jpeg': JPEG,\n        'gif': 'image/gif',\n        'tiff': 'image/tiff',\n        'svg': 'image/svg+xml'\n      };\n    }\n\n    function parseExtension(url) {\n      var match = /\\.([^\\.\\/]*?)$/g.exec(url);\n      if (match) return match[1];else\n      return '';\n    }\n\n    function mimeType(url) {\n      var extension = parseExtension(url).toLowerCase();\n      return mimes()[extension] || '';\n    }\n\n    function isDataUrl(url) {\n      return url.search(/^(data:)/) !== -1;\n    }\n\n    function toBlob(canvas) {\n      return new Promise(function (resolve) {\n        var binaryString = window.atob(canvas.toDataURL().split(',')[1]);\n        var length = binaryString.length;\n        var binaryArray = new Uint8Array(length);\n\n        for (var i = 0; i < length; i++)\n        binaryArray[i] = binaryString.charCodeAt(i);\n\n        resolve(new Blob([binaryArray], {\n          type: 'image/png'\n        }));\n      });\n    }\n\n    function canvasToBlob(canvas) {\n      if (canvas.toBlob)\n      return new Promise(function (resolve) {\n        canvas.toBlob(resolve);\n      });\n\n      return toBlob(canvas);\n    }\n\n    function resolveUrl(url, baseUrl) {\n      var doc = document.implementation.createHTMLDocument();\n      var base = doc.createElement('base');\n      doc.head.appendChild(base);\n      var a = doc.createElement('a');\n      doc.body.appendChild(a);\n      base.href = baseUrl;\n      a.href = url;\n      return a.href;\n    }\n\n    function uid() {\n      var index = 0;\n\n      return function () {\n        return 'u' + fourRandomChars() + index++;\n\n        function fourRandomChars() {\n          /* see http://stackoverflow.com/a/6248722/2519373 */\n          return ('0000' + (Math.random() * Math.pow(36, 4) << 0).toString(36)).slice(-4);\n        }\n      };\n    }\n\n    function makeImage(uri) {\n      return new Promise(function (resolve, reject) {\n        var image = new Image();\n        image.onload = function () {\n          resolve(image);\n        };\n        image.onerror = reject;\n        image.src = uri;\n      });\n    }\n\n    function getAndEncode(url) {\n      var TIMEOUT = 30000;\n      if (domtoimage.impl.options.cacheBust) {\n        // Cache bypass so we dont have CORS issues with cached images\n        // Source: https://developer.mozilla.org/en/docs/Web/API/XMLHttpRequest/Using_XMLHttpRequest#Bypassing_the_cache\n        url += (/\\?/.test(url) ? \"&\" : \"?\") + new Date().getTime();\n      }\n\n      return new Promise(function (resolve) {\n        var request = new XMLHttpRequest();\n\n        request.onreadystatechange = done;\n        request.ontimeout = timeout;\n        request.responseType = 'blob';\n        request.timeout = TIMEOUT;\n        request.open('GET', url, true);\n        request.send();\n\n        var placeholder;\n        if (domtoimage.impl.options.imagePlaceholder) {\n          var split = domtoimage.impl.options.imagePlaceholder.split(/,/);\n          if (split && split[1]) {\n            placeholder = split[1];\n          }\n        }\n\n        function done() {\n          if (request.readyState !== 4) return;\n\n          if (request.status !== 200) {\n            if (placeholder) {\n              resolve(placeholder);\n            } else {\n              fail('cannot fetch resource: ' + url + ', status: ' + request.status);\n            }\n\n            return;\n          }\n\n          var encoder = new FileReader();\n          encoder.onloadend = function () {\n            var content = encoder.result.split(/,/)[1];\n            resolve(content);\n          };\n          encoder.readAsDataURL(request.response);\n        }\n\n        function timeout() {\n          if (placeholder) {\n            resolve(placeholder);\n          } else {\n            fail('timeout of ' + TIMEOUT + 'ms occured while fetching resource: ' + url);\n          }\n        }\n\n        function fail(message) {\n          console.error(message);\n          resolve('');\n        }\n      });\n    }\n\n    function dataAsUrl(content, type) {\n      return 'data:' + type + ';base64,' + content;\n    }\n\n    function escape(string) {\n      return string.replace(/([.*+?^${}()|\\[\\]\\/\\\\])/g, '\\\\$1');\n    }\n\n    function delay(ms) {\n      return function (arg) {\n        return new Promise(function (resolve) {\n          setTimeout(function () {\n            resolve(arg);\n          }, ms);\n        });\n      };\n    }\n\n    function asArray(arrayLike) {\n      var array = [];\n      var length = arrayLike.length;\n      for (var i = 0; i < length; i++) array.push(arrayLike[i]);\n      return array;\n    }\n\n    function escapeXhtml(string) {\n      return string.replace(/#/g, '%23').replace(/\\n/g, '%0A');\n    }\n\n    function width(node) {\n      var leftBorder = px(node, 'border-left-width');\n      var rightBorder = px(node, 'border-right-width');\n      return node.scrollWidth + leftBorder + rightBorder;\n    }\n\n    function height(node) {\n      var topBorder = px(node, 'border-top-width');\n      var bottomBorder = px(node, 'border-bottom-width');\n      return node.scrollHeight + topBorder + bottomBorder;\n    }\n\n    function px(node, styleProperty) {\n      var value = window.getComputedStyle(node).getPropertyValue(styleProperty);\n      return parseFloat(value.replace('px', ''));\n    }\n  }\n\n  function newInliner() {\n    var URL_REGEX = /url\\(['\"]?([^'\"]+?)['\"]?\\)/g;\n\n    return {\n      inlineAll: inlineAll,\n      shouldProcess: shouldProcess,\n      impl: {\n        readUrls: readUrls,\n        inline: inline\n      }\n    };\n\n    function shouldProcess(string) {\n      return string.search(URL_REGEX) !== -1;\n    }\n\n    function readUrls(string) {\n      var result = [];\n      var match;\n      while ((match = URL_REGEX.exec(string)) !== null) {\n        result.push(match[1]);\n      }\n      return result.filter(function (url) {\n        return !util.isDataUrl(url);\n      });\n    }\n\n    function inline(string, url, baseUrl, get) {\n      return Promise.resolve(url).\n      then(function (url) {\n        return baseUrl ? util.resolveUrl(url, baseUrl) : url;\n      }).\n      then(get || util.getAndEncode).\n      then(function (data) {\n        return util.dataAsUrl(data, util.mimeType(url));\n      }).\n      then(function (dataUrl) {\n        return string.replace(urlAsRegex(url), '$1' + dataUrl + '$3');\n      });\n\n      function urlAsRegex(url) {\n        return new RegExp('(url\\\\([\\'\"]?)(' + util.escape(url) + ')([\\'\"]?\\\\))', 'g');\n      }\n    }\n\n    function inlineAll(string, baseUrl, get) {\n      if (nothingToInline()) return Promise.resolve(string);\n\n      return Promise.resolve(string).\n      then(readUrls).\n      then(function (urls) {\n        var done = Promise.resolve(string);\n        urls.forEach(function (url) {\n          done = done.then(function (string) {\n            return inline(string, url, baseUrl, get);\n          });\n        });\n        return done;\n      });\n\n      function nothingToInline() {\n        return !shouldProcess(string);\n      }\n    }\n  }\n\n  function newFontFaces() {\n    return {\n      resolveAll: resolveAll,\n      impl: {\n        readAll: readAll\n      }\n    };\n\n    function resolveAll() {\n      return readAll(document).\n      then(function (webFonts) {\n        return Promise.all(\n          webFonts.map(function (webFont) {\n            return webFont.resolve();\n          })\n        );\n      }).\n      then(function (cssStrings) {\n        return cssStrings.join('\\n');\n      });\n    }\n\n    function readAll() {\n      return Promise.resolve(util.asArray(document.styleSheets)).\n      then(getCssRules).\n      then(selectWebFontRules).\n      then(function (rules) {\n        return rules.map(newWebFont);\n      });\n\n      function selectWebFontRules(cssRules) {\n        return cssRules.\n        filter(function (rule) {\n          return rule.type === CSSRule.FONT_FACE_RULE;\n        }).\n        filter(function (rule) {\n          return inliner.shouldProcess(rule.style.getPropertyValue('src'));\n        });\n      }\n\n      function getCssRules(styleSheets) {\n        var cssRules = [];\n        styleSheets.forEach(function (sheet) {\n          try {\n            util.asArray(sheet.cssRules || []).forEach(cssRules.push.bind(cssRules));\n          } catch (e) {\n            console.log('Error while reading CSS rules from ' + sheet.href, e.toString());\n          }\n        });\n        return cssRules;\n      }\n\n      function newWebFont(webFontRule) {\n        return {\n          resolve: function resolve() {\n            var baseUrl = (webFontRule.parentStyleSheet || {}).href;\n            return inliner.inlineAll(webFontRule.cssText, baseUrl);\n          },\n          src: function () {\n            return webFontRule.style.getPropertyValue('src');\n          }\n        };\n      }\n    }\n  }\n\n  function newImages() {\n    return {\n      inlineAll: inlineAll,\n      impl: {\n        newImage: newImage\n      }\n    };\n\n    function newImage(element) {\n      return {\n        inline: inline\n      };\n\n      function inline(get) {\n        if (util.isDataUrl(element.src)) return Promise.resolve();\n\n        return Promise.resolve(element.src).\n        then(get || util.getAndEncode).\n        then(function (data) {\n          return util.dataAsUrl(data, util.mimeType(element.src));\n        }).\n        then(function (dataUrl) {\n          return new Promise(function (resolve, reject) {\n            element.onload = resolve;\n            element.onerror = reject;\n            element.src = dataUrl;\n          });\n        });\n      }\n    }\n\n    function inlineAll(node) {\n      if (!(node instanceof Element)) return Promise.resolve(node);\n\n      return inlineBackground(node).\n      then(function () {\n        if (node instanceof HTMLImageElement)\n        return newImage(node).inline();else\n\n        return Promise.all(\n          util.asArray(node.childNodes).map(function (child) {\n            return inlineAll(child);\n          })\n        );\n      });\n\n      function inlineBackground(node) {\n        var background = node.style.getPropertyValue('background');\n\n        if (!background) return Promise.resolve(node);\n\n        return inliner.inlineAll(background).\n        then(function (inlined) {\n          node.style.setProperty(\n            'background',\n            inlined,\n            node.style.getPropertyPriority('background')\n          );\n        }).\n        then(function () {\n          return node;\n        });\n      }\n    }\n  }\n})(this);", "import { useLoaderData } from \"@remix-run/react\";\nimport { json, type LoaderFunction, redirect } from \"@remix-run/node\";\nimport { DndProvider } from \"react-dnd-multi-backend\";\nimport { HTML5toTouch } from \"rdndmb-html5-to-touch\";\nimport { CampaignResult2 } from \"~/components/pages/Campaign/CampaignResult2\";\nimport { commitSession, getSessionFromRequest } from \"~/session.server\";\n\nexport const loader: LoaderFunction = async ({ request }) => {\n  const session = await getSessionFromRequest(request);\n  let campaignResult = session.get(\"campaignResult\");\n  const gift = session.get(\"gift\");\n  if (!campaignResult) {\n    return redirect(\"/campaign\");\n  }\n\n  return json(\n    { campaignResult, gift },\n    {\n      headers: { \"Set-Cookie\": await commitSession(session) },\n    }\n  );\n};\n\nexport default function CampaignResultPage() {\n  const loaderData = useLoaderData();\n\n  return (\n    <>\n      <DndProvider options={HTML5toTouch}>\n        <CampaignResult2\n          data={loaderData.campaignResult}\n          gift={loaderData.gift}\n        />\n      </DndProvider>\n    </>\n  );\n}\n", "var D=(r,n,e)=>{if(!n.has(r))throw TypeError(\"Cannot \"+e)};var t=(r,n,e)=>(D(r,n,\"read from private field\"),e?e.call(r):n.get(r)),o=(r,n,e)=>{if(n.has(r))throw TypeError(\"Cannot add the same private member more than once\");n instanceof WeakSet?n.add(r):n.set(r,e)},p=(r,n,e,i)=>(D(r,n,\"write to private field\"),i?i.call(r,e):n.set(r,e),e);var w,b=class{constructor(){o(this,w,void 0);this.register=n=>{t(this,w).push(n)};this.unregister=n=>{let e;for(;(e=t(this,w).indexOf(n))!==-1;)t(this,w).splice(e,1)};this.backendChanged=n=>{for(let e of t(this,w))e.backendChanged(n)};p(this,w,[])}};w=new WeakMap;var a,f,c,d,h,x,T,E,v,y,g,l=class l{constructor(n,e,i){o(this,a,void 0);o(this,f,void 0);o(this,c,void 0);o(this,d,void 0);o(this,h,void 0);o(this,x,(n,e,i)=>{if(!i.backend)throw new Error(`You must specify a 'backend' property in your Backend entry: ${JSON.stringify(i)}`);let u=i.backend(n,e,i.options),s=i.id,k=!i.id&&u&&u.constructor;if(k&&(s=u.constructor.name),s)k&&console.warn(`Deprecation notice: You are using a pipeline which doesn't include backends' 'id'.\n        This might be unsupported in the future, please specify 'id' explicitely for every backend.`);else throw new Error(`You must specify an 'id' property in your Backend entry: ${JSON.stringify(i)}\n        see this guide: https://github.com/louisbrunner/dnd-multi-backend/tree/master/packages/react-dnd-multi-backend#migrating-from-5xx`);if(t(this,c)[s])throw new Error(`You must specify a unique 'id' property in your Backend entry:\n        ${JSON.stringify(i)} (conflicts with: ${JSON.stringify(t(this,c)[s])})`);return{id:s,instance:u,preview:i.preview??!1,transition:i.transition,skipDispatchOnTransition:i.skipDispatchOnTransition??!1}});this.setup=()=>{if(!(typeof window>\"u\")){if(l.isSetUp)throw new Error(\"Cannot have two MultiBackends at the same time.\");l.isSetUp=!0,t(this,T).call(this,window),t(this,c)[t(this,a)].instance.setup()}};this.teardown=()=>{typeof window>\"u\"||(l.isSetUp=!1,t(this,E).call(this,window),t(this,c)[t(this,a)].instance.teardown())};this.connectDragSource=(n,e,i)=>t(this,g).call(this,\"connectDragSource\",n,e,i);this.connectDragPreview=(n,e,i)=>t(this,g).call(this,\"connectDragPreview\",n,e,i);this.connectDropTarget=(n,e,i)=>t(this,g).call(this,\"connectDropTarget\",n,e,i);this.profile=()=>t(this,c)[t(this,a)].instance.profile();this.previewEnabled=()=>t(this,c)[t(this,a)].preview;this.previewsList=()=>t(this,f);this.backendsList=()=>t(this,d);o(this,T,n=>{t(this,d).forEach(e=>{e.transition&&n.addEventListener(e.transition.event,t(this,v))})});o(this,E,n=>{t(this,d).forEach(e=>{e.transition&&n.removeEventListener(e.transition.event,t(this,v))})});o(this,v,n=>{let e=t(this,a);if(t(this,d).some(i=>i.id!==t(this,a)&&i.transition&&i.transition.check(n)?(p(this,a,i.id),!0):!1),t(this,a)!==e){t(this,c)[e].instance.teardown(),Object.keys(t(this,h)).forEach(k=>{let B=t(this,h)[k];B.unsubscribe(),B.unsubscribe=t(this,y).call(this,B.func,...B.args)}),t(this,f).backendChanged(this);let i=t(this,c)[t(this,a)];if(i.instance.setup(),i.skipDispatchOnTransition)return;let u=n.constructor,s=new u(n.type,n);n.target?.dispatchEvent(s)}});o(this,y,(n,e,i,u)=>t(this,c)[t(this,a)].instance[n](e,i,u));o(this,g,(n,e,i,u)=>{let s=`${n}_${e}`,k=t(this,y).call(this,n,e,i,u);return t(this,h)[s]={func:n,args:[e,i,u],unsubscribe:k},()=>{t(this,h)[s].unsubscribe(),delete t(this,h)[s]}});if(!i||!i.backends||i.backends.length<1)throw new Error(`You must specify at least one Backend, if you are coming from 2.x.x (or don't understand this error)\n        see this guide: https://github.com/louisbrunner/dnd-multi-backend/tree/master/packages/react-dnd-multi-backend#migrating-from-2xx`);p(this,f,new b),p(this,c,{}),p(this,d,[]),i.backends.forEach(u=>{let s=t(this,x).call(this,n,e,u);t(this,c)[s.id]=s,t(this,d).push(s)}),p(this,a,t(this,d)[0].id),p(this,h,{})}};a=new WeakMap,f=new WeakMap,c=new WeakMap,d=new WeakMap,h=new WeakMap,x=new WeakMap,T=new WeakMap,E=new WeakMap,v=new WeakMap,y=new WeakMap,g=new WeakMap,l.isSetUp=!1;var M=l;var P=(r,n,e)=>new M(r,n,e);var m=(r,n)=>({event:r,check:n});var S=m(\"touchstart\",r=>{let n=r;return n.touches!==null&&n.touches!==void 0}),L=m(\"dragstart\",r=>r.type.indexOf(\"drag\")!==-1||r.type.indexOf(\"drop\")!==-1),O=m(\"mousedown\",r=>r.type.indexOf(\"touch\")===-1&&r.type.indexOf(\"mouse\")!==-1),C=m(\"pointerdown\",r=>r.pointerType==\"mouse\");export{L as HTML5DragTransition,O as MouseTransition,P as MultiBackend,C as PointerTransition,S as TouchTransition,m as createTransition};\n", "export*from\"dnd-multi-backend\";import i,{useState as l,createContext as D}from\"react\";import{DndProvider as m}from\"react-dnd\";import{MultiBackend as P}from\"dnd-multi-backend\";var u=D(null),g=({portal:e,...t})=>{let[r,o]=l(null);return i.createElement(u.Provider,{value:e??r},i.createElement(m,{backend:P,...t}),e?null:i.createElement(\"div\",{ref:o}))};import w,{useContext as k}from\"react\";import{createPortal as M}from\"react-dom\";import{Preview as C,Context as b}from\"react-dnd-preview\";import{useState as v,useEffect as S,useContext as x}from\"react\";import{DndContext as f}from\"react-dnd\";var p=()=>{let[e,t]=v(!1),r=x(f);return S(()=>{let o=r?.dragDropManager?.getBackend(),n={backendChanged:s=>{t(s.previewEnabled())}};return t(o.previewEnabled()),o.previewsList().register(n),()=>{o.previewsList().unregister(n)}},[r,r.dragDropManager]),e};var E=e=>{let t=p(),r=k(u);if(!t)return null;let o=w.createElement(C,{...e});return r!==null?M(o,r):o};E.Context=b;import{useDrag as T}from\"react-dnd\";import{useContext as B}from\"react\";import{DndContext as y}from\"react-dnd\";var R=(e,t,r,o)=>{let n=r.getBackend();r.receiveBackend(o);let s=t(e);return r.receiveBackend(n),s},a=(e,t)=>{let r=B(y),o=r?.dragDropManager?.getBackend();if(o===void 0)throw new Error(\"could not find backend, make sure you are using a <DndProvider />\");let n=t(e),s={},d=o.backendsList();for(let c of d)s[c.id]=R(e,t,r.dragDropManager,c.instance);return[n,s]};var pe=e=>a(e,T);import{useDrop as O}from\"react-dnd\";var le=e=>a(e,O);import{usePreview as h}from\"react-dnd-preview\";var Se=()=>{let e=p(),t=h();return e?t:{display:!1}};export{g as DndProvider,E as Preview,b as PreviewContext,pe as useMultiDrag,le as useMultiDrop,Se as usePreview};\n", "import type { DragDropManager } from 'dnd-core'\nimport { createContext } from 'react'\n\n/**\n * The React context type\n */\nexport interface DndContextType {\n\tdragDropManager: DragDropManager | undefined\n}\n\n/**\n * Create the React Context\n */\nexport const DndContext = createContext<DndContextType>({\n\tdragDropManager: undefined,\n})\n", "import _objectSpread from '@babel/runtime/helpers/esm/objectSpread2';\n\n/**\n * Adapted from React: https://github.com/facebook/react/blob/master/packages/shared/formatProdErrorMessage.js\n *\n * Do not require this module directly! Use normal throw error calls. These messages will be replaced with error codes\n * during build.\n * @param {number} code\n */\nfunction formatProdErrorMessage(code) {\n  return \"Minified Redux error #\" + code + \"; visit https://redux.js.org/Errors?code=\" + code + \" for the full message or \" + 'use the non-minified dev environment for full errors. ';\n}\n\n// Inlined version of the `symbol-observable` polyfill\nvar $$observable = (function () {\n  return typeof Symbol === 'function' && Symbol.observable || '@@observable';\n})();\n\n/**\n * These are private action types reserved by Redux.\n * For any unknown actions, you must return the current state.\n * If the current state is undefined, you must return the initial state.\n * Do not reference these action types directly in your code.\n */\nvar randomString = function randomString() {\n  return Math.random().toString(36).substring(7).split('').join('.');\n};\n\nvar ActionTypes = {\n  INIT: \"@@redux/INIT\" + randomString(),\n  REPLACE: \"@@redux/REPLACE\" + randomString(),\n  PROBE_UNKNOWN_ACTION: function PROBE_UNKNOWN_ACTION() {\n    return \"@@redux/PROBE_UNKNOWN_ACTION\" + randomString();\n  }\n};\n\n/**\n * @param {any} obj The object to inspect.\n * @returns {boolean} True if the argument appears to be a plain object.\n */\nfunction isPlainObject(obj) {\n  if (typeof obj !== 'object' || obj === null) return false;\n  var proto = obj;\n\n  while (Object.getPrototypeOf(proto) !== null) {\n    proto = Object.getPrototypeOf(proto);\n  }\n\n  return Object.getPrototypeOf(obj) === proto;\n}\n\n// Inlined / shortened version of `kindOf` from https://github.com/jonschlinkert/kind-of\nfunction miniKindOf(val) {\n  if (val === void 0) return 'undefined';\n  if (val === null) return 'null';\n  var type = typeof val;\n\n  switch (type) {\n    case 'boolean':\n    case 'string':\n    case 'number':\n    case 'symbol':\n    case 'function':\n      {\n        return type;\n      }\n  }\n\n  if (Array.isArray(val)) return 'array';\n  if (isDate(val)) return 'date';\n  if (isError(val)) return 'error';\n  var constructorName = ctorName(val);\n\n  switch (constructorName) {\n    case 'Symbol':\n    case 'Promise':\n    case 'WeakMap':\n    case 'WeakSet':\n    case 'Map':\n    case 'Set':\n      return constructorName;\n  } // other\n\n\n  return type.slice(8, -1).toLowerCase().replace(/\\s/g, '');\n}\n\nfunction ctorName(val) {\n  return typeof val.constructor === 'function' ? val.constructor.name : null;\n}\n\nfunction isError(val) {\n  return val instanceof Error || typeof val.message === 'string' && val.constructor && typeof val.constructor.stackTraceLimit === 'number';\n}\n\nfunction isDate(val) {\n  if (val instanceof Date) return true;\n  return typeof val.toDateString === 'function' && typeof val.getDate === 'function' && typeof val.setDate === 'function';\n}\n\nfunction kindOf(val) {\n  var typeOfVal = typeof val;\n\n  if (process.env.NODE_ENV !== 'production') {\n    typeOfVal = miniKindOf(val);\n  }\n\n  return typeOfVal;\n}\n\n/**\n * @deprecated\n *\n * **We recommend using the `configureStore` method\n * of the `@reduxjs/toolkit` package**, which replaces `createStore`.\n *\n * Redux Toolkit is our recommended approach for writing Redux logic today,\n * including store setup, reducers, data fetching, and more.\n *\n * **For more details, please read this Redux docs page:**\n * **https://redux.js.org/introduction/why-rtk-is-redux-today**\n *\n * `configureStore` from Redux Toolkit is an improved version of `createStore` that\n * simplifies setup and helps avoid common bugs.\n *\n * You should not be using the `redux` core package by itself today, except for learning purposes.\n * The `createStore` method from the core `redux` package will not be removed, but we encourage\n * all users to migrate to using Redux Toolkit for all Redux code.\n *\n * If you want to use `createStore` without this visual deprecation warning, use\n * the `legacy_createStore` import instead:\n *\n * `import { legacy_createStore as createStore} from 'redux'`\n *\n */\n\nfunction createStore(reducer, preloadedState, enhancer) {\n  var _ref2;\n\n  if (typeof preloadedState === 'function' && typeof enhancer === 'function' || typeof enhancer === 'function' && typeof arguments[3] === 'function') {\n    throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(0) : 'It looks like you are passing several store enhancers to ' + 'createStore(). This is not supported. Instead, compose them ' + 'together to a single function. See https://redux.js.org/tutorials/fundamentals/part-4-store#creating-a-store-with-enhancers for an example.');\n  }\n\n  if (typeof preloadedState === 'function' && typeof enhancer === 'undefined') {\n    enhancer = preloadedState;\n    preloadedState = undefined;\n  }\n\n  if (typeof enhancer !== 'undefined') {\n    if (typeof enhancer !== 'function') {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(1) : \"Expected the enhancer to be a function. Instead, received: '\" + kindOf(enhancer) + \"'\");\n    }\n\n    return enhancer(createStore)(reducer, preloadedState);\n  }\n\n  if (typeof reducer !== 'function') {\n    throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(2) : \"Expected the root reducer to be a function. Instead, received: '\" + kindOf(reducer) + \"'\");\n  }\n\n  var currentReducer = reducer;\n  var currentState = preloadedState;\n  var currentListeners = [];\n  var nextListeners = currentListeners;\n  var isDispatching = false;\n  /**\n   * This makes a shallow copy of currentListeners so we can use\n   * nextListeners as a temporary list while dispatching.\n   *\n   * This prevents any bugs around consumers calling\n   * subscribe/unsubscribe in the middle of a dispatch.\n   */\n\n  function ensureCanMutateNextListeners() {\n    if (nextListeners === currentListeners) {\n      nextListeners = currentListeners.slice();\n    }\n  }\n  /**\n   * Reads the state tree managed by the store.\n   *\n   * @returns {any} The current state tree of your application.\n   */\n\n\n  function getState() {\n    if (isDispatching) {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(3) : 'You may not call store.getState() while the reducer is executing. ' + 'The reducer has already received the state as an argument. ' + 'Pass it down from the top reducer instead of reading it from the store.');\n    }\n\n    return currentState;\n  }\n  /**\n   * Adds a change listener. It will be called any time an action is dispatched,\n   * and some part of the state tree may potentially have changed. You may then\n   * call `getState()` to read the current state tree inside the callback.\n   *\n   * You may call `dispatch()` from a change listener, with the following\n   * caveats:\n   *\n   * 1. The subscriptions are snapshotted just before every `dispatch()` call.\n   * If you subscribe or unsubscribe while the listeners are being invoked, this\n   * will not have any effect on the `dispatch()` that is currently in progress.\n   * However, the next `dispatch()` call, whether nested or not, will use a more\n   * recent snapshot of the subscription list.\n   *\n   * 2. The listener should not expect to see all state changes, as the state\n   * might have been updated multiple times during a nested `dispatch()` before\n   * the listener is called. It is, however, guaranteed that all subscribers\n   * registered before the `dispatch()` started will be called with the latest\n   * state by the time it exits.\n   *\n   * @param {Function} listener A callback to be invoked on every dispatch.\n   * @returns {Function} A function to remove this change listener.\n   */\n\n\n  function subscribe(listener) {\n    if (typeof listener !== 'function') {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(4) : \"Expected the listener to be a function. Instead, received: '\" + kindOf(listener) + \"'\");\n    }\n\n    if (isDispatching) {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(5) : 'You may not call store.subscribe() while the reducer is executing. ' + 'If you would like to be notified after the store has been updated, subscribe from a ' + 'component and invoke store.getState() in the callback to access the latest state. ' + 'See https://redux.js.org/api/store#subscribelistener for more details.');\n    }\n\n    var isSubscribed = true;\n    ensureCanMutateNextListeners();\n    nextListeners.push(listener);\n    return function unsubscribe() {\n      if (!isSubscribed) {\n        return;\n      }\n\n      if (isDispatching) {\n        throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(6) : 'You may not unsubscribe from a store listener while the reducer is executing. ' + 'See https://redux.js.org/api/store#subscribelistener for more details.');\n      }\n\n      isSubscribed = false;\n      ensureCanMutateNextListeners();\n      var index = nextListeners.indexOf(listener);\n      nextListeners.splice(index, 1);\n      currentListeners = null;\n    };\n  }\n  /**\n   * Dispatches an action. It is the only way to trigger a state change.\n   *\n   * The `reducer` function, used to create the store, will be called with the\n   * current state tree and the given `action`. Its return value will\n   * be considered the **next** state of the tree, and the change listeners\n   * will be notified.\n   *\n   * The base implementation only supports plain object actions. If you want to\n   * dispatch a Promise, an Observable, a thunk, or something else, you need to\n   * wrap your store creating function into the corresponding middleware. For\n   * example, see the documentation for the `redux-thunk` package. Even the\n   * middleware will eventually dispatch plain object actions using this method.\n   *\n   * @param {Object} action A plain object representing \u201Cwhat changed\u201D. It is\n   * a good idea to keep actions serializable so you can record and replay user\n   * sessions, or use the time travelling `redux-devtools`. An action must have\n   * a `type` property which may not be `undefined`. It is a good idea to use\n   * string constants for action types.\n   *\n   * @returns {Object} For convenience, the same action object you dispatched.\n   *\n   * Note that, if you use a custom middleware, it may wrap `dispatch()` to\n   * return something else (for example, a Promise you can await).\n   */\n\n\n  function dispatch(action) {\n    if (!isPlainObject(action)) {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(7) : \"Actions must be plain objects. Instead, the actual type was: '\" + kindOf(action) + \"'. You may need to add middleware to your store setup to handle dispatching other values, such as 'redux-thunk' to handle dispatching functions. See https://redux.js.org/tutorials/fundamentals/part-4-store#middleware and https://redux.js.org/tutorials/fundamentals/part-6-async-logic#using-the-redux-thunk-middleware for examples.\");\n    }\n\n    if (typeof action.type === 'undefined') {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(8) : 'Actions may not have an undefined \"type\" property. You may have misspelled an action type string constant.');\n    }\n\n    if (isDispatching) {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(9) : 'Reducers may not dispatch actions.');\n    }\n\n    try {\n      isDispatching = true;\n      currentState = currentReducer(currentState, action);\n    } finally {\n      isDispatching = false;\n    }\n\n    var listeners = currentListeners = nextListeners;\n\n    for (var i = 0; i < listeners.length; i++) {\n      var listener = listeners[i];\n      listener();\n    }\n\n    return action;\n  }\n  /**\n   * Replaces the reducer currently used by the store to calculate the state.\n   *\n   * You might need this if your app implements code splitting and you want to\n   * load some of the reducers dynamically. You might also need this if you\n   * implement a hot reloading mechanism for Redux.\n   *\n   * @param {Function} nextReducer The reducer for the store to use instead.\n   * @returns {void}\n   */\n\n\n  function replaceReducer(nextReducer) {\n    if (typeof nextReducer !== 'function') {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(10) : \"Expected the nextReducer to be a function. Instead, received: '\" + kindOf(nextReducer));\n    }\n\n    currentReducer = nextReducer; // This action has a similiar effect to ActionTypes.INIT.\n    // Any reducers that existed in both the new and old rootReducer\n    // will receive the previous state. This effectively populates\n    // the new state tree with any relevant data from the old one.\n\n    dispatch({\n      type: ActionTypes.REPLACE\n    });\n  }\n  /**\n   * Interoperability point for observable/reactive libraries.\n   * @returns {observable} A minimal observable of state changes.\n   * For more information, see the observable proposal:\n   * https://github.com/tc39/proposal-observable\n   */\n\n\n  function observable() {\n    var _ref;\n\n    var outerSubscribe = subscribe;\n    return _ref = {\n      /**\n       * The minimal observable subscription method.\n       * @param {Object} observer Any object that can be used as an observer.\n       * The observer object should have a `next` method.\n       * @returns {subscription} An object with an `unsubscribe` method that can\n       * be used to unsubscribe the observable from the store, and prevent further\n       * emission of values from the observable.\n       */\n      subscribe: function subscribe(observer) {\n        if (typeof observer !== 'object' || observer === null) {\n          throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(11) : \"Expected the observer to be an object. Instead, received: '\" + kindOf(observer) + \"'\");\n        }\n\n        function observeState() {\n          if (observer.next) {\n            observer.next(getState());\n          }\n        }\n\n        observeState();\n        var unsubscribe = outerSubscribe(observeState);\n        return {\n          unsubscribe: unsubscribe\n        };\n      }\n    }, _ref[$$observable] = function () {\n      return this;\n    }, _ref;\n  } // When a store is created, an \"INIT\" action is dispatched so that every\n  // reducer returns their initial state. This effectively populates\n  // the initial state tree.\n\n\n  dispatch({\n    type: ActionTypes.INIT\n  });\n  return _ref2 = {\n    dispatch: dispatch,\n    subscribe: subscribe,\n    getState: getState,\n    replaceReducer: replaceReducer\n  }, _ref2[$$observable] = observable, _ref2;\n}\n/**\n * Creates a Redux store that holds the state tree.\n *\n * **We recommend using `configureStore` from the\n * `@reduxjs/toolkit` package**, which replaces `createStore`:\n * **https://redux.js.org/introduction/why-rtk-is-redux-today**\n *\n * The only way to change the data in the store is to call `dispatch()` on it.\n *\n * There should only be a single store in your app. To specify how different\n * parts of the state tree respond to actions, you may combine several reducers\n * into a single reducer function by using `combineReducers`.\n *\n * @param {Function} reducer A function that returns the next state tree, given\n * the current state tree and the action to handle.\n *\n * @param {any} [preloadedState] The initial state. You may optionally specify it\n * to hydrate the state from the server in universal apps, or to restore a\n * previously serialized user session.\n * If you use `combineReducers` to produce the root reducer function, this must be\n * an object with the same shape as `combineReducers` keys.\n *\n * @param {Function} [enhancer] The store enhancer. You may optionally specify it\n * to enhance the store with third-party capabilities such as middleware,\n * time travel, persistence, etc. The only store enhancer that ships with Redux\n * is `applyMiddleware()`.\n *\n * @returns {Store} A Redux store that lets you read the state, dispatch actions\n * and subscribe to changes.\n */\n\nvar legacy_createStore = createStore;\n\n/**\n * Prints a warning in the console if it exists.\n *\n * @param {String} message The warning message.\n * @returns {void}\n */\nfunction warning(message) {\n  /* eslint-disable no-console */\n  if (typeof console !== 'undefined' && typeof console.error === 'function') {\n    console.error(message);\n  }\n  /* eslint-enable no-console */\n\n\n  try {\n    // This error was thrown as a convenience so that if you enable\n    // \"break on all exceptions\" in your console,\n    // it would pause the execution at this line.\n    throw new Error(message);\n  } catch (e) {} // eslint-disable-line no-empty\n\n}\n\nfunction getUnexpectedStateShapeWarningMessage(inputState, reducers, action, unexpectedKeyCache) {\n  var reducerKeys = Object.keys(reducers);\n  var argumentName = action && action.type === ActionTypes.INIT ? 'preloadedState argument passed to createStore' : 'previous state received by the reducer';\n\n  if (reducerKeys.length === 0) {\n    return 'Store does not have a valid reducer. Make sure the argument passed ' + 'to combineReducers is an object whose values are reducers.';\n  }\n\n  if (!isPlainObject(inputState)) {\n    return \"The \" + argumentName + \" has unexpected type of \\\"\" + kindOf(inputState) + \"\\\". Expected argument to be an object with the following \" + (\"keys: \\\"\" + reducerKeys.join('\", \"') + \"\\\"\");\n  }\n\n  var unexpectedKeys = Object.keys(inputState).filter(function (key) {\n    return !reducers.hasOwnProperty(key) && !unexpectedKeyCache[key];\n  });\n  unexpectedKeys.forEach(function (key) {\n    unexpectedKeyCache[key] = true;\n  });\n  if (action && action.type === ActionTypes.REPLACE) return;\n\n  if (unexpectedKeys.length > 0) {\n    return \"Unexpected \" + (unexpectedKeys.length > 1 ? 'keys' : 'key') + \" \" + (\"\\\"\" + unexpectedKeys.join('\", \"') + \"\\\" found in \" + argumentName + \". \") + \"Expected to find one of the known reducer keys instead: \" + (\"\\\"\" + reducerKeys.join('\", \"') + \"\\\". Unexpected keys will be ignored.\");\n  }\n}\n\nfunction assertReducerShape(reducers) {\n  Object.keys(reducers).forEach(function (key) {\n    var reducer = reducers[key];\n    var initialState = reducer(undefined, {\n      type: ActionTypes.INIT\n    });\n\n    if (typeof initialState === 'undefined') {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(12) : \"The slice reducer for key \\\"\" + key + \"\\\" returned undefined during initialization. \" + \"If the state passed to the reducer is undefined, you must \" + \"explicitly return the initial state. The initial state may \" + \"not be undefined. If you don't want to set a value for this reducer, \" + \"you can use null instead of undefined.\");\n    }\n\n    if (typeof reducer(undefined, {\n      type: ActionTypes.PROBE_UNKNOWN_ACTION()\n    }) === 'undefined') {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(13) : \"The slice reducer for key \\\"\" + key + \"\\\" returned undefined when probed with a random type. \" + (\"Don't try to handle '\" + ActionTypes.INIT + \"' or other actions in \\\"redux/*\\\" \") + \"namespace. They are considered private. Instead, you must return the \" + \"current state for any unknown actions, unless it is undefined, \" + \"in which case you must return the initial state, regardless of the \" + \"action type. The initial state may not be undefined, but can be null.\");\n    }\n  });\n}\n/**\n * Turns an object whose values are different reducer functions, into a single\n * reducer function. It will call every child reducer, and gather their results\n * into a single state object, whose keys correspond to the keys of the passed\n * reducer functions.\n *\n * @param {Object} reducers An object whose values correspond to different\n * reducer functions that need to be combined into one. One handy way to obtain\n * it is to use ES6 `import * as reducers` syntax. The reducers may never return\n * undefined for any action. Instead, they should return their initial state\n * if the state passed to them was undefined, and the current state for any\n * unrecognized action.\n *\n * @returns {Function} A reducer function that invokes every reducer inside the\n * passed object, and builds a state object with the same shape.\n */\n\n\nfunction combineReducers(reducers) {\n  var reducerKeys = Object.keys(reducers);\n  var finalReducers = {};\n\n  for (var i = 0; i < reducerKeys.length; i++) {\n    var key = reducerKeys[i];\n\n    if (process.env.NODE_ENV !== 'production') {\n      if (typeof reducers[key] === 'undefined') {\n        warning(\"No reducer provided for key \\\"\" + key + \"\\\"\");\n      }\n    }\n\n    if (typeof reducers[key] === 'function') {\n      finalReducers[key] = reducers[key];\n    }\n  }\n\n  var finalReducerKeys = Object.keys(finalReducers); // This is used to make sure we don't warn about the same\n  // keys multiple times.\n\n  var unexpectedKeyCache;\n\n  if (process.env.NODE_ENV !== 'production') {\n    unexpectedKeyCache = {};\n  }\n\n  var shapeAssertionError;\n\n  try {\n    assertReducerShape(finalReducers);\n  } catch (e) {\n    shapeAssertionError = e;\n  }\n\n  return function combination(state, action) {\n    if (state === void 0) {\n      state = {};\n    }\n\n    if (shapeAssertionError) {\n      throw shapeAssertionError;\n    }\n\n    if (process.env.NODE_ENV !== 'production') {\n      var warningMessage = getUnexpectedStateShapeWarningMessage(state, finalReducers, action, unexpectedKeyCache);\n\n      if (warningMessage) {\n        warning(warningMessage);\n      }\n    }\n\n    var hasChanged = false;\n    var nextState = {};\n\n    for (var _i = 0; _i < finalReducerKeys.length; _i++) {\n      var _key = finalReducerKeys[_i];\n      var reducer = finalReducers[_key];\n      var previousStateForKey = state[_key];\n      var nextStateForKey = reducer(previousStateForKey, action);\n\n      if (typeof nextStateForKey === 'undefined') {\n        var actionType = action && action.type;\n        throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(14) : \"When called with an action of type \" + (actionType ? \"\\\"\" + String(actionType) + \"\\\"\" : '(unknown type)') + \", the slice reducer for key \\\"\" + _key + \"\\\" returned undefined. \" + \"To ignore an action, you must explicitly return the previous state. \" + \"If you want this reducer to hold no value, you can return null instead of undefined.\");\n      }\n\n      nextState[_key] = nextStateForKey;\n      hasChanged = hasChanged || nextStateForKey !== previousStateForKey;\n    }\n\n    hasChanged = hasChanged || finalReducerKeys.length !== Object.keys(state).length;\n    return hasChanged ? nextState : state;\n  };\n}\n\nfunction bindActionCreator(actionCreator, dispatch) {\n  return function () {\n    return dispatch(actionCreator.apply(this, arguments));\n  };\n}\n/**\n * Turns an object whose values are action creators, into an object with the\n * same keys, but with every function wrapped into a `dispatch` call so they\n * may be invoked directly. This is just a convenience method, as you can call\n * `store.dispatch(MyActionCreators.doSomething())` yourself just fine.\n *\n * For convenience, you can also pass an action creator as the first argument,\n * and get a dispatch wrapped function in return.\n *\n * @param {Function|Object} actionCreators An object whose values are action\n * creator functions. One handy way to obtain it is to use ES6 `import * as`\n * syntax. You may also pass a single function.\n *\n * @param {Function} dispatch The `dispatch` function available on your Redux\n * store.\n *\n * @returns {Function|Object} The object mimicking the original object, but with\n * every action creator wrapped into the `dispatch` call. If you passed a\n * function as `actionCreators`, the return value will also be a single\n * function.\n */\n\n\nfunction bindActionCreators(actionCreators, dispatch) {\n  if (typeof actionCreators === 'function') {\n    return bindActionCreator(actionCreators, dispatch);\n  }\n\n  if (typeof actionCreators !== 'object' || actionCreators === null) {\n    throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(16) : \"bindActionCreators expected an object or a function, but instead received: '\" + kindOf(actionCreators) + \"'. \" + \"Did you write \\\"import ActionCreators from\\\" instead of \\\"import * as ActionCreators from\\\"?\");\n  }\n\n  var boundActionCreators = {};\n\n  for (var key in actionCreators) {\n    var actionCreator = actionCreators[key];\n\n    if (typeof actionCreator === 'function') {\n      boundActionCreators[key] = bindActionCreator(actionCreator, dispatch);\n    }\n  }\n\n  return boundActionCreators;\n}\n\n/**\n * Composes single-argument functions from right to left. The rightmost\n * function can take multiple arguments as it provides the signature for\n * the resulting composite function.\n *\n * @param {...Function} funcs The functions to compose.\n * @returns {Function} A function obtained by composing the argument functions\n * from right to left. For example, compose(f, g, h) is identical to doing\n * (...args) => f(g(h(...args))).\n */\nfunction compose() {\n  for (var _len = arguments.length, funcs = new Array(_len), _key = 0; _key < _len; _key++) {\n    funcs[_key] = arguments[_key];\n  }\n\n  if (funcs.length === 0) {\n    return function (arg) {\n      return arg;\n    };\n  }\n\n  if (funcs.length === 1) {\n    return funcs[0];\n  }\n\n  return funcs.reduce(function (a, b) {\n    return function () {\n      return a(b.apply(void 0, arguments));\n    };\n  });\n}\n\n/**\n * Creates a store enhancer that applies middleware to the dispatch method\n * of the Redux store. This is handy for a variety of tasks, such as expressing\n * asynchronous actions in a concise manner, or logging every action payload.\n *\n * See `redux-thunk` package as an example of the Redux middleware.\n *\n * Because middleware is potentially asynchronous, this should be the first\n * store enhancer in the composition chain.\n *\n * Note that each middleware will be given the `dispatch` and `getState` functions\n * as named arguments.\n *\n * @param {...Function} middlewares The middleware chain to be applied.\n * @returns {Function} A store enhancer applying the middleware.\n */\n\nfunction applyMiddleware() {\n  for (var _len = arguments.length, middlewares = new Array(_len), _key = 0; _key < _len; _key++) {\n    middlewares[_key] = arguments[_key];\n  }\n\n  return function (createStore) {\n    return function () {\n      var store = createStore.apply(void 0, arguments);\n\n      var _dispatch = function dispatch() {\n        throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(15) : 'Dispatching while constructing your middleware is not allowed. ' + 'Other middleware would not be applied to this dispatch.');\n      };\n\n      var middlewareAPI = {\n        getState: store.getState,\n        dispatch: function dispatch() {\n          return _dispatch.apply(void 0, arguments);\n        }\n      };\n      var chain = middlewares.map(function (middleware) {\n        return middleware(middlewareAPI);\n      });\n      _dispatch = compose.apply(void 0, chain)(store.dispatch);\n      return _objectSpread(_objectSpread({}, store), {}, {\n        dispatch: _dispatch\n      });\n    };\n  };\n}\n\nexport { ActionTypes as __DO_NOT_USE__ActionTypes, applyMiddleware, bindActionCreators, combineReducers, compose, createStore, legacy_createStore };\n", "/**\n * Use invariant() to assert state which your program assumes to be true.\n *\n * Provide sprintf-style format (only %s is supported) and arguments\n * to provide information about what broke and what you were\n * expecting.\n *\n * The invariant message will be stripped in production, but the invariant\n * will remain to ensure logic does not differ in production.\n */\n\nexport function invariant(condition: any, format: string, ...args: any[]) {\n\tif (isProduction()) {\n\t\tif (format === undefined) {\n\t\t\tthrow new Error('invariant requires an error message argument')\n\t\t}\n\t}\n\n\tif (!condition) {\n\t\tlet error\n\t\tif (format === undefined) {\n\t\t\terror = new Error(\n\t\t\t\t'Minified exception occurred; use the non-minified dev environment ' +\n\t\t\t\t\t'for the full error message and additional helpful warnings.',\n\t\t\t)\n\t\t} else {\n\t\t\tlet argIndex = 0\n\t\t\terror = new Error(\n\t\t\t\tformat.replace(/%s/g, function () {\n\t\t\t\t\treturn args[argIndex++]\n\t\t\t\t}),\n\t\t\t)\n\t\t\terror.name = 'Invariant Violation'\n\t\t}\n\n\t\t;(error as any).framesToPop = 1 // we don't care about invariant's own frame\n\t\tthrow error\n\t}\n}\n\nfunction isProduction() {\n\treturn (\n\t\ttypeof process !== 'undefined' && process.env['NODE_ENV'] === 'production'\n\t)\n}\n", "// cheap lodash replacements\n\n/**\n * drop-in replacement for _.get\n * @param obj\n * @param path\n * @param defaultValue\n */\nexport function get<T>(obj: any, path: string, defaultValue: T): T {\n\treturn path\n\t\t.split('.')\n\t\t.reduce((a, c) => (a && a[c] ? a[c] : defaultValue || null), obj) as T\n}\n\n/**\n * drop-in replacement for _.without\n */\nexport function without<T>(items: T[], item: T): T[] {\n\treturn items.filter((i) => i !== item)\n}\n\n/**\n * drop-in replacement for _.isString\n * @param input\n */\nexport function isString(input: any): boolean {\n\treturn typeof input === 'string'\n}\n\n/**\n * drop-in replacement for _.isString\n * @param input\n */\nexport function isObject(input: any): boolean {\n\treturn typeof input === 'object'\n}\n\n/**\n * replacement for _.xor\n * @param itemsA\n * @param itemsB\n */\nexport function xor<T extends string | number>(itemsA: T[], itemsB: T[]): T[] {\n\tconst map = new Map<T, number>()\n\tconst insertItem = (item: T) => {\n\t\tmap.set(item, map.has(item) ? (map.get(item) as number) + 1 : 1)\n\t}\n\titemsA.forEach(insertItem)\n\titemsB.forEach(insertItem)\n\n\tconst result: T[] = []\n\tmap.forEach((count, key) => {\n\t\tif (count === 1) {\n\t\t\tresult.push(key)\n\t\t}\n\t})\n\treturn result\n}\n\n/**\n * replacement for _.intersection\n * @param itemsA\n * @param itemsB\n */\nexport function intersection<T>(itemsA: T[], itemsB: T[]): T[] {\n\treturn itemsA.filter((t) => itemsB.indexOf(t) > -1)\n}\n", "export const INIT_COORDS = 'dnd-core/INIT_COORDS'\nexport const BEGIN_DRAG = 'dnd-core/BEGIN_DRAG'\nexport const PUBLISH_DRAG_SOURCE = 'dnd-core/PUBLISH_DRAG_SOURCE'\nexport const HOVER = 'dnd-core/HOVER'\nexport const DROP = 'dnd-core/DROP'\nexport const END_DRAG = 'dnd-core/END_DRAG'\n", "import type { AnyAction } from 'redux'\n\nimport type { XYCoord } from '../../../interfaces.js'\nimport { INIT_COORDS } from '../types.js'\n\nexport function setClientOffset(\n\tclientOffset: XYCoord | null | undefined,\n\tsourceClientOffset?: XYCoord | null | undefined,\n): AnyAction {\n\treturn {\n\t\ttype: INIT_COORDS,\n\t\tpayload: {\n\t\t\tsourceClientOffset: sourceClientOffset || null,\n\t\t\tclientOffset: clientOffset || null,\n\t\t},\n\t}\n}\n", "import { invariant } from '@react-dnd/invariant'\n\nimport type {\n\tAction,\n\tBeginDragOptions,\n\tBeginDragPayload,\n\tDragDropManager,\n\tDragDropMonitor,\n\tHandlerRegistry,\n\tIdentifier,\n\tXYCoord,\n} from '../../interfaces.js'\nimport { isObject } from '../../utils/js_utils.js'\nimport { setClientOffset } from './local/setClientOffset.js'\nimport { BEGIN_DRAG, INIT_COORDS } from './types.js'\n\nconst ResetCoordinatesAction = {\n\ttype: INIT_COORDS,\n\tpayload: {\n\t\tclientOffset: null,\n\t\tsourceClientOffset: null,\n\t},\n}\n\nexport function createBeginDrag(manager: DragDropManager) {\n\treturn function beginDrag(\n\t\tsourceIds: Identifier[] = [],\n\t\toptions: BeginDragOptions = {\n\t\t\tpublishSource: true,\n\t\t},\n\t): Action<BeginDragPayload> | undefined {\n\t\tconst {\n\t\t\tpublishSource = true,\n\t\t\tclientOffset,\n\t\t\tgetSourceClientOffset,\n\t\t}: BeginDragOptions = options\n\t\tconst monitor = manager.getMonitor()\n\t\tconst registry = manager.getRegistry()\n\n\t\t// Initialize the coordinates using the client offset\n\t\tmanager.dispatch(setClientOffset(clientOffset))\n\n\t\tverifyInvariants(sourceIds, monitor, registry)\n\n\t\t// Get the draggable source\n\t\tconst sourceId = getDraggableSource(sourceIds, monitor)\n\t\tif (sourceId == null) {\n\t\t\tmanager.dispatch(ResetCoordinatesAction)\n\t\t\treturn\n\t\t}\n\n\t\t// Get the source client offset\n\t\tlet sourceClientOffset: XYCoord | null = null\n\t\tif (clientOffset) {\n\t\t\tif (!getSourceClientOffset) {\n\t\t\t\tthrow new Error('getSourceClientOffset must be defined')\n\t\t\t}\n\t\t\tverifyGetSourceClientOffsetIsFunction(getSourceClientOffset)\n\t\t\tsourceClientOffset = getSourceClientOffset(sourceId)\n\t\t}\n\n\t\t// Initialize the full coordinates\n\t\tmanager.dispatch(setClientOffset(clientOffset, sourceClientOffset))\n\n\t\tconst source = registry.getSource(sourceId)\n\t\tconst item = source.beginDrag(monitor, sourceId)\n\t\t// If source.beginDrag returns null, this is an indicator to cancel the drag\n\t\tif (item == null) {\n\t\t\treturn undefined\n\t\t}\n\t\tverifyItemIsObject(item)\n\t\tregistry.pinSource(sourceId)\n\n\t\tconst itemType = registry.getSourceType(sourceId)\n\t\treturn {\n\t\t\ttype: BEGIN_DRAG,\n\t\t\tpayload: {\n\t\t\t\titemType,\n\t\t\t\titem,\n\t\t\t\tsourceId,\n\t\t\t\tclientOffset: clientOffset || null,\n\t\t\t\tsourceClientOffset: sourceClientOffset || null,\n\t\t\t\tisSourcePublic: !!publishSource,\n\t\t\t},\n\t\t}\n\t}\n}\n\nfunction verifyInvariants(\n\tsourceIds: Identifier[],\n\tmonitor: DragDropMonitor,\n\tregistry: HandlerRegistry,\n) {\n\tinvariant(!monitor.isDragging(), 'Cannot call beginDrag while dragging.')\n\tsourceIds.forEach(function (sourceId) {\n\t\tinvariant(\n\t\t\tregistry.getSource(sourceId),\n\t\t\t'Expected sourceIds to be registered.',\n\t\t)\n\t})\n}\n\nfunction verifyGetSourceClientOffsetIsFunction(getSourceClientOffset: any) {\n\tinvariant(\n\t\ttypeof getSourceClientOffset === 'function',\n\t\t'When clientOffset is provided, getSourceClientOffset must be a function.',\n\t)\n}\n\nfunction verifyItemIsObject(item: any) {\n\tinvariant(isObject(item), 'Item must be an object.')\n}\n\nfunction getDraggableSource(sourceIds: Identifier[], monitor: DragDropMonitor) {\n\tlet sourceId = null\n\tfor (let i = sourceIds.length - 1; i >= 0; i--) {\n\t\tif (monitor.canDragSource(sourceIds[i])) {\n\t\t\tsourceId = sourceIds[i]\n\t\t\tbreak\n\t\t}\n\t}\n\treturn sourceId\n}\n", "import { invariant } from '@react-dnd/invariant'\n\nimport type {\n\tAction,\n\tDragDropManager,\n\tDragDropMonitor,\n\tDropPayload,\n\tHandlerRegistry,\n\tIdentifier,\n} from '../../interfaces.js'\nimport { isObject } from '../../utils/js_utils.js'\nimport { DROP } from './types.js'\n\nexport function createDrop(manager: DragDropManager) {\n\treturn function drop(options = {}): void {\n\t\tconst monitor = manager.getMonitor()\n\t\tconst registry = manager.getRegistry()\n\t\tverifyInvariants(monitor)\n\t\tconst targetIds = getDroppableTargets(monitor)\n\n\t\t// Multiple actions are dispatched here, which is why this doesn't return an action\n\t\ttargetIds.forEach((targetId, index) => {\n\t\t\tconst dropResult = determineDropResult(targetId, index, registry, monitor)\n\t\t\tconst action: Action<DropPayload> = {\n\t\t\t\ttype: DROP,\n\t\t\t\tpayload: {\n\t\t\t\t\tdropResult: {\n\t\t\t\t\t\t...options,\n\t\t\t\t\t\t...dropResult,\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t}\n\t\t\tmanager.dispatch(action)\n\t\t})\n\t}\n}\n\nfunction verifyInvariants(monitor: DragDropMonitor) {\n\tinvariant(monitor.isDragging(), 'Cannot call drop while not dragging.')\n\tinvariant(\n\t\t!monitor.didDrop(),\n\t\t'Cannot call drop twice during one drag operation.',\n\t)\n}\n\nfunction determineDropResult(\n\ttargetId: Identifier,\n\tindex: number,\n\tregistry: HandlerRegistry,\n\tmonitor: DragDropMonitor,\n) {\n\tconst target = registry.getTarget(targetId)\n\tlet dropResult = target ? target.drop(monitor, targetId) : undefined\n\tverifyDropResultType(dropResult)\n\tif (typeof dropResult === 'undefined') {\n\t\tdropResult = index === 0 ? {} : monitor.getDropResult()\n\t}\n\treturn dropResult\n}\n\nfunction verifyDropResultType(dropResult: any) {\n\tinvariant(\n\t\ttypeof dropResult === 'undefined' || isObject(dropResult),\n\t\t'Drop result must either be an object or undefined.',\n\t)\n}\n\nfunction getDroppableTargets(monitor: DragDropMonitor) {\n\tconst targetIds = monitor\n\t\t.getTargetIds()\n\t\t.filter(monitor.canDropOnTarget, monitor)\n\ttargetIds.reverse()\n\treturn targetIds\n}\n", "import { invariant } from '@react-dnd/invariant'\n\nimport type {\n\tDragDropManager,\n\tDragDropMonitor,\n\tSentinelAction,\n} from '../../interfaces.js'\nimport { END_DRAG } from './types.js'\n\nexport function createEndDrag(manager: DragDropManager) {\n\treturn function endDrag(): SentinelAction {\n\t\tconst monitor = manager.getMonitor()\n\t\tconst registry = manager.getRegistry()\n\t\tverifyIsDragging(monitor)\n\n\t\tconst sourceId = monitor.getSourceId()\n\t\tif (sourceId != null) {\n\t\t\tconst source = registry.getSource(sourceId, true)\n\t\t\tsource.endDrag(monitor, sourceId)\n\t\t\tregistry.unpinSource()\n\t\t}\n\t\treturn { type: END_DRAG }\n\t}\n}\n\nfunction verifyIsDragging(monitor: DragDropMonitor) {\n\tinvariant(monitor.isDragging(), 'Cannot call endDrag while not dragging.')\n}\n", "import type { Identifier } from '../interfaces.js'\n\nexport function matchesType(\n\ttargetType: Identifier | Identifier[] | null,\n\tdraggedItemType: Identifier | null,\n): boolean {\n\tif (draggedItemType === null) {\n\t\treturn targetType === null\n\t}\n\treturn Array.isArray(targetType)\n\t\t? (targetType as Identifier[]).some((t) => t === draggedItemType)\n\t\t: targetType === draggedItemType\n}\n", "import { invariant } from '@react-dnd/invariant'\n\nimport type {\n\tAction,\n\tDragDropManager,\n\tDragDropMonitor,\n\tHandlerRegistry,\n\tHoverOptions,\n\tHoverPayload,\n\tIdentifier,\n} from '../../interfaces.js'\nimport { matchesType } from '../../utils/matchesType.js'\nimport { HOVER } from './types.js'\n\nexport function createHover(manager: DragDropManager) {\n\treturn function hover(\n\t\ttargetIdsArg: string[],\n\t\t{ clientOffset }: HoverOptions = {},\n\t): Action<HoverPayload> {\n\t\tverifyTargetIdsIsArray(targetIdsArg)\n\t\tconst targetIds = targetIdsArg.slice(0)\n\t\tconst monitor = manager.getMonitor()\n\t\tconst registry = manager.getRegistry()\n\t\tconst draggedItemType = monitor.getItemType()\n\t\tremoveNonMatchingTargetIds(targetIds, registry, draggedItemType)\n\t\tcheckInvariants(targetIds, monitor, registry)\n\t\thoverAllTargets(targetIds, monitor, registry)\n\n\t\treturn {\n\t\t\ttype: HOVER,\n\t\t\tpayload: {\n\t\t\t\ttargetIds,\n\t\t\t\tclientOffset: clientOffset || null,\n\t\t\t},\n\t\t}\n\t}\n}\n\nfunction verifyTargetIdsIsArray(targetIdsArg: string[]) {\n\tinvariant(Array.isArray(targetIdsArg), 'Expected targetIds to be an array.')\n}\n\nfunction checkInvariants(\n\ttargetIds: string[],\n\tmonitor: DragDropMonitor,\n\tregistry: HandlerRegistry,\n) {\n\tinvariant(monitor.isDragging(), 'Cannot call hover while not dragging.')\n\tinvariant(!monitor.didDrop(), 'Cannot call hover after drop.')\n\tfor (let i = 0; i < targetIds.length; i++) {\n\t\tconst targetId = targetIds[i] as string\n\t\tinvariant(\n\t\t\ttargetIds.lastIndexOf(targetId) === i,\n\t\t\t'Expected targetIds to be unique in the passed array.',\n\t\t)\n\n\t\tconst target = registry.getTarget(targetId)\n\t\tinvariant(target, 'Expected targetIds to be registered.')\n\t}\n}\n\nfunction removeNonMatchingTargetIds(\n\ttargetIds: string[],\n\tregistry: HandlerRegistry,\n\tdraggedItemType: Identifier | null,\n) {\n\t// Remove those targetIds that don't match the targetType.  This\n\t// fixes shallow isOver which would only be non-shallow because of\n\t// non-matching targets.\n\tfor (let i = targetIds.length - 1; i >= 0; i--) {\n\t\tconst targetId = targetIds[i] as string\n\t\tconst targetType = registry.getTargetType(targetId)\n\t\tif (!matchesType(targetType, draggedItemType)) {\n\t\t\ttargetIds.splice(i, 1)\n\t\t}\n\t}\n}\n\nfunction hoverAllTargets(\n\ttargetIds: string[],\n\tmonitor: DragDropMonitor,\n\tregistry: HandlerRegistry,\n) {\n\t// Finally call hover on all matching targets.\n\ttargetIds.forEach(function (targetId) {\n\t\tconst target = registry.getTarget(targetId)\n\t\ttarget.hover(monitor, targetId)\n\t})\n}\n", "import type { DragDropManager, SentinelAction } from '../../interfaces.js'\nimport { PUBLISH_DRAG_SOURCE } from './types.js'\n\nexport function createPublishDragSource(manager: DragDropManager) {\n\treturn function publishDragSource(): SentinelAction | undefined {\n\t\tconst monitor = manager.getMonitor()\n\t\tif (monitor.isDragging()) {\n\t\t\treturn { type: PUBLISH_DRAG_SOURCE }\n\t\t}\n\t\treturn\n\t}\n}\n", "import type { DragDropActions, DragDropManager } from '../../interfaces.js'\nimport { createBeginDrag } from './beginDrag.js'\nimport { createDrop } from './drop.js'\nimport { createEndDrag } from './endDrag.js'\nimport { createHover } from './hover.js'\nimport { createPublishDragSource } from './publishDragSource.js'\n\nexport * from './types.js'\n\nexport function createDragDropActions(\n\tmanager: DragDropManager,\n): DragDropActions {\n\treturn {\n\t\tbeginDrag: createBeginDrag(manager),\n\t\tpublishDragSource: createPublishDragSource(manager),\n\t\thover: createHover(manager),\n\t\tdrop: createDrop(manager),\n\t\tendDrag: createEndDrag(manager),\n\t}\n}\n", "import type { Action, Store } from 'redux'\n\nimport { createDragDropActions } from '../actions/dragDrop/index.js'\nimport type {\n\tActionCreator,\n\tBackend,\n\tDragDropActions,\n\tDragDropManager,\n\tDragDropMonitor,\n\tHandlerRegistry,\n} from '../interfaces.js'\nimport type { State } from '../reducers/index.js'\nimport type { DragDropMonitorImpl } from './DragDropMonitorImpl.js'\n\nexport class DragDropManagerImpl implements DragDropManager {\n\tprivate store: Store<State>\n\tprivate monitor: DragDropMonitor\n\tprivate backend: Backend | undefined\n\tprivate isSetUp = false\n\n\tpublic constructor(store: Store<State>, monitor: DragDropMonitor) {\n\t\tthis.store = store\n\t\tthis.monitor = monitor\n\t\tstore.subscribe(this.handleRefCountChange)\n\t}\n\n\tpublic receiveBackend(backend: Backend): void {\n\t\tthis.backend = backend\n\t}\n\n\tpublic getMonitor(): DragDropMonitor {\n\t\treturn this.monitor\n\t}\n\n\tpublic getBackend(): Backend {\n\t\treturn this.backend as Backend\n\t}\n\n\tpublic getRegistry(): HandlerRegistry {\n\t\treturn (this.monitor as DragDropMonitorImpl).registry\n\t}\n\n\tpublic getActions(): DragDropActions {\n\t\t/* eslint-disable-next-line @typescript-eslint/no-this-alias */\n\t\tconst manager = this\n\t\tconst { dispatch } = this.store\n\n\t\tfunction bindActionCreator(actionCreator: ActionCreator<any>) {\n\t\t\treturn (...args: any[]) => {\n\t\t\t\tconst action = actionCreator.apply(manager, args as any)\n\t\t\t\tif (typeof action !== 'undefined') {\n\t\t\t\t\tdispatch(action)\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tconst actions = createDragDropActions(this)\n\n\t\treturn Object.keys(actions).reduce(\n\t\t\t(boundActions: DragDropActions, key: string) => {\n\t\t\t\tconst action: ActionCreator<any> = (actions as any)[\n\t\t\t\t\tkey\n\t\t\t\t] as ActionCreator<any>\n\t\t\t\t;(boundActions as any)[key] = bindActionCreator(action)\n\t\t\t\treturn boundActions\n\t\t\t},\n\t\t\t{} as DragDropActions,\n\t\t)\n\t}\n\n\tpublic dispatch(action: Action<any>): void {\n\t\tthis.store.dispatch(action)\n\t}\n\n\tprivate handleRefCountChange = (): void => {\n\t\tconst shouldSetUp = this.store.getState().refCount > 0\n\t\tif (this.backend) {\n\t\t\tif (shouldSetUp && !this.isSetUp) {\n\t\t\t\tthis.backend.setup()\n\t\t\t\tthis.isSetUp = true\n\t\t\t} else if (!shouldSetUp && this.isSetUp) {\n\t\t\t\tthis.backend.teardown()\n\t\t\t\tthis.isSetUp = false\n\t\t\t}\n\t\t}\n\t}\n}\n", "import type { XYCoord } from '../interfaces.js'\nimport type { State } from '../reducers/dragOffset.js'\n\n/**\n * Coordinate addition\n * @param a The first coordinate\n * @param b The second coordinate\n */\nexport function add(a: XYCoord, b: XYCoord): XYCoord {\n\treturn {\n\t\tx: a.x + b.x,\n\t\ty: a.y + b.y,\n\t}\n}\n\n/**\n * Coordinate subtraction\n * @param a The first coordinate\n * @param b The second coordinate\n */\nexport function subtract(a: XYCoord, b: XYCoord): XYCoord {\n\treturn {\n\t\tx: a.x - b.x,\n\t\ty: a.y - b.y,\n\t}\n}\n\n/**\n * Returns the cartesian distance of the drag source component's position, based on its position\n * at the time when the current drag operation has started, and the movement difference.\n *\n * Returns null if no item is being dragged.\n *\n * @param state The offset state to compute from\n */\nexport function getSourceClientOffset(state: State): XYCoord | null {\n\tconst { clientOffset, initialClientOffset, initialSourceClientOffset } = state\n\tif (!clientOffset || !initialClientOffset || !initialSourceClientOffset) {\n\t\treturn null\n\t}\n\treturn subtract(\n\t\tadd(clientOffset, initialSourceClientOffset),\n\t\tinitialClientOffset,\n\t)\n}\n\n/**\n * Determines the x,y offset between the client offset and the initial client offset\n *\n * @param state The offset state to compute from\n */\nexport function getDifferenceFromInitialOffset(state: State): XYCoord | null {\n\tconst { clientOffset, initialClientOffset } = state\n\tif (!clientOffset || !initialClientOffset) {\n\t\treturn null\n\t}\n\treturn subtract(clientOffset, initialClientOffset)\n}\n", "import { intersection } from './js_utils.js'\n\nexport const NONE: string[] = []\nexport const ALL: string[] = []\n// Add these flags for debug\n;(NONE as any).__IS_NONE__ = true\n;(ALL as any).__IS_ALL__ = true\n\n/**\n * Determines if the given handler IDs are dirty or not.\n *\n * @param dirtyIds The set of dirty handler ids\n * @param handlerIds The set of handler ids to check\n */\nexport function areDirty(\n\tdirtyIds: string[],\n\thandlerIds: string[] | undefined,\n): boolean {\n\tif (dirtyIds === NONE) {\n\t\treturn false\n\t}\n\n\tif (dirtyIds === ALL || typeof handlerIds === 'undefined') {\n\t\treturn true\n\t}\n\n\tconst commonIds = intersection(handlerIds, dirtyIds)\n\treturn commonIds.length > 0\n}\n", "import { invariant } from '@react-dnd/invariant'\nimport type { Store } from 'redux'\n\nimport type {\n\tDragDropMonitor,\n\tHandlerRegistry,\n\tIdentifier,\n\tListener,\n\tUnsubscribe,\n\tXYCoord,\n} from '../interfaces.js'\nimport type { State } from '../reducers/index.js'\nimport {\n\tgetDifferenceFromInitialOffset,\n\tgetSourceClientOffset,\n} from '../utils/coords.js'\nimport { areDirty } from '../utils/dirtiness.js'\nimport { matchesType } from '../utils/matchesType.js'\n\nexport class DragDropMonitorImpl implements DragDropMonitor {\n\tprivate store: Store<State>\n\tpublic readonly registry: HandlerRegistry\n\n\tpublic constructor(store: Store<State>, registry: HandlerRegistry) {\n\t\tthis.store = store\n\t\tthis.registry = registry\n\t}\n\n\tpublic subscribeToStateChange(\n\t\tlistener: Listener,\n\t\toptions: { handlerIds?: string[] } = {},\n\t): Unsubscribe {\n\t\tconst { handlerIds } = options\n\t\tinvariant(typeof listener === 'function', 'listener must be a function.')\n\t\tinvariant(\n\t\t\ttypeof handlerIds === 'undefined' || Array.isArray(handlerIds),\n\t\t\t'handlerIds, when specified, must be an array of strings.',\n\t\t)\n\n\t\tlet prevStateId = this.store.getState().stateId\n\t\tconst handleChange = () => {\n\t\t\tconst state = this.store.getState()\n\t\t\tconst currentStateId = state.stateId\n\t\t\ttry {\n\t\t\t\tconst canSkipListener =\n\t\t\t\t\tcurrentStateId === prevStateId ||\n\t\t\t\t\t(currentStateId === prevStateId + 1 &&\n\t\t\t\t\t\t!areDirty(state.dirtyHandlerIds, handlerIds))\n\n\t\t\t\tif (!canSkipListener) {\n\t\t\t\t\tlistener()\n\t\t\t\t}\n\t\t\t} finally {\n\t\t\t\tprevStateId = currentStateId\n\t\t\t}\n\t\t}\n\n\t\treturn this.store.subscribe(handleChange)\n\t}\n\n\tpublic subscribeToOffsetChange(listener: Listener): Unsubscribe {\n\t\tinvariant(typeof listener === 'function', 'listener must be a function.')\n\n\t\tlet previousState = this.store.getState().dragOffset\n\t\tconst handleChange = () => {\n\t\t\tconst nextState = this.store.getState().dragOffset\n\t\t\tif (nextState === previousState) {\n\t\t\t\treturn\n\t\t\t}\n\n\t\t\tpreviousState = nextState\n\t\t\tlistener()\n\t\t}\n\n\t\treturn this.store.subscribe(handleChange)\n\t}\n\n\tpublic canDragSource(sourceId: string | undefined): boolean {\n\t\tif (!sourceId) {\n\t\t\treturn false\n\t\t}\n\t\tconst source = this.registry.getSource(sourceId)\n\t\tinvariant(source, `Expected to find a valid source. sourceId=${sourceId}`)\n\n\t\tif (this.isDragging()) {\n\t\t\treturn false\n\t\t}\n\n\t\treturn source.canDrag(this, sourceId)\n\t}\n\n\tpublic canDropOnTarget(targetId: string | undefined): boolean {\n\t\t// undefined on initial render\n\t\tif (!targetId) {\n\t\t\treturn false\n\t\t}\n\t\tconst target = this.registry.getTarget(targetId)\n\t\tinvariant(target, `Expected to find a valid target. targetId=${targetId}`)\n\n\t\tif (!this.isDragging() || this.didDrop()) {\n\t\t\treturn false\n\t\t}\n\n\t\tconst targetType = this.registry.getTargetType(targetId)\n\t\tconst draggedItemType = this.getItemType()\n\t\treturn (\n\t\t\tmatchesType(targetType, draggedItemType) && target.canDrop(this, targetId)\n\t\t)\n\t}\n\n\tpublic isDragging(): boolean {\n\t\treturn Boolean(this.getItemType())\n\t}\n\n\tpublic isDraggingSource(sourceId: string | undefined): boolean {\n\t\t// undefined on initial render\n\t\tif (!sourceId) {\n\t\t\treturn false\n\t\t}\n\t\tconst source = this.registry.getSource(sourceId, true)\n\t\tinvariant(source, `Expected to find a valid source. sourceId=${sourceId}`)\n\n\t\tif (!this.isDragging() || !this.isSourcePublic()) {\n\t\t\treturn false\n\t\t}\n\n\t\tconst sourceType = this.registry.getSourceType(sourceId)\n\t\tconst draggedItemType = this.getItemType()\n\t\tif (sourceType !== draggedItemType) {\n\t\t\treturn false\n\t\t}\n\n\t\treturn source.isDragging(this, sourceId)\n\t}\n\n\tpublic isOverTarget(\n\t\ttargetId: string | undefined,\n\t\toptions = { shallow: false },\n\t): boolean {\n\t\t// undefined on initial render\n\t\tif (!targetId) {\n\t\t\treturn false\n\t\t}\n\n\t\tconst { shallow } = options\n\t\tif (!this.isDragging()) {\n\t\t\treturn false\n\t\t}\n\n\t\tconst targetType = this.registry.getTargetType(targetId)\n\t\tconst draggedItemType = this.getItemType()\n\t\tif (draggedItemType && !matchesType(targetType, draggedItemType)) {\n\t\t\treturn false\n\t\t}\n\n\t\tconst targetIds = this.getTargetIds()\n\t\tif (!targetIds.length) {\n\t\t\treturn false\n\t\t}\n\n\t\tconst index = targetIds.indexOf(targetId)\n\t\tif (shallow) {\n\t\t\treturn index === targetIds.length - 1\n\t\t} else {\n\t\t\treturn index > -1\n\t\t}\n\t}\n\n\tpublic getItemType(): Identifier {\n\t\treturn this.store.getState().dragOperation.itemType as Identifier\n\t}\n\n\tpublic getItem(): any {\n\t\treturn this.store.getState().dragOperation.item\n\t}\n\n\tpublic getSourceId(): string | null {\n\t\treturn this.store.getState().dragOperation.sourceId\n\t}\n\n\tpublic getTargetIds(): string[] {\n\t\treturn this.store.getState().dragOperation.targetIds\n\t}\n\n\tpublic getDropResult(): any {\n\t\treturn this.store.getState().dragOperation.dropResult\n\t}\n\n\tpublic didDrop(): boolean {\n\t\treturn this.store.getState().dragOperation.didDrop\n\t}\n\n\tpublic isSourcePublic(): boolean {\n\t\treturn Boolean(this.store.getState().dragOperation.isSourcePublic)\n\t}\n\n\tpublic getInitialClientOffset(): XYCoord | null {\n\t\treturn this.store.getState().dragOffset.initialClientOffset\n\t}\n\n\tpublic getInitialSourceClientOffset(): XYCoord | null {\n\t\treturn this.store.getState().dragOffset.initialSourceClientOffset\n\t}\n\n\tpublic getClientOffset(): XYCoord | null {\n\t\treturn this.store.getState().dragOffset.clientOffset\n\t}\n\n\tpublic getSourceClientOffset(): XYCoord | null {\n\t\treturn getSourceClientOffset(this.store.getState().dragOffset)\n\t}\n\n\tpublic getDifferenceFromInitialOffset(): XYCoord | null {\n\t\treturn getDifferenceFromInitialOffset(this.store.getState().dragOffset)\n\t}\n}\n", "// Safari 6 and 6.1 for desktop, iPad, and iPhone are the only browsers that\n// have WebKitMutationObserver but not un-prefixed MutationObserver.\n// Must use `global` or `self` instead of `window` to work in both frames and web\n// workers. `global` is a provision of Browserify, Mr, Mrs, or Mop.\n\n/* globals self */\nconst scope = typeof global !== 'undefined' ? global : self\nconst BrowserMutationObserver =\n\t(scope as any).MutationObserver || (scope as any).WebKitMutationObserver\n\nexport function makeRequestCallFromTimer(callback: () => void) {\n\treturn function requestCall() {\n\t\t// We dispatch a timeout with a specified delay of 0 for engines that\n\t\t// can reliably accommodate that request. This will usually be snapped\n\t\t// to a 4 milisecond delay, but once we're flushing, there's no delay\n\t\t// between events.\n\t\tconst timeoutHandle = setTimeout(handleTimer, 0)\n\t\t// However, since this timer gets frequently dropped in Firefox\n\t\t// workers, we enlist an interval handle that will try to fire\n\t\t// an event 20 times per second until it succeeds.\n\t\tconst intervalHandle = setInterval(handleTimer, 50)\n\n\t\tfunction handleTimer() {\n\t\t\t// Whichever timer succeeds will cancel both timers and\n\t\t\t// execute the callback.\n\t\t\tclearTimeout(timeoutHandle)\n\t\t\tclearInterval(intervalHandle)\n\t\t\tcallback()\n\t\t}\n\t}\n}\n\n// To request a high priority event, we induce a mutation observer by toggling\n// the text of a text node between \"1\" and \"-1\".\nexport function makeRequestCallFromMutationObserver(callback: () => void) {\n\tlet toggle = 1\n\tconst observer = new BrowserMutationObserver(callback)\n\tconst node = document.createTextNode('')\n\tobserver.observe(node, { characterData: true })\n\treturn function requestCall() {\n\t\ttoggle = -toggle\n\t\t;(node as any).data = toggle\n\t}\n}\n\nexport const makeRequestCall =\n\ttypeof BrowserMutationObserver === 'function'\n\t\t? // MutationObservers are desirable because they have high priority and work\n\t\t  // reliably everywhere they are implemented.\n\t\t  // They are implemented in all modern browsers.\n\t\t  //\n\t\t  // - Android 4-4.3\n\t\t  // - Chrome 26-34\n\t\t  // - Firefox 14-29\n\t\t  // - Internet Explorer 11\n\t\t  // - iPad Safari 6-7.1\n\t\t  // - iPhone Safari 7-7.1\n\t\t  // - Safari 6-7\n\t\t  makeRequestCallFromMutationObserver\n\t\t: // MessageChannels are desirable because they give direct access to the HTML\n\t\t  // task queue, are implemented in Internet Explorer 10, Safari 5.0-1, and Opera\n\t\t  // 11-12, and in web workers in many engines.\n\t\t  // Although message channels yield to any queued rendering and IO tasks, they\n\t\t  // would be better than imposing the 4ms delay of timers.\n\t\t  // However, they do not work reliably in Internet Explorer or Safari.\n\n\t\t  // Internet Explorer 10 is the only browser that has setImmediate but does\n\t\t  // not have MutationObservers.\n\t\t  // Although setImmediate yields to the browser's renderer, it would be\n\t\t  // preferrable to falling back to setTimeout since it does not have\n\t\t  // the minimum 4ms penalty.\n\t\t  // Unfortunately there appears to be a bug in Internet Explorer 10 Mobile (and\n\t\t  // Desktop to a lesser extent) that renders both setImmediate and\n\t\t  // MessageChannel useless for the purposes of ASAP.\n\t\t  // https://github.com/kriskowal/q/issues/396\n\n\t\t  // Timers are implemented universally.\n\t\t  // We fall back to timers in workers in most engines, and in foreground\n\t\t  // contexts in the following browsers.\n\t\t  // However, note that even this simple case requires nuances to operate in a\n\t\t  // broad spectrum of browsers.\n\t\t  //\n\t\t  // - Firefox 3-13\n\t\t  // - Internet Explorer 6-9\n\t\t  // - iPad Safari 4.3\n\t\t  // - Lynx 2.8.7\n\t\t  makeRequestCallFromTimer\n", "/* eslint-disable no-restricted-globals, @typescript-eslint/ban-ts-comment, @typescript-eslint/no-unused-vars, @typescript-eslint/no-non-null-assertion */\nimport { makeRequestCall, makeRequestCallFromTimer } from './makeRequestCall.js'\nimport type { Task } from './types.js'\n\nexport class AsapQueue {\n\tprivate queue: Task[] = []\n\t// We queue errors to ensure they are thrown in right order (FIFO).\n\t// Array-as-queue is good enough here, since we are just dealing with exceptions.\n\tprivate pendingErrors: any[] = []\n\t// Once a flush has been requested, no further calls to `requestFlush` are\n\t// necessary until the next `flush` completes.\n\t// @ts-ignore\n\tprivate flushing = false\n\t// `requestFlush` is an implementation-specific method that attempts to kick\n\t// off a `flush` event as quickly as possible. `flush` will attempt to exhaust\n\t// the event queue before yielding to the browser's own event loop.\n\tprivate requestFlush: () => void\n\n\tprivate requestErrorThrow: () => void\n\t// The position of the next task to execute in the task queue. This is\n\t// preserved between calls to `flush` so that it can be resumed if\n\t// a task throws an exception.\n\tprivate index = 0\n\t// If a task schedules additional tasks recursively, the task queue can grow\n\t// unbounded. To prevent memory exhaustion, the task queue will periodically\n\t// truncate already-completed tasks.\n\tprivate capacity = 1024\n\n\tpublic constructor() {\n\t\t// `requestFlush` requests that the high priority event queue be flushed as\n\t\t// soon as possible.\n\t\t// This is useful to prevent an error thrown in a task from stalling the event\n\t\t// queue if the exception handled by Node.js’s\n\t\t// `process.on(\"uncaughtException\")` or by a domain.\n\n\t\t// `requestFlush` is implemented using a strategy based on data collected from\n\t\t// every available SauceLabs Selenium web driver worker at time of writing.\n\t\t// https://docs.google.com/spreadsheets/d/1mG-5UYGup5qxGdEMWkhP6BWCz053NUb2E1QoUTU16uA/edit#gid=783724593\n\t\tthis.requestFlush = makeRequestCall(this.flush)\n\t\tthis.requestErrorThrow = makeRequestCallFromTimer(() => {\n\t\t\t// Throw first error\n\t\t\tif (this.pendingErrors.length) {\n\t\t\t\tthrow this.pendingErrors.shift()\n\t\t\t}\n\t\t})\n\t}\n\n\t// Use the fastest means possible to execute a task in its own turn, with\n\t// priority over other events including IO, animation, reflow, and redraw\n\t// events in browsers.\n\t//\n\t// An exception thrown by a task will permanently interrupt the processing of\n\t// subsequent tasks. The higher level `asap` function ensures that if an\n\t// exception is thrown by a task, that the task queue will continue flushing as\n\t// soon as possible, but if you use `rawAsap` directly, you are responsible to\n\t// either ensure that no exceptions are thrown from your task, or to manually\n\t// call `rawAsap.requestFlush` if an exception is thrown.\n\tpublic enqueueTask(task: Task): void {\n\t\tconst { queue: q, requestFlush } = this\n\t\tif (!q.length) {\n\t\t\trequestFlush()\n\t\t\tthis.flushing = true\n\t\t}\n\t\t// Equivalent to push, but avoids a function call.\n\t\tq[q.length] = task\n\t}\n\n\t// The flush function processes all tasks that have been scheduled with\n\t// `rawAsap` unless and until one of those tasks throws an exception.\n\t// If a task throws an exception, `flush` ensures that its state will remain\n\t// consistent and will resume where it left off when called again.\n\t// However, `flush` does not make any arrangements to be called again if an\n\t// exception is thrown.\n\tprivate flush = () => {\n\t\tconst { queue: q } = this\n\t\twhile (this.index < q.length) {\n\t\t\tconst currentIndex = this.index\n\t\t\t// Advance the index before calling the task. This ensures that we will\n\t\t\t// begin flushing on the next task the task throws an error.\n\t\t\tthis.index++\n\t\t\tq[currentIndex]!.call()\n\t\t\t// Prevent leaking memory for long chains of recursive calls to `asap`.\n\t\t\t// If we call `asap` within tasks scheduled by `asap`, the queue will\n\t\t\t// grow, but to avoid an O(n) walk for every task we execute, we don't\n\t\t\t// shift tasks off the queue after they have been executed.\n\t\t\t// Instead, we periodically shift 1024 tasks off the queue.\n\t\t\tif (this.index > this.capacity) {\n\t\t\t\t// Manually shift all values starting at the index back to the\n\t\t\t\t// beginning of the queue.\n\t\t\t\tfor (\n\t\t\t\t\tlet scan = 0, newLength = q.length - this.index;\n\t\t\t\t\tscan < newLength;\n\t\t\t\t\tscan++\n\t\t\t\t) {\n\t\t\t\t\tq[scan] = q[scan + this.index]!\n\t\t\t\t}\n\t\t\t\tq.length -= this.index\n\t\t\t\tthis.index = 0\n\t\t\t}\n\t\t}\n\t\tq.length = 0\n\t\tthis.index = 0\n\t\tthis.flushing = false\n\t}\n\n\t// In a web browser, exceptions are not fatal. However, to avoid\n\t// slowing down the queue of pending tasks, we rethrow the error in a\n\t// lower priority turn.\n\tpublic registerPendingError = (err: any) => {\n\t\tthis.pendingErrors.push(err)\n\t\tthis.requestErrorThrow()\n\t}\n}\n\n// The message channel technique was discovered by Malte Ubl and was the\n// original foundation for this library.\n// http://www.nonblocking.io/2011/06/windownexttick.html\n\n// Safari 6.0.5 (at least) intermittently fails to create message ports on a\n// page's first load. Thankfully, this version of Safari supports\n// MutationObservers, so we don't need to fall back in that case.\n\n// function makeRequestCallFromMessageChannel(callback) {\n//     var channel = new MessageChannel();\n//     channel.port1.onmessage = callback;\n//     return function requestCall() {\n//         channel.port2.postMessage(0);\n//     };\n// }\n\n// For reasons explained above, we are also unable to use `setImmediate`\n// under any circumstances.\n// Even if we were, there is another bug in Internet Explorer 10.\n// It is not sufficient to assign `setImmediate` to `requestFlush` because\n// `setImmediate` must be called *by name* and therefore must be wrapped in a\n// closure.\n// Never forget.\n\n// function makeRequestCallFromSetImmediate(callback) {\n//     return function requestCall() {\n//         setImmediate(callback);\n//     };\n// }\n\n// Safari 6.0 has a problem where timers will get lost while the user is\n// scrolling. This problem does not impact ASAP because Safari 6.0 supports\n// mutation observers, so that implementation is used instead.\n// However, if we ever elect to use timers in Safari, the prevalent work-around\n// is to add a scroll event listener that calls for a flush.\n\n// `setTimeout` does not call the passed callback if the delay is less than\n// approximately 7 in web workers in Firefox 8 through 18, and sometimes not\n// even then.\n\n// This is for `asap.js` only.\n// Its name will be periodically randomized to break any code that depends on\n// // its existence.\n// rawAsap.makeRequestCallFromTimer = makeRequestCallFromTimer\n\n// ASAP was originally a nextTick shim included in Q. This was factored out\n// into this ASAP package. It was later adapted to RSVP which made further\n// amendments. These decisions, particularly to marginalize MessageChannel and\n// to capture the MutationObserver implementation in a closure, were integrated\n// back into ASAP proper.\n// https://github.com/tildeio/rsvp.js/blob/cddf7232546a9cf858524b75cde6f9edf72620a7/lib/rsvp/asap.js\n", "// We wrap tasks with recyclable task objects.  A task object implements\n\nimport type { Task, TaskFn } from 'types'\n\n// `call`, just like a function.\nexport class RawTask implements Task {\n\tpublic task: TaskFn | null = null\n\n\tpublic constructor(\n\t\tprivate onError: (err: any) => void,\n\t\tprivate release: (t: RawTask) => void,\n\t) {}\n\n\tpublic call() {\n\t\ttry {\n\t\t\tthis.task && this.task()\n\t\t} catch (error) {\n\t\t\tthis.onError(error)\n\t\t} finally {\n\t\t\tthis.task = null\n\t\t\tthis.release(this)\n\t\t}\n\t}\n}\n", "import { RawTask } from './RawTask.js'\nimport type { Task } from './types.js'\n\nexport class TaskFactory {\n\tprivate freeTasks: RawTask[] = []\n\n\tpublic constructor(private onError: (err: any) => void) {}\n\n\tpublic create(task: () => void): Task {\n\t\tconst tasks = this.freeTasks\n\t\tconst t = tasks.length\n\t\t\t? (tasks.pop() as RawTask)\n\t\t\t: new RawTask(this.onError, (t) => (tasks[tasks.length] = t))\n\t\tt.task = task\n\t\treturn t\n\t}\n}\n", "import { AsapQueue } from './AsapQueue.js'\nimport { TaskFactory } from './TaskFactory.js'\nimport type { TaskFn } from './types.js'\n\nconst asapQueue = new AsapQueue()\nconst taskFactory = new TaskFactory(asapQueue.registerPendingError)\n\n/**\n * Calls a task as soon as possible after returning, in its own event, with priority\n * over other events like animation, reflow, and repaint. An error thrown from an\n * event will not interrupt, nor even substantially slow down the processing of\n * other events, but will be rather postponed to a lower priority event.\n * @param {{call}} task A callable object, typically a function that takes no\n * arguments.\n */\nexport function asap(task: TaskFn) {\n\tasapQueue.enqueueTask(taskFactory.create(task))\n}\n", "import type { Action, SourceIdPayload, TargetIdPayload } from '../interfaces.js'\n\nexport const ADD_SOURCE = 'dnd-core/ADD_SOURCE'\nexport const ADD_TARGET = 'dnd-core/ADD_TARGET'\nexport const REMOVE_SOURCE = 'dnd-core/REMOVE_SOURCE'\nexport const REMOVE_TARGET = 'dnd-core/REMOVE_TARGET'\n\nexport function addSource(sourceId: string): Action<SourceIdPayload> {\n\treturn {\n\t\ttype: ADD_SOURCE,\n\t\tpayload: {\n\t\t\tsourceId,\n\t\t},\n\t}\n}\n\nexport function addTarget(targetId: string): Action<TargetIdPayload> {\n\treturn {\n\t\ttype: ADD_TARGET,\n\t\tpayload: {\n\t\t\ttargetId,\n\t\t},\n\t}\n}\n\nexport function removeSource(sourceId: string): Action<SourceIdPayload> {\n\treturn {\n\t\ttype: REMOVE_SOURCE,\n\t\tpayload: {\n\t\t\tsourceId,\n\t\t},\n\t}\n}\n\nexport function removeTarget(targetId: string): Action<TargetIdPayload> {\n\treturn {\n\t\ttype: REMOVE_TARGET,\n\t\tpayload: {\n\t\t\ttargetId,\n\t\t},\n\t}\n}\n", "import { invariant } from '@react-dnd/invariant'\n\nimport type { DragSource, DropTarget, Identifier } from './interfaces.js'\n\nexport function validateSourceContract(source: DragSource): void {\n\tinvariant(\n\t\ttypeof source.canDrag === 'function',\n\t\t'Expected canDrag to be a function.',\n\t)\n\tinvariant(\n\t\ttypeof source.beginDrag === 'function',\n\t\t'Expected beginDrag to be a function.',\n\t)\n\tinvariant(\n\t\ttypeof source.endDrag === 'function',\n\t\t'Expected endDrag to be a function.',\n\t)\n}\n\nexport function validateTargetContract(target: DropTarget): void {\n\tinvariant(\n\t\ttypeof target.canDrop === 'function',\n\t\t'Expected canDrop to be a function.',\n\t)\n\tinvariant(\n\t\ttypeof target.hover === 'function',\n\t\t'Expected hover to be a function.',\n\t)\n\tinvariant(\n\t\ttypeof target.drop === 'function',\n\t\t'Expected beginDrag to be a function.',\n\t)\n}\n\nexport function validateType(\n\ttype: Identifier | Identifier[],\n\tallowArray?: boolean,\n): void {\n\tif (allowArray && Array.isArray(type)) {\n\t\ttype.forEach((t) => validateType(t, false))\n\t\treturn\n\t}\n\n\tinvariant(\n\t\ttypeof type === 'string' || typeof type === 'symbol',\n\t\tallowArray\n\t\t\t? 'Type can only be a string, a symbol, or an array of either.'\n\t\t\t: 'Type can only be a string or a symbol.',\n\t)\n}\n", "export type Identifier = string | symbol\nexport type SourceType = Identifier\nexport type TargetType = Identifier | Identifier[]\nexport type Unsubscribe = () => void\nexport type Listener = () => void\n\nexport interface XYCoord {\n\tx: number\n\ty: number\n}\n\nexport enum HandlerRole {\n\tSOURCE = 'SOURCE',\n\tTARGET = 'TARGET',\n}\n\nexport interface Backend {\n\tsetup(): void\n\tteardown(): void\n\tconnectDragSource(sourceId: any, node?: any, options?: any): Unsubscribe\n\tconnectDragPreview(sourceId: any, node?: any, options?: any): Unsubscribe\n\tconnectDropTarget(targetId: any, node?: any, options?: any): Unsubscribe\n\tprofile(): Record<string, number>\n}\n\nexport interface DragDropMonitor {\n\tsubscribeToStateChange(\n\t\tlistener: Listener,\n\t\toptions?: {\n\t\t\thandlerIds?: Identifier[]\n\t\t},\n\t): Unsubscribe\n\tsubscribeToOffsetChange(listener: Listener): Unsubscribe\n\tcanDragSource(sourceId: Identifier | undefined): boolean\n\tcanDropOnTarget(targetId: Identifier | undefined): boolean\n\n\t/**\n\t * Returns true if a drag operation is in progress, and either the owner initiated the drag, or its isDragging()\n\t * is defined and returns true.\n\t */\n\tisDragging(): boolean\n\tisDraggingSource(sourceId: Identifier | undefined): boolean\n\tisOverTarget(\n\t\ttargetId: Identifier | undefined,\n\t\toptions?: {\n\t\t\tshallow?: boolean\n\t\t},\n\t): boolean\n\n\t/**\n\t * Returns a string or a symbol identifying the type of the current dragged item. Returns null if no item is being dragged.\n\t */\n\tgetItemType(): Identifier | null\n\n\t/**\n\t * Returns a plain object representing the currently dragged item. Every drag source must specify it by returning an object\n\t * from its beginDrag() method. Returns null if no item is being dragged.\n\t */\n\tgetItem(): any\n\tgetSourceId(): Identifier | null\n\tgetTargetIds(): Identifier[]\n\t/**\n\t * Returns a plain object representing the last recorded drop result. The drop targets may optionally specify it by returning an\n\t * object from their drop() methods. When a chain of drop() is dispatched for the nested targets, bottom up, any parent that\n\t * explicitly returns its own result from drop() overrides the child drop result previously set by the child. Returns null if\n\t * called outside endDrag().\n\t */\n\tgetDropResult(): any\n\t/**\n\t * Returns true if some drop target has handled the drop event, false otherwise. Even if a target did not return a drop result,\n\t * didDrop() returns true. Use it inside endDrag() to test whether any drop target has handled the drop. Returns false if called\n\t * outside endDrag().\n\t */\n\tdidDrop(): boolean\n\tisSourcePublic(): boolean | null\n\t/**\n\t * Returns the { x, y } client offset of the pointer at the time when the current drag operation has started.\n\t * Returns null if no item is being dragged.\n\t */\n\tgetInitialClientOffset(): XYCoord | null\n\t/**\n\t * Returns the { x, y } client offset of the drag source component's root DOM node at the time when the current drag\n\t * operation has started. Returns null if no item is being dragged.\n\t */\n\tgetInitialSourceClientOffset(): XYCoord | null\n\n\t/**\n\t * Returns the last recorded { x, y } client offset of the pointer while a drag operation is in progress.\n\t * Returns null if no item is being dragged.\n\t */\n\tgetClientOffset(): XYCoord | null\n\n\t/**\n\t * Returns the projected { x, y } client offset of the drag source component's root DOM node, based on its position at the time\n\t * when the current drag operation has started, and the movement difference. Returns null if no item is being dragged.\n\t */\n\tgetSourceClientOffset(): XYCoord | null\n\n\t/**\n\t * Returns the { x, y } difference between the last recorded client offset of the pointer and the client offset when the current\n\t * drag operation has started. Returns null if no item is being dragged.\n\t */\n\tgetDifferenceFromInitialOffset(): XYCoord | null\n}\n\nexport interface HandlerRegistry {\n\taddSource(type: SourceType, source: DragSource): Identifier\n\taddTarget(type: TargetType, target: DropTarget): Identifier\n\tcontainsHandler(handler: DragSource | DropTarget): boolean\n\tgetSource(sourceId: Identifier, includePinned?: boolean): DragSource\n\tgetSourceType(sourceId: Identifier): SourceType\n\tgetTargetType(targetId: Identifier): TargetType\n\tgetTarget(targetId: Identifier): DropTarget\n\tisSourceId(handlerId: Identifier): boolean\n\tisTargetId(handlerId: Identifier): boolean\n\tremoveSource(sourceId: Identifier): void\n\tremoveTarget(targetId: Identifier): void\n\tpinSource(sourceId: Identifier): void\n\tunpinSource(): void\n}\n\nexport interface Action<Payload> {\n\ttype: Identifier\n\tpayload: Payload\n}\nexport interface SentinelAction {\n\ttype: Identifier\n}\n\nexport type ActionCreator<Payload> = (args: any[]) => Action<Payload>\n\nexport interface BeginDragOptions {\n\tpublishSource?: boolean\n\tclientOffset?: XYCoord\n\tgetSourceClientOffset?: (sourceId: Identifier | undefined) => XYCoord\n}\n\nexport interface InitCoordsPayload {\n\tclientOffset: XYCoord | null\n\tsourceClientOffset: XYCoord | null\n}\n\nexport interface BeginDragPayload {\n\titemType: Identifier\n\titem: any\n\tsourceId: Identifier\n\tclientOffset: XYCoord | null\n\tsourceClientOffset: XYCoord | null\n\tisSourcePublic: boolean\n}\n\nexport interface HoverPayload {\n\ttargetIds: Identifier[]\n\tclientOffset: XYCoord | null\n}\n\nexport interface HoverOptions {\n\tclientOffset?: XYCoord\n}\n\nexport interface DropPayload {\n\tdropResult: any\n}\n\nexport interface TargetIdPayload {\n\ttargetId: Identifier\n}\n\nexport interface SourceIdPayload {\n\tsourceId: Identifier\n}\n\nexport interface DragDropActions {\n\tbeginDrag(\n\t\tsourceIds?: Identifier[],\n\t\toptions?: any,\n\t): Action<BeginDragPayload> | undefined\n\tpublishDragSource(): SentinelAction | undefined\n\thover(targetIds: Identifier[], options?: any): Action<HoverPayload>\n\tdrop(options?: any): void\n\tendDrag(): SentinelAction\n}\n\nexport interface DragDropManager {\n\tgetMonitor(): DragDropMonitor\n\tgetBackend(): Backend\n\tgetRegistry(): HandlerRegistry\n\tgetActions(): DragDropActions\n\tdispatch(action: any): void\n}\n\nexport type BackendFactory = (\n\tmanager: DragDropManager,\n\tglobalContext?: any,\n\tconfiguration?: any,\n) => Backend\n\nexport interface DragSource {\n\tbeginDrag(monitor: DragDropMonitor, targetId: Identifier): void\n\tendDrag(monitor: DragDropMonitor, targetId: Identifier): void\n\tcanDrag(monitor: DragDropMonitor, targetId: Identifier): boolean\n\tisDragging(monitor: DragDropMonitor, targetId: Identifier): boolean\n}\n\nexport interface DropTarget {\n\tcanDrop(monitor: DragDropMonitor, targetId: Identifier): boolean\n\thover(monitor: DragDropMonitor, targetId: Identifier): void\n\tdrop(monitor: DragDropMonitor, targetId: Identifier): any\n}\n", "let nextUniqueId = 0\n\nexport function getNextUniqueId(): number {\n\treturn nextUniqueId++\n}\n", "import { asap } from '@react-dnd/asap'\nimport { invariant } from '@react-dnd/invariant'\nimport type { Store } from 'redux'\n\nimport {\n\taddSource,\n\taddTarget,\n\tremoveSource,\n\tremoveTarget,\n} from '../actions/registry.js'\nimport {\n\tvalidateSourceContract,\n\tvalidateTargetContract,\n\tvalidateType,\n} from '../contracts.js'\nimport type {\n\tDragSource,\n\tDropTarget,\n\tHandlerRegistry,\n\tIdentifier,\n\tSourceType,\n\tTargetType,\n} from '../interfaces.js'\nimport { HandlerRole } from '../interfaces.js'\nimport type { State } from '../reducers/index.js'\nimport { getNextUniqueId } from '../utils/getNextUniqueId.js'\n\nfunction getNextHandlerId(role: HandlerRole): string {\n\tconst id = getNextUniqueId().toString()\n\tswitch (role) {\n\t\tcase HandlerRole.SOURCE:\n\t\t\treturn `S${id}`\n\t\tcase HandlerRole.TARGET:\n\t\t\treturn `T${id}`\n\t\tdefault:\n\t\t\tthrow new Error(`Unknown Handler Role: ${role}`)\n\t}\n}\n\nfunction parseRoleFromHandlerId(handlerId: string) {\n\tswitch (handlerId[0]) {\n\t\tcase 'S':\n\t\t\treturn HandlerRole.SOURCE\n\t\tcase 'T':\n\t\t\treturn HandlerRole.TARGET\n\t\tdefault:\n\t\t\tthrow new Error(`Cannot parse handler ID: ${handlerId}`)\n\t}\n}\n\nfunction mapContainsValue<T>(map: Map<string, T>, searchValue: T) {\n\tconst entries = map.entries()\n\tlet isDone = false\n\tdo {\n\t\tconst {\n\t\t\tdone,\n\t\t\tvalue: [, value],\n\t\t} = entries.next()\n\t\tif (value === searchValue) {\n\t\t\treturn true\n\t\t}\n\t\tisDone = !!done\n\t} while (!isDone)\n\treturn false\n}\n\nexport class HandlerRegistryImpl implements HandlerRegistry {\n\tprivate types: Map<string, SourceType | TargetType> = new Map()\n\tprivate dragSources: Map<string, DragSource> = new Map()\n\tprivate dropTargets: Map<string, DropTarget> = new Map()\n\tprivate pinnedSourceId: string | null = null\n\tprivate pinnedSource: any = null\n\tprivate store: Store<State>\n\n\tpublic constructor(store: Store<State>) {\n\t\tthis.store = store\n\t}\n\n\tpublic addSource(type: SourceType, source: DragSource): string {\n\t\tvalidateType(type)\n\t\tvalidateSourceContract(source)\n\n\t\tconst sourceId = this.addHandler(HandlerRole.SOURCE, type, source)\n\t\tthis.store.dispatch(addSource(sourceId))\n\t\treturn sourceId\n\t}\n\n\tpublic addTarget(type: TargetType, target: DropTarget): string {\n\t\tvalidateType(type, true)\n\t\tvalidateTargetContract(target)\n\n\t\tconst targetId = this.addHandler(HandlerRole.TARGET, type, target)\n\t\tthis.store.dispatch(addTarget(targetId))\n\t\treturn targetId\n\t}\n\n\tpublic containsHandler(handler: DragSource | DropTarget): boolean {\n\t\treturn (\n\t\t\tmapContainsValue(this.dragSources, handler) ||\n\t\t\tmapContainsValue(this.dropTargets, handler)\n\t\t)\n\t}\n\n\tpublic getSource(sourceId: string, includePinned = false): DragSource {\n\t\tinvariant(this.isSourceId(sourceId), 'Expected a valid source ID.')\n\t\tconst isPinned = includePinned && sourceId === this.pinnedSourceId\n\t\tconst source = isPinned ? this.pinnedSource : this.dragSources.get(sourceId)\n\t\treturn source\n\t}\n\n\tpublic getTarget(targetId: string): DropTarget {\n\t\tinvariant(this.isTargetId(targetId), 'Expected a valid target ID.')\n\t\treturn this.dropTargets.get(targetId) as DropTarget\n\t}\n\n\tpublic getSourceType(sourceId: string): Identifier {\n\t\tinvariant(this.isSourceId(sourceId), 'Expected a valid source ID.')\n\t\treturn this.types.get(sourceId) as Identifier\n\t}\n\n\tpublic getTargetType(targetId: string): Identifier | Identifier[] {\n\t\tinvariant(this.isTargetId(targetId), 'Expected a valid target ID.')\n\t\treturn this.types.get(targetId) as Identifier | Identifier[]\n\t}\n\n\tpublic isSourceId(handlerId: string): boolean {\n\t\tconst role = parseRoleFromHandlerId(handlerId)\n\t\treturn role === HandlerRole.SOURCE\n\t}\n\n\tpublic isTargetId(handlerId: string): boolean {\n\t\tconst role = parseRoleFromHandlerId(handlerId)\n\t\treturn role === HandlerRole.TARGET\n\t}\n\n\tpublic removeSource(sourceId: string): void {\n\t\tinvariant(this.getSource(sourceId), 'Expected an existing source.')\n\t\tthis.store.dispatch(removeSource(sourceId))\n\t\tasap(() => {\n\t\t\tthis.dragSources.delete(sourceId)\n\t\t\tthis.types.delete(sourceId)\n\t\t})\n\t}\n\n\tpublic removeTarget(targetId: string): void {\n\t\tinvariant(this.getTarget(targetId), 'Expected an existing target.')\n\t\tthis.store.dispatch(removeTarget(targetId))\n\t\tthis.dropTargets.delete(targetId)\n\t\tthis.types.delete(targetId)\n\t}\n\n\tpublic pinSource(sourceId: string): void {\n\t\tconst source = this.getSource(sourceId)\n\t\tinvariant(source, 'Expected an existing source.')\n\n\t\tthis.pinnedSourceId = sourceId\n\t\tthis.pinnedSource = source\n\t}\n\n\tpublic unpinSource(): void {\n\t\tinvariant(this.pinnedSource, 'No source is pinned at the time.')\n\n\t\tthis.pinnedSourceId = null\n\t\tthis.pinnedSource = null\n\t}\n\n\tprivate addHandler(\n\t\trole: HandlerRole,\n\t\ttype: SourceType | TargetType,\n\t\thandler: DragSource | DropTarget,\n\t): string {\n\t\tconst id = getNextHandlerId(role)\n\t\tthis.types.set(id, type)\n\t\tif (role === HandlerRole.SOURCE) {\n\t\t\tthis.dragSources.set(id, handler as DragSource)\n\t\t} else if (role === HandlerRole.TARGET) {\n\t\t\tthis.dropTargets.set(id, handler as DropTarget)\n\t\t}\n\t\treturn id\n\t}\n}\n", "import type { XYCoord } from '../interfaces.js'\n\nexport type EqualityCheck<T> = (a: T, b: T) => boolean\nexport const strictEquality = <T>(a: T, b: T): boolean => a === b\n\n/**\n * Determine if two cartesian coordinate offsets are equal\n * @param offsetA\n * @param offsetB\n */\nexport function areCoordsEqual(\n\toffsetA: XYCoord | null | undefined,\n\toffsetB: XYCoord | null | undefined,\n): boolean {\n\tif (!offsetA && !offsetB) {\n\t\treturn true\n\t} else if (!offsetA || !offsetB) {\n\t\treturn false\n\t} else {\n\t\treturn offsetA.x === offsetB.x && offsetA.y === offsetB.y\n\t}\n}\n\n/**\n * Determines if two arrays of items are equal\n * @param a The first array of items\n * @param b The second array of items\n */\nexport function areArraysEqual<T>(\n\ta: T[],\n\tb: T[],\n\tisEqual: EqualityCheck<T> = strictEquality,\n): boolean {\n\tif (a.length !== b.length) {\n\t\treturn false\n\t}\n\tfor (let i = 0; i < a.length; ++i) {\n\t\tif (!isEqual(a[i] as T, b[i] as T)) {\n\t\t\treturn false\n\t\t}\n\t}\n\treturn true\n}\n", "import {\n\tBEGIN_DRAG,\n\tDROP,\n\tEND_DRAG,\n\tHOVER,\n\tPUBLISH_DRAG_SOURCE,\n} from '../actions/dragDrop/index.js'\nimport {\n\tADD_SOURCE,\n\tADD_TARGET,\n\tREMOVE_SOURCE,\n\tREMOVE_TARGET,\n} from '../actions/registry.js'\nimport type { Action } from '../interfaces.js'\nimport { ALL, NONE } from '../utils/dirtiness.js'\nimport { areArraysEqual } from '../utils/equality.js'\nimport { xor } from '../utils/js_utils.js'\n\nexport type State = string[]\n\nexport interface DirtyHandlerIdPayload {\n\ttargetIds: string[]\n\tprevTargetIds: string[]\n}\n\nexport function reduce(\n\t// eslint-disable-next-line @typescript-eslint/no-unused-vars\n\t_state: State = NONE,\n\taction: Action<DirtyHandlerIdPayload>,\n): State {\n\tswitch (action.type) {\n\t\tcase HOVER:\n\t\t\tbreak\n\t\tcase ADD_SOURCE:\n\t\tcase ADD_TARGET:\n\t\tcase REMOVE_TARGET:\n\t\tcase REMOVE_SOURCE:\n\t\t\treturn NONE\n\t\tcase BEGIN_DRAG:\n\t\tcase PUBLISH_DRAG_SOURCE:\n\t\tcase END_DRAG:\n\t\tcase DROP:\n\t\tdefault:\n\t\t\treturn ALL\n\t}\n\n\tconst { targetIds = [], prevTargetIds = [] } = action.payload\n\tconst result = xor(targetIds, prevTargetIds)\n\tconst didChange =\n\t\tresult.length > 0 || !areArraysEqual(targetIds, prevTargetIds)\n\n\tif (!didChange) {\n\t\treturn NONE\n\t}\n\n\t// Check the target ids at the innermost position. If they are valid, add them\n\t// to the result\n\tconst prevInnermostTargetId = prevTargetIds[prevTargetIds.length - 1]\n\tconst innermostTargetId = targetIds[targetIds.length - 1]\n\tif (prevInnermostTargetId !== innermostTargetId) {\n\t\tif (prevInnermostTargetId) {\n\t\t\tresult.push(prevInnermostTargetId)\n\t\t}\n\t\tif (innermostTargetId) {\n\t\t\tresult.push(innermostTargetId)\n\t\t}\n\t}\n\n\treturn result\n}\n", "import {\n\tBEGIN_DRAG,\n\tDROP,\n\tEND_DRAG,\n\tHOVER,\n\tINIT_COORDS,\n} from '../actions/dragDrop/index.js'\nimport type { Action, XYCoord } from '../interfaces.js'\nimport { areCoordsEqual } from '../utils/equality.js'\n\nexport interface State {\n\tinitialSourceClientOffset: XYCoord | null\n\tinitialClientOffset: XYCoord | null\n\tclientOffset: XYCoord | null\n}\n\nconst initialState: State = {\n\tinitialSourceClientOffset: null,\n\tinitialClientOffset: null,\n\tclientOffset: null,\n}\n\nexport function reduce(\n\tstate: State = initialState,\n\taction: Action<{\n\t\tsourceClientOffset: XYCoord\n\t\tclientOffset: XYCoord\n\t}>,\n): State {\n\tconst { payload } = action\n\tswitch (action.type) {\n\t\tcase INIT_COORDS:\n\t\tcase BEGIN_DRAG:\n\t\t\treturn {\n\t\t\t\tinitialSourceClientOffset: payload.sourceClientOffset,\n\t\t\t\tinitialClientOffset: payload.clientOffset,\n\t\t\t\tclientOffset: payload.clientOffset,\n\t\t\t}\n\t\tcase HOVER:\n\t\t\tif (areCoordsEqual(state.clientOffset, payload.clientOffset)) {\n\t\t\t\treturn state\n\t\t\t}\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tclientOffset: payload.clientOffset,\n\t\t\t}\n\t\tcase END_DRAG:\n\t\tcase DROP:\n\t\t\treturn initialState\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n", "import {\n\tBEGIN_DRAG,\n\tDROP,\n\tEND_DRAG,\n\tHOVER,\n\tPUBLISH_DRAG_SOURCE,\n} from '../actions/dragDrop/index.js'\nimport { REMOVE_TARGET } from '../actions/registry.js'\nimport type { Action, Identifier } from '../interfaces.js'\nimport { without } from '../utils/js_utils.js'\n\nexport interface State {\n\titemType: Identifier | Identifier[] | null\n\titem: any\n\tsourceId: string | null\n\ttargetIds: string[]\n\tdropResult: any\n\tdidDrop: boolean\n\tisSourcePublic: boolean | null\n}\n\nconst initialState: State = {\n\titemType: null,\n\titem: null,\n\tsourceId: null,\n\ttargetIds: [],\n\tdropResult: null,\n\tdidDrop: false,\n\tisSourcePublic: null,\n}\n\nexport function reduce(\n\tstate: State = initialState,\n\taction: Action<{\n\t\titemType: Identifier | Identifier[]\n\t\titem: any\n\t\tsourceId: string\n\t\ttargetId: string\n\t\ttargetIds: string[]\n\t\tisSourcePublic: boolean\n\t\tdropResult: any\n\t}>,\n): State {\n\tconst { payload } = action\n\tswitch (action.type) {\n\t\tcase BEGIN_DRAG:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\titemType: payload.itemType,\n\t\t\t\titem: payload.item,\n\t\t\t\tsourceId: payload.sourceId,\n\t\t\t\tisSourcePublic: payload.isSourcePublic,\n\t\t\t\tdropResult: null,\n\t\t\t\tdidDrop: false,\n\t\t\t}\n\t\tcase PUBLISH_DRAG_SOURCE:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tisSourcePublic: true,\n\t\t\t}\n\t\tcase HOVER:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\ttargetIds: payload.targetIds,\n\t\t\t}\n\t\tcase REMOVE_TARGET:\n\t\t\tif (state.targetIds.indexOf(payload.targetId) === -1) {\n\t\t\t\treturn state\n\t\t\t}\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\ttargetIds: without(state.targetIds, payload.targetId),\n\t\t\t}\n\t\tcase DROP:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tdropResult: payload.dropResult,\n\t\t\t\tdidDrop: true,\n\t\t\t\ttargetIds: [],\n\t\t\t}\n\t\tcase END_DRAG:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\titemType: null,\n\t\t\t\titem: null,\n\t\t\t\tsourceId: null,\n\t\t\t\tdropResult: null,\n\t\t\t\tdidDrop: false,\n\t\t\t\tisSourcePublic: null,\n\t\t\t\ttargetIds: [],\n\t\t\t}\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n", "import {\n\tADD_SOURCE,\n\tADD_TARGET,\n\tREMOVE_SOURCE,\n\tREMOVE_TARGET,\n} from '../actions/registry.js'\nimport type { Action } from '../interfaces.js'\n\nexport type State = number\n\nexport function reduce(state: State = 0, action: Action<any>): State {\n\tswitch (action.type) {\n\t\tcase ADD_SOURCE:\n\t\tcase ADD_TARGET:\n\t\t\treturn state + 1\n\t\tcase REMOVE_SOURCE:\n\t\tcase REMOVE_TARGET:\n\t\t\treturn state - 1\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n", "export type State = number\n\nexport function reduce(state: State = 0): State {\n\treturn state + 1\n}\n", "import type { Action } from '../interfaces.js'\nimport { get } from '../utils/js_utils.js'\nimport type { State as DirtyHandlerIdsState } from './dirtyHandlerIds.js'\nimport { reduce as dirtyHandlerIds } from './dirtyHandlerIds.js'\nimport type { State as DragOffsetState } from './dragOffset.js'\nimport { reduce as dragOffset } from './dragOffset.js'\nimport type { State as DragOperationState } from './dragOperation.js'\nimport { reduce as dragOperation } from './dragOperation.js'\nimport type { State as RefCountState } from './refCount.js'\nimport { reduce as refCount } from './refCount.js'\nimport type { State as StateIdState } from './stateId.js'\nimport { reduce as stateId } from './stateId.js'\n\nexport interface State {\n\tdirtyHandlerIds: DirtyHandlerIdsState\n\tdragOffset: DragOffsetState\n\trefCount: RefCountState\n\tdragOperation: DragOperationState\n\tstateId: StateIdState\n}\n\nexport function reduce(state: State = {} as State, action: Action<any>): State {\n\treturn {\n\t\tdirtyHandlerIds: dirtyHandlerIds(state.dirtyHandlerIds, {\n\t\t\ttype: action.type,\n\t\t\tpayload: {\n\t\t\t\t...action.payload,\n\t\t\t\tprevTargetIds: get<string[]>(state, 'dragOperation.targetIds', []),\n\t\t\t},\n\t\t}),\n\t\tdragOffset: dragOffset(state.dragOffset, action),\n\t\trefCount: refCount(state.refCount, action),\n\t\tdragOperation: dragOperation(state.dragOperation, action),\n\t\tstateId: stateId(state.stateId),\n\t}\n}\n", "import type { Store } from 'redux'\nimport { createStore } from 'redux'\n\nimport { DragDropManagerImpl } from './classes/DragDropManagerImpl.js'\nimport { DragDropMonitorImpl } from './classes/DragDropMonitorImpl.js'\nimport { HandlerRegistryImpl } from './classes/HandlerRegistryImpl.js'\nimport type { BackendFactory, DragDropManager } from './interfaces.js'\nimport type { State } from './reducers/index.js'\nimport { reduce } from './reducers/index.js'\n\nexport function createDragDropManager(\n\tbackendFactory: BackendFactory,\n\tglobalContext: unknown = undefined,\n\tbackendOptions: unknown = {},\n\tdebugMode = false,\n): DragDropManager {\n\tconst store = makeStoreInstance(debugMode)\n\tconst monitor = new DragDropMonitorImpl(store, new HandlerRegistryImpl(store))\n\tconst manager = new DragDropManagerImpl(store, monitor)\n\tconst backend = backendFactory(manager, globalContext, backendOptions)\n\tmanager.receiveBackend(backend)\n\treturn manager\n}\n\nfunction makeStoreInstance(debugMode: boolean): Store<State> {\n\t// TODO: if we ever make a react-native version of this,\n\t// we'll need to consider how to pull off dev-tooling\n\tconst reduxDevTools =\n\t\ttypeof window !== 'undefined' &&\n\t\t(window as any).__REDUX_DEVTOOLS_EXTENSION__\n\treturn createStore(\n\t\treduce,\n\t\tdebugMode &&\n\t\t\treduxDevTools &&\n\t\t\treduxDevTools({\n\t\t\t\tname: 'dnd-core',\n\t\t\t\tinstanceId: 'dnd-core',\n\t\t\t}),\n\t)\n}\n", "import type { BackendFactory, DragDropManager } from 'dnd-core'\nimport { createDragDropManager } from 'dnd-core'\nimport type { FC, ReactNode } from 'react'\nimport { memo, useEffect } from 'react'\n\nimport { DndContext } from './DndContext.js'\n\nexport type DndProviderProps<BackendContext, BackendOptions> =\n\t| {\n\t\t\tchildren?: ReactNode\n\t\t\tmanager: DragDropManager\n\t  }\n\t| {\n\t\t\tbackend: BackendFactory\n\t\t\tchildren?: ReactNode\n\t\t\tcontext?: BackendContext\n\t\t\toptions?: BackendOptions\n\t\t\tdebugMode?: boolean\n\t  }\n\nlet refCount = 0\nconst INSTANCE_SYM = Symbol.for('__REACT_DND_CONTEXT_INSTANCE__')\n\n/**\n * A React component that provides the React-DnD context\n */\nexport const DndProvider: FC<DndProviderProps<unknown, unknown>> = memo(\n\tfunction DndProvider({ children, ...props }) {\n\t\tconst [manager, isGlobalInstance] = getDndContextValue(props) // memoized from props\n\t\t/**\n\t\t * If the global context was used to store the DND context\n\t\t * then where theres no more references to it we should\n\t\t * clean it up to avoid memory leaks\n\t\t */\n\t\tuseEffect(() => {\n\t\t\tif (isGlobalInstance) {\n\t\t\t\tconst context = getGlobalContext()\n\t\t\t\t++refCount\n\n\t\t\t\treturn () => {\n\t\t\t\t\tif (--refCount === 0) {\n\t\t\t\t\t\tcontext[INSTANCE_SYM] = null\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn\n\t\t}, [])\n\n\t\treturn <DndContext.Provider value={manager}>{children}</DndContext.Provider>\n\t},\n)\n\nfunction getDndContextValue(props: DndProviderProps<unknown, unknown>) {\n\tif ('manager' in props) {\n\t\tconst manager = { dragDropManager: props.manager }\n\t\treturn [manager, false]\n\t}\n\n\tconst manager = createSingletonDndContext(\n\t\tprops.backend,\n\t\tprops.context,\n\t\tprops.options,\n\t\tprops.debugMode,\n\t)\n\tconst isGlobalInstance = !props.context\n\n\treturn [manager, isGlobalInstance]\n}\n\nfunction createSingletonDndContext<BackendContext, BackendOptions>(\n\tbackend: BackendFactory,\n\tcontext: BackendContext = getGlobalContext(),\n\toptions: BackendOptions,\n\tdebugMode?: boolean,\n) {\n\tconst ctx = context as any\n\tif (!ctx[INSTANCE_SYM]) {\n\t\tctx[INSTANCE_SYM] = {\n\t\t\tdragDropManager: createDragDropManager(\n\t\t\t\tbackend,\n\t\t\t\tcontext,\n\t\t\t\toptions,\n\t\t\t\tdebugMode,\n\t\t\t),\n\t\t}\n\t}\n\treturn ctx[INSTANCE_SYM]\n}\n\ndeclare const global: any\nfunction getGlobalContext() {\n\treturn typeof global !== 'undefined' ? global : (window as any)\n}\n", "import type { FC } from 'react'\nimport { memo, useEffect } from 'react'\n\nimport type { ConnectDragPreview } from '../types/index.js'\n\nexport interface DragPreviewImageProps {\n\tconnect: ConnectDragPreview\n\tsrc: string\n}\n/**\n * A utility for rendering a drag preview image\n */\nexport const DragPreviewImage: FC<DragPreviewImageProps> = memo(\n\tfunction DragPreviewImage({ connect, src }) {\n\t\tuseEffect(() => {\n\t\t\tif (typeof Image === 'undefined') return\n\n\t\t\tlet connected = false\n\t\t\tconst img = new Image()\n\t\t\timg.src = src\n\t\t\timg.onload = () => {\n\t\t\t\tconnect(img)\n\t\t\t\tconnected = true\n\t\t\t}\n\t\t\treturn () => {\n\t\t\t\tif (connected) {\n\t\t\t\t\tconnect(null)\n\t\t\t\t}\n\t\t\t}\n\t\t})\n\n\t\treturn null\n\t},\n)\n", "import equal from 'fast-deep-equal'\nimport { useCallback, useState } from 'react'\n\nimport { useIsomorphicLayoutEffect } from './useIsomorphicLayoutEffect.js'\n\n/**\n *\n * @param monitor The monitor to collect state from\n * @param collect The collecting function\n * @param onUpdate A method to invoke when updates occur\n */\nexport function useCollector<T, S>(\n\tmonitor: T,\n\tcollect: (monitor: T) => S,\n\tonUpdate?: () => void,\n): [S, () => void] {\n\tconst [collected, setCollected] = useState(() => collect(monitor))\n\n\tconst updateCollected = useCallback(() => {\n\t\tconst nextValue = collect(monitor)\n\t\t// This needs to be a deep-equality check because some monitor-collected values\n\t\t// include XYCoord objects that may be equivalent, but do not have instance equality.\n\t\tif (!equal(collected, nextValue)) {\n\t\t\tsetCollected(nextValue)\n\t\t\tif (onUpdate) {\n\t\t\t\tonUpdate()\n\t\t\t}\n\t\t}\n\t}, [collected, monitor, onUpdate])\n\n\t// update the collected properties after react renders.\n\t// Note that the \"Dustbin Stress Test\" fails if this is not\n\t// done when the component updates\n\tuseIsomorphicLayoutEffect(updateCollected)\n\n\treturn [collected, updateCollected]\n}\n", "import { useEffect, useLayoutEffect } from 'react'\n\n// suppress the useLayoutEffect warning on server side.\nexport const useIsomorphicLayoutEffect =\n\ttypeof window !== 'undefined' ? useLayoutEffect : useEffect\n", "import type { HandlerManager, MonitorEventEmitter } from '../types/index.js'\nimport { useCollector } from './useCollector.js'\nimport { useIsomorphicLayoutEffect } from './useIsomorphicLayoutEffect.js'\n\nexport function useMonitorOutput<Monitor extends HandlerManager, Collected>(\n\tmonitor: Monitor & MonitorEventEmitter,\n\tcollect: (monitor: Monitor) => Collected,\n\tonCollect?: () => void,\n): Collected {\n\tconst [collected, updateCollected] = useCollector(monitor, collect, onCollect)\n\n\tuseIsomorphicLayoutEffect(\n\t\tfunction subscribeToMonitorStateChange() {\n\t\t\tconst handlerId = monitor.getHandlerId()\n\t\t\tif (handlerId == null) {\n\t\t\t\treturn\n\t\t\t}\n\t\t\treturn monitor.subscribeToStateChange(updateCollected, {\n\t\t\t\thandlerIds: [handlerId],\n\t\t\t})\n\t\t},\n\t\t[monitor, updateCollected],\n\t)\n\n\treturn collected\n}\n", "import type { Connector } from '../internals/index.js'\nimport type { HandlerManager, MonitorEventEmitter } from '../types/index.js'\nimport { useMonitorOutput } from './useMonitorOutput.js'\n\nexport function useCollectedProps<Collected, Monitor extends HandlerManager>(\n\tcollector: ((monitor: Monitor) => Collected) | undefined,\n\tmonitor: Monitor & MonitorEventEmitter,\n\tconnector: Connector,\n) {\n\treturn useMonitorOutput(monitor, collector || (() => ({} as Collected)), () =>\n\t\tconnector.reconnect(),\n\t)\n}\n", "import { useMemo } from 'react'\n\nimport type { FactoryOrInstance } from './types.js'\n\nexport function useOptionalFactory<T>(\n\targ: FactoryOrInstance<T>,\n\tdeps?: unknown[],\n): T {\n\tconst memoDeps = [...(deps || [])]\n\tif (deps == null && typeof arg !== 'function') {\n\t\tmemoDeps.push(arg)\n\t}\n\treturn useMemo<T>(() => {\n\t\treturn typeof arg === 'function' ? (arg as () => T)() : (arg as T)\n\t}, memoDeps)\n}\n", "import { useMemo } from 'react'\n\nimport type { SourceConnector } from '../../internals/index.js'\n\nexport function useConnectDragSource(connector: SourceConnector) {\n\treturn useMemo(() => connector.hooks.dragSource(), [connector])\n}\n\nexport function useConnectDragPreview(connector: SourceConnector) {\n\treturn useMemo(() => connector.hooks.dragPreview(), [connector])\n}\n", "import { useMemo } from 'react'\n\nimport { SourceConnector } from '../../internals/index.js'\nimport type {\n\tDragPreviewOptions,\n\tDragSourceOptions,\n} from '../../types/index.js'\nimport { useDragDropManager } from '../useDragDropManager.js'\nimport { useIsomorphicLayoutEffect } from '../useIsomorphicLayoutEffect.js'\n\nexport function useDragSourceConnector(\n\tdragSourceOptions: DragSourceOptions | undefined,\n\tdragPreviewOptions: DragPreviewOptions | undefined,\n): SourceConnector {\n\tconst manager = useDragDropManager()\n\tconst connector = useMemo(\n\t\t() => new SourceConnector(manager.getBackend()),\n\t\t[manager],\n\t)\n\tuseIsomorphicLayoutEffect(() => {\n\t\tconnector.dragSourceOptions = dragSourceOptions || null\n\t\tconnector.reconnect()\n\t\treturn () => connector.disconnectDragSource()\n\t}, [connector, dragSourceOptions])\n\tuseIsomorphicLayoutEffect(() => {\n\t\tconnector.dragPreviewOptions = dragPreviewOptions || null\n\t\tconnector.reconnect()\n\t\treturn () => connector.disconnectDragPreview()\n\t}, [connector, dragPreviewOptions])\n\treturn connector\n}\n", "import { invariant } from '@react-dnd/invariant'\nimport type {\n\tDragDropManager,\n\tDragDropMonitor,\n\tIdentifier,\n\tListener,\n\tUnsubscribe,\n\tXYCoord,\n} from 'dnd-core'\n\nimport type { DragSourceMonitor } from '../types/index.js'\n\nlet isCallingCanDrag = false\nlet isCallingIsDragging = false\n\nexport class DragSourceMonitorImpl implements DragSourceMonitor {\n\tprivate internalMonitor: DragDropMonitor\n\tprivate sourceId: Identifier | null = null\n\n\tpublic constructor(manager: DragDropManager) {\n\t\tthis.internalMonitor = manager.getMonitor()\n\t}\n\n\tpublic receiveHandlerId(sourceId: Identifier | null): void {\n\t\tthis.sourceId = sourceId\n\t}\n\n\tpublic getHandlerId(): Identifier | null {\n\t\treturn this.sourceId\n\t}\n\n\tpublic canDrag(): boolean {\n\t\tinvariant(\n\t\t\t!isCallingCanDrag,\n\t\t\t'You may not call monitor.canDrag() inside your canDrag() implementation. ' +\n\t\t\t\t'Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor',\n\t\t)\n\n\t\ttry {\n\t\t\tisCallingCanDrag = true\n\t\t\treturn this.internalMonitor.canDragSource(this.sourceId as Identifier)\n\t\t} finally {\n\t\t\tisCallingCanDrag = false\n\t\t}\n\t}\n\n\tpublic isDragging(): boolean {\n\t\tif (!this.sourceId) {\n\t\t\treturn false\n\t\t}\n\t\tinvariant(\n\t\t\t!isCallingIsDragging,\n\t\t\t'You may not call monitor.isDragging() inside your isDragging() implementation. ' +\n\t\t\t\t'Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor',\n\t\t)\n\n\t\ttry {\n\t\t\tisCallingIsDragging = true\n\t\t\treturn this.internalMonitor.isDraggingSource(this.sourceId)\n\t\t} finally {\n\t\t\tisCallingIsDragging = false\n\t\t}\n\t}\n\n\tpublic subscribeToStateChange(\n\t\tlistener: Listener,\n\t\toptions?: { handlerIds?: Identifier[] },\n\t): Unsubscribe {\n\t\treturn this.internalMonitor.subscribeToStateChange(listener, options)\n\t}\n\n\tpublic isDraggingSource(sourceId: Identifier): boolean {\n\t\treturn this.internalMonitor.isDraggingSource(sourceId)\n\t}\n\n\tpublic isOverTarget(\n\t\ttargetId: Identifier,\n\t\toptions?: { shallow: boolean },\n\t): boolean {\n\t\treturn this.internalMonitor.isOverTarget(targetId, options)\n\t}\n\n\tpublic getTargetIds(): Identifier[] {\n\t\treturn this.internalMonitor.getTargetIds()\n\t}\n\n\tpublic isSourcePublic(): boolean | null {\n\t\treturn this.internalMonitor.isSourcePublic()\n\t}\n\n\tpublic getSourceId(): Identifier | null {\n\t\treturn this.internalMonitor.getSourceId()\n\t}\n\n\tpublic subscribeToOffsetChange(listener: Listener): Unsubscribe {\n\t\treturn this.internalMonitor.subscribeToOffsetChange(listener)\n\t}\n\n\tpublic canDragSource(sourceId: Identifier): boolean {\n\t\treturn this.internalMonitor.canDragSource(sourceId)\n\t}\n\n\tpublic canDropOnTarget(targetId: Identifier): boolean {\n\t\treturn this.internalMonitor.canDropOnTarget(targetId)\n\t}\n\n\tpublic getItemType(): Identifier | null {\n\t\treturn this.internalMonitor.getItemType()\n\t}\n\n\tpublic getItem(): any {\n\t\treturn this.internalMonitor.getItem()\n\t}\n\n\tpublic getDropResult(): any {\n\t\treturn this.internalMonitor.getDropResult()\n\t}\n\n\tpublic didDrop(): boolean {\n\t\treturn this.internalMonitor.didDrop()\n\t}\n\n\tpublic getInitialClientOffset(): XYCoord | null {\n\t\treturn this.internalMonitor.getInitialClientOffset()\n\t}\n\n\tpublic getInitialSourceClientOffset(): XYCoord | null {\n\t\treturn this.internalMonitor.getInitialSourceClientOffset()\n\t}\n\n\tpublic getSourceClientOffset(): XYCoord | null {\n\t\treturn this.internalMonitor.getSourceClientOffset()\n\t}\n\n\tpublic getClientOffset(): XYCoord | null {\n\t\treturn this.internalMonitor.getClientOffset()\n\t}\n\n\tpublic getDifferenceFromInitialOffset(): XYCoord | null {\n\t\treturn this.internalMonitor.getDifferenceFromInitialOffset()\n\t}\n}\n", "import { invariant } from '@react-dnd/invariant'\nimport type {\n\tDragDropManager,\n\tDragDropMonitor,\n\tIdentifier,\n\tListener,\n\tUnsubscribe,\n\tXYCoord,\n} from 'dnd-core'\n\nimport type { DropTargetMonitor } from '../types/index.js'\n\nlet isCallingCanDrop = false\n\nexport class DropTargetMonitorImpl implements DropTargetMonitor {\n\tprivate internalMonitor: DragDropMonitor\n\tprivate targetId: Identifier | null = null\n\n\tpublic constructor(manager: DragDropManager) {\n\t\tthis.internalMonitor = manager.getMonitor()\n\t}\n\n\tpublic receiveHandlerId(targetId: Identifier | null): void {\n\t\tthis.targetId = targetId\n\t}\n\n\tpublic getHandlerId(): Identifier | null {\n\t\treturn this.targetId\n\t}\n\n\tpublic subscribeToStateChange(\n\t\tlistener: Listener,\n\t\toptions?: { handlerIds?: Identifier[] },\n\t): Unsubscribe {\n\t\treturn this.internalMonitor.subscribeToStateChange(listener, options)\n\t}\n\n\tpublic canDrop(): boolean {\n\t\t// Cut out early if the target id has not been set. This should prevent errors\n\t\t// where the user has an older version of dnd-core like in\n\t\t// https://github.com/react-dnd/react-dnd/issues/1310\n\t\tif (!this.targetId) {\n\t\t\treturn false\n\t\t}\n\t\tinvariant(\n\t\t\t!isCallingCanDrop,\n\t\t\t'You may not call monitor.canDrop() inside your canDrop() implementation. ' +\n\t\t\t\t'Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target-monitor',\n\t\t)\n\n\t\ttry {\n\t\t\tisCallingCanDrop = true\n\t\t\treturn this.internalMonitor.canDropOnTarget(this.targetId)\n\t\t} finally {\n\t\t\tisCallingCanDrop = false\n\t\t}\n\t}\n\n\tpublic isOver(options?: { shallow?: boolean }): boolean {\n\t\tif (!this.targetId) {\n\t\t\treturn false\n\t\t}\n\t\treturn this.internalMonitor.isOverTarget(this.targetId, options)\n\t}\n\n\tpublic getItemType(): Identifier | null {\n\t\treturn this.internalMonitor.getItemType()\n\t}\n\n\tpublic getItem(): any {\n\t\treturn this.internalMonitor.getItem()\n\t}\n\n\tpublic getDropResult(): any {\n\t\treturn this.internalMonitor.getDropResult()\n\t}\n\n\tpublic didDrop(): boolean {\n\t\treturn this.internalMonitor.didDrop()\n\t}\n\n\tpublic getInitialClientOffset(): XYCoord | null {\n\t\treturn this.internalMonitor.getInitialClientOffset()\n\t}\n\n\tpublic getInitialSourceClientOffset(): XYCoord | null {\n\t\treturn this.internalMonitor.getInitialSourceClientOffset()\n\t}\n\n\tpublic getSourceClientOffset(): XYCoord | null {\n\t\treturn this.internalMonitor.getSourceClientOffset()\n\t}\n\n\tpublic getClientOffset(): XYCoord | null {\n\t\treturn this.internalMonitor.getClientOffset()\n\t}\n\n\tpublic getDifferenceFromInitialOffset(): XYCoord | null {\n\t\treturn this.internalMonitor.getDifferenceFromInitialOffset()\n\t}\n}\n", "import type {\n\tDragDropManager,\n\tDragSource,\n\tDropTarget,\n\tIdentifier,\n\tSourceType,\n\tTargetType,\n\tUnsubscribe,\n} from 'dnd-core'\n\nexport function registerTarget(\n\ttype: TargetType,\n\ttarget: DropTarget,\n\tmanager: DragDropManager,\n): [Identifier, Unsubscribe] {\n\tconst registry = manager.getRegistry()\n\tconst targetId = registry.addTarget(type, target)\n\n\treturn [targetId, () => registry.removeTarget(targetId)]\n}\n\nexport function registerSource(\n\ttype: SourceType,\n\tsource: DragSource,\n\tmanager: DragDropManager,\n): [Identifier, Unsubscribe] {\n\tconst registry = manager.getRegistry()\n\tconst sourceId = registry.addSource(type, source)\n\n\treturn [sourceId, () => registry.removeSource(sourceId)]\n}\n", "export function shallowEqual<T>(\n\tobjA: T,\n\tobjB: T,\n\tcompare?: (a: T, b: T, key?: string) => boolean | void,\n\tcompareContext?: any,\n) {\n\tlet compareResult = compare\n\t\t? compare.call(compareContext, objA, objB)\n\t\t: void 0\n\tif (compareResult !== void 0) {\n\t\treturn !!compareResult\n\t}\n\n\tif (objA === objB) {\n\t\treturn true\n\t}\n\n\tif (typeof objA !== 'object' || !objA || typeof objB !== 'object' || !objB) {\n\t\treturn false\n\t}\n\n\tconst keysA = Object.keys(objA)\n\tconst keysB = Object.keys(objB)\n\n\tif (keysA.length !== keysB.length) {\n\t\treturn false\n\t}\n\n\tconst bHasOwnProperty = Object.prototype.hasOwnProperty.bind(objB)\n\n\t// Test for A's keys different from B.\n\tfor (let idx = 0; idx < keysA.length; idx++) {\n\t\tconst key = keysA[idx] as string\n\n\t\tif (!bHasOwnProperty(key)) {\n\t\t\treturn false\n\t\t}\n\n\t\tconst valueA = (objA as any)[key]\n\t\tconst valueB = (objB as any)[key]\n\n\t\tcompareResult = compare\n\t\t\t? compare.call(compareContext, valueA, valueB, key)\n\t\t\t: void 0\n\n\t\tif (\n\t\t\tcompareResult === false ||\n\t\t\t(compareResult === void 0 && valueA !== valueB)\n\t\t) {\n\t\t\treturn false\n\t\t}\n\t}\n\n\treturn true\n}\n", "export interface Ref<T> {\n\tcurrent: T\n}\n\nexport function isRef(obj: unknown): boolean {\n\treturn (\n\t\t// eslint-disable-next-line no-prototype-builtins\n\t\tobj !== null &&\n\t\ttypeof obj === 'object' &&\n\t\tObject.prototype.hasOwnProperty.call(obj, 'current')\n\t)\n}\n", "import { invariant } from '@react-dnd/invariant'\nimport type { ReactElement } from 'react'\nimport { cloneElement, isValidElement } from 'react'\n\nfunction throwIfCompositeComponentElement(element: ReactElement<any>) {\n\t// Custom components can no longer be wrapped directly in React DnD 2.0\n\t// so that we don't need to depend on findDOMNode() from react-dom.\n\tif (typeof element.type === 'string') {\n\t\treturn\n\t}\n\n\tconst displayName =\n\t\t(element.type as any).displayName || element.type.name || 'the component'\n\n\tthrow new Error(\n\t\t'Only native element nodes can now be passed to React DnD connectors.' +\n\t\t\t`You can either wrap ${displayName} into a <div>, or turn it into a ` +\n\t\t\t'drag source or a drop target itself.',\n\t)\n}\n\nfunction wrapHookToRecognizeElement(hook: (node: any, options: any) => void) {\n\treturn (elementOrNode = null, options = null) => {\n\t\t// When passed a node, call the hook straight away.\n\t\tif (!isValidElement(elementOrNode)) {\n\t\t\tconst node = elementOrNode\n\t\t\thook(node, options)\n\t\t\t// return the node so it can be chained (e.g. when within callback refs\n\t\t\t// <div ref={node => connectDragSource(connectDropTarget(node))}/>\n\t\t\treturn node\n\t\t}\n\n\t\t// If passed a ReactElement, clone it and attach this function as a ref.\n\t\t// This helps us achieve a neat API where user doesn't even know that refs\n\t\t// are being used under the hood.\n\t\tconst element: ReactElement | null = elementOrNode\n\t\tthrowIfCompositeComponentElement(element as any)\n\n\t\t// When no options are passed, use the hook directly\n\t\tconst ref = options ? (node: Element) => hook(node, options) : hook\n\t\treturn cloneWithRef(element, ref)\n\t}\n}\n\nexport function wrapConnectorHooks(hooks: any) {\n\tconst wrappedHooks: any = {}\n\n\tObject.keys(hooks).forEach((key) => {\n\t\tconst hook = hooks[key]\n\n\t\t// ref objects should be passed straight through without wrapping\n\t\tif (key.endsWith('Ref')) {\n\t\t\twrappedHooks[key] = hooks[key]\n\t\t} else {\n\t\t\tconst wrappedHook = wrapHookToRecognizeElement(hook)\n\t\t\twrappedHooks[key] = () => wrappedHook\n\t\t}\n\t})\n\n\treturn wrappedHooks\n}\n\nfunction setRef(ref: any, node: any) {\n\tif (typeof ref === 'function') {\n\t\tref(node)\n\t} else {\n\t\tref.current = node\n\t}\n}\n\nfunction cloneWithRef(element: any, newRef: any): ReactElement<any> {\n\tconst previousRef = element.ref\n\tinvariant(\n\t\ttypeof previousRef !== 'string',\n\t\t'Cannot connect React DnD to an element with an existing string ref. ' +\n\t\t\t'Please convert it to use a callback ref instead, or wrap it into a <span> or <div>. ' +\n\t\t\t'Read more: https://reactjs.org/docs/refs-and-the-dom.html#callback-refs',\n\t)\n\n\tif (!previousRef) {\n\t\t// When there is no ref on the element, use the new ref directly\n\t\treturn cloneElement(element, {\n\t\t\tref: newRef,\n\t\t})\n\t} else {\n\t\treturn cloneElement(element, {\n\t\t\tref: (node: any) => {\n\t\t\t\tsetRef(previousRef, node)\n\t\t\t\tsetRef(newRef, node)\n\t\t\t},\n\t\t})\n\t}\n}\n", "import { shallowEqual } from '@react-dnd/shallowequal'\nimport type { Backend, Identifier, Unsubscribe } from 'dnd-core'\nimport type { ReactElement, Ref, RefObject } from 'react'\n\nimport type { DragPreviewOptions, DragSourceOptions } from '../types/index.js'\nimport { isRef } from './isRef.js'\nimport { wrapConnectorHooks } from './wrapConnectorHooks.js'\n\nexport interface Connector {\n\thooks: any\n\tconnectTarget: any\n\treceiveHandlerId(handlerId: Identifier | null): void\n\treconnect(): void\n}\n\nexport class SourceConnector implements Connector {\n\tpublic hooks = wrapConnectorHooks({\n\t\tdragSource: (\n\t\t\tnode: Element | ReactElement | Ref<any>,\n\t\t\toptions?: DragSourceOptions,\n\t\t) => {\n\t\t\tthis.clearDragSource()\n\t\t\tthis.dragSourceOptions = options || null\n\t\t\tif (isRef(node)) {\n\t\t\t\tthis.dragSourceRef = node as RefObject<any>\n\t\t\t} else {\n\t\t\t\tthis.dragSourceNode = node\n\t\t\t}\n\t\t\tthis.reconnectDragSource()\n\t\t},\n\t\tdragPreview: (node: any, options?: DragPreviewOptions) => {\n\t\t\tthis.clearDragPreview()\n\t\t\tthis.dragPreviewOptions = options || null\n\t\t\tif (isRef(node)) {\n\t\t\t\tthis.dragPreviewRef = node\n\t\t\t} else {\n\t\t\t\tthis.dragPreviewNode = node\n\t\t\t}\n\t\t\tthis.reconnectDragPreview()\n\t\t},\n\t})\n\tprivate handlerId: Identifier | null = null\n\n\t// The drop target may either be attached via ref or connect function\n\tprivate dragSourceRef: RefObject<any> | null = null\n\tprivate dragSourceNode: any\n\tprivate dragSourceOptionsInternal: DragSourceOptions | null = null\n\tprivate dragSourceUnsubscribe: Unsubscribe | undefined\n\n\t// The drag preview may either be attached via ref or connect function\n\tprivate dragPreviewRef: RefObject<any> | null = null\n\tprivate dragPreviewNode: any\n\tprivate dragPreviewOptionsInternal: DragPreviewOptions | null = null\n\tprivate dragPreviewUnsubscribe: Unsubscribe | undefined\n\n\tprivate lastConnectedHandlerId: Identifier | null = null\n\tprivate lastConnectedDragSource: any = null\n\tprivate lastConnectedDragSourceOptions: any = null\n\tprivate lastConnectedDragPreview: any = null\n\tprivate lastConnectedDragPreviewOptions: any = null\n\n\tprivate readonly backend: Backend\n\n\tpublic constructor(backend: Backend) {\n\t\tthis.backend = backend\n\t}\n\n\tpublic receiveHandlerId(newHandlerId: Identifier | null): void {\n\t\tif (this.handlerId === newHandlerId) {\n\t\t\treturn\n\t\t}\n\n\t\tthis.handlerId = newHandlerId\n\t\tthis.reconnect()\n\t}\n\n\tpublic get connectTarget(): any {\n\t\treturn this.dragSource\n\t}\n\n\tpublic get dragSourceOptions(): DragSourceOptions | null {\n\t\treturn this.dragSourceOptionsInternal\n\t}\n\tpublic set dragSourceOptions(options: DragSourceOptions | null) {\n\t\tthis.dragSourceOptionsInternal = options\n\t}\n\n\tpublic get dragPreviewOptions(): DragPreviewOptions | null {\n\t\treturn this.dragPreviewOptionsInternal\n\t}\n\n\tpublic set dragPreviewOptions(options: DragPreviewOptions | null) {\n\t\tthis.dragPreviewOptionsInternal = options\n\t}\n\n\tpublic reconnect(): void {\n\t\tconst didChange = this.reconnectDragSource()\n\t\tthis.reconnectDragPreview(didChange)\n\t}\n\n\tprivate reconnectDragSource(): boolean {\n\t\tconst dragSource = this.dragSource\n\t\t// if nothing has changed then don't resubscribe\n\t\tconst didChange =\n\t\t\tthis.didHandlerIdChange() ||\n\t\t\tthis.didConnectedDragSourceChange() ||\n\t\t\tthis.didDragSourceOptionsChange()\n\n\t\tif (didChange) {\n\t\t\tthis.disconnectDragSource()\n\t\t}\n\n\t\tif (!this.handlerId) {\n\t\t\treturn didChange\n\t\t}\n\t\tif (!dragSource) {\n\t\t\tthis.lastConnectedDragSource = dragSource\n\t\t\treturn didChange\n\t\t}\n\n\t\tif (didChange) {\n\t\t\tthis.lastConnectedHandlerId = this.handlerId\n\t\t\tthis.lastConnectedDragSource = dragSource\n\t\t\tthis.lastConnectedDragSourceOptions = this.dragSourceOptions\n\t\t\tthis.dragSourceUnsubscribe = this.backend.connectDragSource(\n\t\t\t\tthis.handlerId,\n\t\t\t\tdragSource,\n\t\t\t\tthis.dragSourceOptions,\n\t\t\t)\n\t\t}\n\t\treturn didChange\n\t}\n\n\tprivate reconnectDragPreview(forceDidChange = false): void {\n\t\tconst dragPreview = this.dragPreview\n\t\t// if nothing has changed then don't resubscribe\n\t\tconst didChange =\n\t\t\tforceDidChange ||\n\t\t\tthis.didHandlerIdChange() ||\n\t\t\tthis.didConnectedDragPreviewChange() ||\n\t\t\tthis.didDragPreviewOptionsChange()\n\n\t\tif (didChange) {\n\t\t\tthis.disconnectDragPreview()\n\t\t}\n\n\t\tif (!this.handlerId) {\n\t\t\treturn\n\t\t}\n\t\tif (!dragPreview) {\n\t\t\tthis.lastConnectedDragPreview = dragPreview\n\t\t\treturn\n\t\t}\n\n\t\tif (didChange) {\n\t\t\tthis.lastConnectedHandlerId = this.handlerId\n\t\t\tthis.lastConnectedDragPreview = dragPreview\n\t\t\tthis.lastConnectedDragPreviewOptions = this.dragPreviewOptions\n\t\t\tthis.dragPreviewUnsubscribe = this.backend.connectDragPreview(\n\t\t\t\tthis.handlerId,\n\t\t\t\tdragPreview,\n\t\t\t\tthis.dragPreviewOptions,\n\t\t\t)\n\t\t}\n\t}\n\n\tprivate didHandlerIdChange(): boolean {\n\t\treturn this.lastConnectedHandlerId !== this.handlerId\n\t}\n\n\tprivate didConnectedDragSourceChange(): boolean {\n\t\treturn this.lastConnectedDragSource !== this.dragSource\n\t}\n\n\tprivate didConnectedDragPreviewChange(): boolean {\n\t\treturn this.lastConnectedDragPreview !== this.dragPreview\n\t}\n\n\tprivate didDragSourceOptionsChange(): boolean {\n\t\treturn !shallowEqual(\n\t\t\tthis.lastConnectedDragSourceOptions,\n\t\t\tthis.dragSourceOptions,\n\t\t)\n\t}\n\n\tprivate didDragPreviewOptionsChange(): boolean {\n\t\treturn !shallowEqual(\n\t\t\tthis.lastConnectedDragPreviewOptions,\n\t\t\tthis.dragPreviewOptions,\n\t\t)\n\t}\n\n\tpublic disconnectDragSource() {\n\t\tif (this.dragSourceUnsubscribe) {\n\t\t\tthis.dragSourceUnsubscribe()\n\t\t\tthis.dragSourceUnsubscribe = undefined\n\t\t}\n\t}\n\n\tpublic disconnectDragPreview() {\n\t\tif (this.dragPreviewUnsubscribe) {\n\t\t\tthis.dragPreviewUnsubscribe()\n\t\t\tthis.dragPreviewUnsubscribe = undefined\n\t\t\tthis.dragPreviewNode = null\n\t\t\tthis.dragPreviewRef = null\n\t\t}\n\t}\n\n\tprivate get dragSource() {\n\t\treturn (\n\t\t\tthis.dragSourceNode || (this.dragSourceRef && this.dragSourceRef.current)\n\t\t)\n\t}\n\n\tprivate get dragPreview() {\n\t\treturn (\n\t\t\tthis.dragPreviewNode ||\n\t\t\t(this.dragPreviewRef && this.dragPreviewRef.current)\n\t\t)\n\t}\n\n\tprivate clearDragSource() {\n\t\tthis.dragSourceNode = null\n\t\tthis.dragSourceRef = null\n\t}\n\n\tprivate clearDragPreview() {\n\t\tthis.dragPreviewNode = null\n\t\tthis.dragPreviewRef = null\n\t}\n}\n", "import { shallowEqual } from '@react-dnd/shallowequal'\nimport type { Backend, Identifier, Unsubscribe } from 'dnd-core'\nimport type { RefObject } from 'react'\n\nimport type { DropTargetOptions } from '../types/index.js'\nimport { isRef } from './isRef.js'\nimport type { Connector } from './SourceConnector.js'\nimport { wrapConnectorHooks } from './wrapConnectorHooks.js'\n\nexport class TargetConnector implements Connector {\n\tpublic hooks = wrapConnectorHooks({\n\t\tdropTarget: (node: any, options: DropTargetOptions) => {\n\t\t\tthis.clearDropTarget()\n\t\t\tthis.dropTargetOptions = options\n\t\t\tif (isRef(node)) {\n\t\t\t\tthis.dropTargetRef = node\n\t\t\t} else {\n\t\t\t\tthis.dropTargetNode = node\n\t\t\t}\n\t\t\tthis.reconnect()\n\t\t},\n\t})\n\n\tprivate handlerId: Identifier | null = null\n\t// The drop target may either be attached via ref or connect function\n\tprivate dropTargetRef: RefObject<any> | null = null\n\tprivate dropTargetNode: any\n\tprivate dropTargetOptionsInternal: DropTargetOptions | null = null\n\tprivate unsubscribeDropTarget: Unsubscribe | undefined\n\n\tprivate lastConnectedHandlerId: Identifier | null = null\n\tprivate lastConnectedDropTarget: any = null\n\tprivate lastConnectedDropTargetOptions: DropTargetOptions | null = null\n\tprivate readonly backend: Backend\n\n\tpublic constructor(backend: Backend) {\n\t\tthis.backend = backend\n\t}\n\n\tpublic get connectTarget(): any {\n\t\treturn this.dropTarget\n\t}\n\n\tpublic reconnect(): void {\n\t\t// if nothing has changed then don't resubscribe\n\t\tconst didChange =\n\t\t\tthis.didHandlerIdChange() ||\n\t\t\tthis.didDropTargetChange() ||\n\t\t\tthis.didOptionsChange()\n\n\t\tif (didChange) {\n\t\t\tthis.disconnectDropTarget()\n\t\t}\n\n\t\tconst dropTarget = this.dropTarget\n\t\tif (!this.handlerId) {\n\t\t\treturn\n\t\t}\n\t\tif (!dropTarget) {\n\t\t\tthis.lastConnectedDropTarget = dropTarget\n\t\t\treturn\n\t\t}\n\n\t\tif (didChange) {\n\t\t\tthis.lastConnectedHandlerId = this.handlerId\n\t\t\tthis.lastConnectedDropTarget = dropTarget\n\t\t\tthis.lastConnectedDropTargetOptions = this.dropTargetOptions\n\n\t\t\tthis.unsubscribeDropTarget = this.backend.connectDropTarget(\n\t\t\t\tthis.handlerId,\n\t\t\t\tdropTarget,\n\t\t\t\tthis.dropTargetOptions,\n\t\t\t)\n\t\t}\n\t}\n\n\tpublic receiveHandlerId(newHandlerId: Identifier | null): void {\n\t\tif (newHandlerId === this.handlerId) {\n\t\t\treturn\n\t\t}\n\n\t\tthis.handlerId = newHandlerId\n\t\tthis.reconnect()\n\t}\n\n\tpublic get dropTargetOptions(): DropTargetOptions {\n\t\treturn this.dropTargetOptionsInternal\n\t}\n\tpublic set dropTargetOptions(options: DropTargetOptions) {\n\t\tthis.dropTargetOptionsInternal = options\n\t}\n\n\tprivate didHandlerIdChange(): boolean {\n\t\treturn this.lastConnectedHandlerId !== this.handlerId\n\t}\n\n\tprivate didDropTargetChange(): boolean {\n\t\treturn this.lastConnectedDropTarget !== this.dropTarget\n\t}\n\n\tprivate didOptionsChange(): boolean {\n\t\treturn !shallowEqual(\n\t\t\tthis.lastConnectedDropTargetOptions,\n\t\t\tthis.dropTargetOptions,\n\t\t)\n\t}\n\n\tpublic disconnectDropTarget() {\n\t\tif (this.unsubscribeDropTarget) {\n\t\t\tthis.unsubscribeDropTarget()\n\t\t\tthis.unsubscribeDropTarget = undefined\n\t\t}\n\t}\n\n\tprivate get dropTarget() {\n\t\treturn (\n\t\t\tthis.dropTargetNode || (this.dropTargetRef && this.dropTargetRef.current)\n\t\t)\n\t}\n\n\tprivate clearDropTarget() {\n\t\tthis.dropTargetRef = null\n\t\tthis.dropTargetNode = null\n\t}\n}\n", "import { invariant } from '@react-dnd/invariant'\nimport type { DragDropManager } from 'dnd-core'\nimport { useContext } from 'react'\n\nimport { DndContext } from '../core/index.js'\n\n/**\n * A hook to retrieve the DragDropManager from Context\n */\nexport function useDragDropManager(): DragDropManager {\n\tconst { dragDropManager } = useContext(DndContext)\n\tinvariant(dragDropManager != null, 'Expected drag drop context')\n\treturn dragDropManager as DragDropManager\n}\n", "import { useMemo } from 'react'\n\nimport { DragSourceMonitorImpl } from '../../internals/index.js'\nimport type { DragSourceMonitor } from '../../types/index.js'\nimport { useDragDropManager } from '../useDragDropManager.js'\n\nexport function useDragSourceMonitor<O, R>(): DragSourceMonitor<O, R> {\n\tconst manager = useDragDropManager()\n\treturn useMemo<DragSourceMonitor<O, R>>(\n\t\t() => new DragSourceMonitorImpl(manager),\n\t\t[manager],\n\t)\n}\n", "import { useEffect, useMemo } from 'react'\n\nimport type { Connector } from '../../internals/index.js'\nimport type { DragSourceMonitor } from '../../types/index.js'\nimport type { DragSourceHookSpec } from '../types.js'\nimport { DragSourceImpl } from './DragSourceImpl.js'\n\nexport function useDragSource<O, R, P>(\n\tspec: DragSourceHookSpec<O, R, P>,\n\tmonitor: DragSourceMonitor<O, R>,\n\tconnector: Connector,\n) {\n\tconst handler = useMemo(\n\t\t() => new DragSourceImpl(spec, monitor, connector),\n\t\t[monitor, connector],\n\t)\n\tuseEffect(() => {\n\t\thandler.spec = spec\n\t}, [spec])\n\treturn handler\n}\n", "import type { DragDropMonitor, DragSource, Identifier } from 'dnd-core'\n\nimport type { Connector } from '../../internals/index.js'\nimport type { DragSourceMonitor } from '../../types/index.js'\nimport type { DragObjectFactory, DragSourceHookSpec } from '../types.js'\n\nexport class DragSourceImpl<O, R, P> implements DragSource {\n\tpublic constructor(\n\t\tpublic spec: DragSourceHookSpec<O, R, P>,\n\t\tprivate monitor: DragSourceMonitor<O, R>,\n\t\tprivate connector: Connector,\n\t) {}\n\n\tpublic beginDrag() {\n\t\tconst spec = this.spec\n\t\tconst monitor = this.monitor\n\n\t\tlet result: O | null = null\n\t\tif (typeof spec.item === 'object') {\n\t\t\tresult = spec.item as O\n\t\t} else if (typeof spec.item === 'function') {\n\t\t\tresult = (spec.item as DragObjectFactory<O>)(monitor)\n\t\t} else {\n\t\t\tresult = {} as O\n\t\t}\n\t\treturn result ?? null\n\t}\n\n\tpublic canDrag() {\n\t\tconst spec = this.spec\n\t\tconst monitor = this.monitor\n\t\tif (typeof spec.canDrag === 'boolean') {\n\t\t\treturn spec.canDrag\n\t\t} else if (typeof spec.canDrag === 'function') {\n\t\t\treturn spec.canDrag(monitor)\n\t\t} else {\n\t\t\treturn true\n\t\t}\n\t}\n\n\tpublic isDragging(globalMonitor: DragDropMonitor, target: Identifier) {\n\t\tconst spec = this.spec\n\t\tconst monitor = this.monitor\n\t\tconst { isDragging } = spec\n\t\treturn isDragging\n\t\t\t? isDragging(monitor)\n\t\t\t: target === globalMonitor.getSourceId()\n\t}\n\n\tpublic endDrag() {\n\t\tconst spec = this.spec\n\t\tconst monitor = this.monitor\n\t\tconst connector = this.connector\n\t\tconst { end } = spec\n\t\tif (end) {\n\t\t\tend(monitor.getItem(), monitor)\n\t\t}\n\t\tconnector.reconnect()\n\t}\n}\n", "import { invariant } from '@react-dnd/invariant'\nimport type { Identifier } from 'dnd-core'\nimport { useMemo } from 'react'\n\nimport type { DragSourceHookSpec } from '../types.js'\n\nexport function useDragType(\n\tspec: DragSourceHookSpec<any, any, any>,\n): Identifier {\n\treturn useMemo(() => {\n\t\tconst result: Identifier = spec.type\n\t\tinvariant(result != null, 'spec.type must be defined')\n\t\treturn result\n\t}, [spec])\n}\n", "import type { SourceConnector } from '../../internals/index.js'\nimport { registerSource } from '../../internals/index.js'\nimport type { DragSourceMonitor } from '../../types/index.js'\nimport type { DragSourceHookSpec } from '../types.js'\nimport { useDragDropManager } from '../useDragDropManager.js'\nimport { useIsomorphicLayoutEffect } from '../useIsomorphicLayoutEffect.js'\nimport { useDragSource } from './useDragSource.js'\nimport { useDragType } from './useDragType.js'\n\nexport function useRegisteredDragSource<O, R, P>(\n\tspec: DragSourceHookSpec<O, R, P>,\n\tmonitor: DragSourceMonitor<O, R>,\n\tconnector: SourceConnector,\n): void {\n\tconst manager = useDragDropManager()\n\tconst handler = useDragSource(spec, monitor, connector)\n\tconst itemType = useDragType(spec)\n\n\tuseIsomorphicLayoutEffect(\n\t\tfunction registerDragSource() {\n\t\t\tif (itemType != null) {\n\t\t\t\tconst [handlerId, unregister] = registerSource(\n\t\t\t\t\titemType,\n\t\t\t\t\thandler,\n\t\t\t\t\tmanager,\n\t\t\t\t)\n\t\t\t\tmonitor.receiveHandlerId(handlerId)\n\t\t\t\tconnector.receiveHandlerId(handlerId)\n\t\t\t\treturn unregister\n\t\t\t}\n\t\t\treturn\n\t\t},\n\t\t[manager, monitor, connector, handler, itemType],\n\t)\n}\n", "import { invariant } from '@react-dnd/invariant'\n\nimport type {\n\tConnectDragPreview,\n\tConnectDragSource,\n} from '../../types/index.js'\nimport type { DragSourceHookSpec, FactoryOrInstance } from '../types.js'\nimport { useCollectedProps } from '../useCollectedProps.js'\nimport { useOptionalFactory } from '../useOptionalFactory.js'\nimport { useConnectDragPreview, useConnectDragSource } from './connectors.js'\nimport { useDragSourceConnector } from './useDragSourceConnector.js'\nimport { useDragSourceMonitor } from './useDragSourceMonitor.js'\nimport { useRegisteredDragSource } from './useRegisteredDragSource.js'\n\n/**\n * useDragSource hook\n * @param sourceSpec The drag source specification (object or function, function preferred)\n * @param deps The memoization deps array to use when evaluating spec changes\n */\nexport function useDrag<\n\tDragObject = unknown,\n\tDropResult = unknown,\n\tCollectedProps = unknown,\n>(\n\tspecArg: FactoryOrInstance<\n\t\tDragSourceHookSpec<DragObject, DropResult, CollectedProps>\n\t>,\n\tdeps?: unknown[],\n): [CollectedProps, ConnectDragSource, ConnectDragPreview] {\n\tconst spec = useOptionalFactory(specArg, deps)\n\tinvariant(\n\t\t!(spec as any).begin,\n\t\t`useDrag::spec.begin was deprecated in v14. Replace spec.begin() with spec.item(). (see more here - https://react-dnd.github.io/react-dnd/docs/api/use-drag)`,\n\t)\n\n\tconst monitor = useDragSourceMonitor<DragObject, DropResult>()\n\tconst connector = useDragSourceConnector(spec.options, spec.previewOptions)\n\tuseRegisteredDragSource(spec, monitor, connector)\n\n\treturn [\n\t\tuseCollectedProps(spec.collect, monitor, connector),\n\t\tuseConnectDragSource(connector),\n\t\tuseConnectDragPreview(connector),\n\t]\n}\n", "import { useEffect } from 'react'\n\nimport type { DragLayerMonitor } from '../types/index.js'\nimport { useCollector } from './useCollector.js'\nimport { useDragDropManager } from './useDragDropManager.js'\n\n/**\n * useDragLayer Hook\n * @param collector The property collector\n */\nexport function useDragLayer<CollectedProps, DragObject = any>(\n\tcollect: (monitor: DragLayerMonitor<DragObject>) => CollectedProps,\n): CollectedProps {\n\tconst dragDropManager = useDragDropManager()\n\tconst monitor = dragDropManager.getMonitor()\n\tconst [collected, updateCollected] = useCollector(monitor, collect)\n\n\tuseEffect(() => monitor.subscribeToOffsetChange(updateCollected))\n\tuseEffect(() => monitor.subscribeToStateChange(updateCollected))\n\treturn collected\n}\n", "import { useMemo } from 'react'\n\nimport type { TargetConnector } from '../../internals/index.js'\n\nexport function useConnectDropTarget(connector: TargetConnector) {\n\treturn useMemo(() => connector.hooks.dropTarget(), [connector])\n}\n", "import { useMemo } from 'react'\n\nimport { TargetConnector } from '../../internals/index.js'\nimport type { DropTargetOptions } from '../../types/index.js'\nimport { useDragDropManager } from '../useDragDropManager.js'\nimport { useIsomorphicLayoutEffect } from '../useIsomorphicLayoutEffect.js'\n\nexport function useDropTargetConnector(\n\toptions: DropTargetOptions,\n): TargetConnector {\n\tconst manager = useDragDropManager()\n\tconst connector = useMemo(\n\t\t() => new TargetConnector(manager.getBackend()),\n\t\t[manager],\n\t)\n\tuseIsomorphicLayoutEffect(() => {\n\t\tconnector.dropTargetOptions = options || null\n\t\tconnector.reconnect()\n\t\treturn () => connector.disconnectDropTarget()\n\t}, [options])\n\treturn connector\n}\n", "import { useMemo } from 'react'\n\nimport { DropTargetMonitorImpl } from '../../internals/index.js'\nimport type { DropTargetMonitor } from '../../types/index.js'\nimport { useDragDropManager } from '../useDragDropManager.js'\n\nexport function useDropTargetMonitor<O, R>(): DropTargetMonitor<O, R> {\n\tconst manager = useDragDropManager()\n\treturn useMemo(() => new DropTargetMonitorImpl(manager), [manager])\n}\n", "import { invariant } from '@react-dnd/invariant'\nimport type { Identifier } from 'dnd-core'\nimport { useMemo } from 'react'\n\nimport type { DropTargetHookSpec } from '../types.js'\n\n/**\n * Internal utility hook to get an array-version of spec.accept.\n * The main utility here is that we aren't creating a new array on every render if a non-array spec.accept is passed in.\n * @param spec\n */\nexport function useAccept<O, R, P>(\n\tspec: DropTargetHookSpec<O, R, P>,\n): Identifier[] {\n\tconst { accept } = spec\n\treturn useMemo(() => {\n\t\tinvariant(spec.accept != null, 'accept must be defined')\n\t\treturn Array.isArray(accept) ? accept : [accept]\n\t}, [accept])\n}\n", "import { useEffect, useMemo } from 'react'\n\nimport type { DropTargetMonitor } from '../../types/index.js'\nimport type { DropTargetHookSpec } from '../types.js'\nimport { DropTargetImpl } from './DropTargetImpl.js'\n\nexport function useDropTarget<O, R, P>(\n\tspec: DropTargetHookSpec<O, R, P>,\n\tmonitor: DropTargetMonitor<O, R>,\n) {\n\tconst dropTarget = useMemo(() => new DropTargetImpl(spec, monitor), [monitor])\n\tuseEffect(() => {\n\t\tdropTarget.spec = spec\n\t}, [spec])\n\treturn dropTarget\n}\n", "import type { DropTarget } from 'dnd-core'\n\nimport type { DropTargetMonitor } from '../../types/index.js'\nimport type { DropTargetHookSpec } from '../types.js'\n\nexport class DropTargetImpl<O, R, P> implements DropTarget {\n\tpublic constructor(\n\t\tpublic spec: DropTargetHookSpec<O, R, P>,\n\t\tprivate monitor: DropTargetMonitor<O, R>,\n\t) {}\n\n\tpublic canDrop() {\n\t\tconst spec = this.spec\n\t\tconst monitor = this.monitor\n\t\treturn spec.canDrop ? spec.canDrop(monitor.getItem(), monitor) : true\n\t}\n\n\tpublic hover() {\n\t\tconst spec = this.spec\n\t\tconst monitor = this.monitor\n\t\tif (spec.hover) {\n\t\t\tspec.hover(monitor.getItem(), monitor)\n\t\t}\n\t}\n\n\tpublic drop() {\n\t\tconst spec = this.spec\n\t\tconst monitor = this.monitor\n\t\tif (spec.drop) {\n\t\t\treturn spec.drop(monitor.getItem(), monitor)\n\t\t}\n\t\treturn\n\t}\n}\n", "import type { TargetConnector } from '../../internals/index.js'\nimport { registerTarget } from '../../internals/index.js'\nimport type { DropTargetMonitor } from '../../types/index.js'\nimport type { DropTargetHookSpec } from '../types.js'\nimport { useDragDropManager } from '../useDragDropManager.js'\nimport { useIsomorphicLayoutEffect } from '../useIsomorphicLayoutEffect.js'\nimport { useAccept } from './useAccept.js'\nimport { useDropTarget } from './useDropTarget.js'\n\nexport function useRegisteredDropTarget<O, R, P>(\n\tspec: DropTargetHookSpec<O, R, P>,\n\tmonitor: DropTargetMonitor<O, R>,\n\tconnector: TargetConnector,\n): void {\n\tconst manager = useDragDropManager()\n\tconst dropTarget = useDropTarget(spec, monitor)\n\tconst accept = useAccept(spec)\n\n\tuseIsomorphicLayoutEffect(\n\t\tfunction registerDropTarget() {\n\t\t\tconst [handlerId, unregister] = registerTarget(\n\t\t\t\taccept,\n\t\t\t\tdropTarget,\n\t\t\t\tmanager,\n\t\t\t)\n\t\t\tmonitor.receiveHandlerId(handlerId)\n\t\t\tconnector.receiveHandlerId(handlerId)\n\t\t\treturn unregister\n\t\t},\n\t\t[\n\t\t\tmanager,\n\t\t\tmonitor,\n\t\t\tdropTarget,\n\t\t\tconnector,\n\t\t\taccept.map((a) => a.toString()).join('|'),\n\t\t],\n\t)\n}\n", "import type { ConnectDropTarget } from '../../types/index.js'\nimport type { DropTargetHookSpec, FactoryOrInstance } from '../types.js'\nimport { useCollectedProps } from '../useCollectedProps.js'\nimport { useOptionalFactory } from '../useOptionalFactory.js'\nimport { useConnectDropTarget } from './connectors.js'\nimport { useDropTargetConnector } from './useDropTargetConnector.js'\nimport { useDropTargetMonitor } from './useDropTargetMonitor.js'\nimport { useRegisteredDropTarget } from './useRegisteredDropTarget.js'\n\n/**\n * useDropTarget Hook\n * @param spec The drop target specification (object or function, function preferred)\n * @param deps The memoization deps array to use when evaluating spec changes\n */\nexport function useDrop<\n\tDragObject = unknown,\n\tDropResult = unknown,\n\tCollectedProps = unknown,\n>(\n\tspecArg: FactoryOrInstance<\n\t\tDropTargetHookSpec<DragObject, DropResult, CollectedProps>\n\t>,\n\tdeps?: unknown[],\n): [CollectedProps, ConnectDropTarget] {\n\tconst spec = useOptionalFactory(specArg, deps)\n\tconst monitor = useDropTargetMonitor<DragObject, DropResult>()\n\tconst connector = useDropTargetConnector(spec.options)\n\tuseRegisteredDropTarget(spec, monitor, connector)\n\n\treturn [\n\t\tuseCollectedProps(spec.collect, monitor, connector),\n\t\tuseConnectDropTarget(connector),\n\t]\n}\n", "import c from\"react\";import{useRef as m}from\"react\";import{useDragLayer as f}from\"react-dnd\";var i=(t,e)=>({x:t.x-e.x,y:t.y-e.y}),a=t=>{let e=t.getInitialClientOffset(),r=t.getInitialSourceClientOffset();return e===null||r===null?{x:0,y:0}:i(e,r)},u=(t,e)=>{let r=t.getClientOffset();if(r===null)return null;if(!e.current||!e.current.getBoundingClientRect)return i(r,a(t));let n=e.current.getBoundingClientRect(),o={x:n.width/2,y:n.height/2};return i(r,o)};var p=t=>{let e=`translate(${t.x.toFixed(1)}px, ${t.y.toFixed(1)}px)`;return{pointerEvents:\"none\",position:\"fixed\",top:0,left:0,transform:e,WebkitTransform:e}},l=()=>{let t=m(null),e=f(r=>({currentOffset:u(r,t),isDragging:r.isDragging(),itemType:r.getItemType(),item:r.getItem(),monitor:r}));return!e.isDragging||e.currentOffset===null?{display:!1}:{display:!0,itemType:e.itemType,item:e.item,style:p(e.currentOffset),monitor:e.monitor,ref:t}};import{createContext as P}from\"react\";var s=P(void 0);var x=t=>{let e=l();if(!e.display)return null;let{display:r,...n}=e,o;return\"children\"in t?typeof t.children==\"function\"?o=t.children(n):o=t.children:o=t.generator(n),c.createElement(s.Provider,{value:n},o)};export{s as Context,x as Preview,l as usePreview};\n", "// cheap lodash replacements\n\nexport function memoize<T>(fn: () => T): () => T {\n\tlet result: T | null = null\n\tconst memoized = () => {\n\t\tif (result == null) {\n\t\t\tresult = fn()\n\t\t}\n\t\treturn result\n\t}\n\treturn memoized\n}\n\n/**\n * drop-in replacement for _.without\n */\nexport function without<T>(items: T[], item: T) {\n\treturn items.filter((i) => i !== item)\n}\n\nexport function union<T extends string | number>(itemsA: T[], itemsB: T[]) {\n\tconst set = new Set<T>()\n\tconst insertItem = (item: T) => set.add(item)\n\titemsA.forEach(insertItem)\n\titemsB.forEach(insertItem)\n\n\tconst result: T[] = []\n\tset.forEach((key) => result.push(key))\n\treturn result\n}\n", "import { union, without } from './utils/js_utils.js'\n\ntype NodePredicate = (node: Node | null | undefined) => boolean\n\nexport class EnterLeaveCounter {\n\tprivate entered: any[] = []\n\tprivate isNodeInDocument: NodePredicate\n\n\tpublic constructor(isNodeInDocument: NodePredicate) {\n\t\tthis.isNodeInDocument = isNodeInDocument\n\t}\n\n\tpublic enter(enteringNode: EventTarget | null): boolean {\n\t\tconst previousLength = this.entered.length\n\n\t\tconst isNodeEntered = (node: Node): boolean =>\n\t\t\tthis.isNodeInDocument(node) &&\n\t\t\t(!node.contains || node.contains(enteringNode as Node))\n\n\t\tthis.entered = union(this.entered.filter(isNodeEntered), [enteringNode])\n\n\t\treturn previousLength === 0 && this.entered.length > 0\n\t}\n\n\tpublic leave(leavingNode: EventTarget | null): boolean {\n\t\tconst previousLength = this.entered.length\n\n\t\tthis.entered = without(\n\t\t\tthis.entered.filter(this.isNodeInDocument),\n\t\t\tleavingNode,\n\t\t)\n\n\t\treturn previousLength > 0 && this.entered.length === 0\n\t}\n\n\tpublic reset(): void {\n\t\tthis.entered = []\n\t}\n}\n", "import type { DragDropMonitor } from 'dnd-core'\n\nimport type { NativeItemConfig } from './nativeTypesConfig.js'\n\nexport class NativeDragSource {\n\tpublic item: any\n\tprivate config: NativeItemConfig\n\n\tpublic constructor(config: NativeItemConfig) {\n\t\tthis.config = config\n\t\tthis.item = {}\n\t\tthis.initializeExposedProperties()\n\t}\n\n\tprivate initializeExposedProperties() {\n\t\tObject.keys(this.config.exposeProperties).forEach((property) => {\n\t\t\tObject.defineProperty(this.item, property, {\n\t\t\t\tconfigurable: true, // This is needed to allow redefining it later\n\t\t\t\tenumerable: true,\n\t\t\t\tget() {\n\t\t\t\t\t// eslint-disable-next-line no-console\n\t\t\t\t\tconsole.warn(\n\t\t\t\t\t\t`Browser doesn't allow reading \"${property}\" until the drop event.`,\n\t\t\t\t\t)\n\t\t\t\t\treturn null\n\t\t\t\t},\n\t\t\t})\n\t\t})\n\t}\n\n\tpublic loadDataTransfer(dataTransfer: DataTransfer | null | undefined): void {\n\t\tif (dataTransfer) {\n\t\t\tconst newProperties: PropertyDescriptorMap = {}\n\t\t\tObject.keys(this.config.exposeProperties).forEach((property) => {\n\t\t\t\tconst propertyFn = this.config.exposeProperties[property]\n\t\t\t\tif (propertyFn != null) {\n\t\t\t\t\tnewProperties[property] = {\n\t\t\t\t\t\tvalue: propertyFn(dataTransfer, this.config.matchesTypes),\n\t\t\t\t\t\tconfigurable: true,\n\t\t\t\t\t\tenumerable: true,\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})\n\t\t\tObject.defineProperties(this.item, newProperties)\n\t\t}\n\t}\n\n\tpublic canDrag(): boolean {\n\t\treturn true\n\t}\n\n\tpublic beginDrag(): any {\n\t\treturn this.item\n\t}\n\n\tpublic isDragging(monitor: DragDropMonitor, handle: string): boolean {\n\t\treturn handle === monitor.getSourceId()\n\t}\n\n\tpublic endDrag(): void {\n\t\t// empty\n\t}\n}\n", "export const FILE = '__NATIVE_FILE__'\nexport const URL = '__NATIVE_URL__'\nexport const TEXT = '__NATIVE_TEXT__'\nexport const HTML = '__NATIVE_HTML__'\n", "export function getDataFromDataTransfer(\n\tdataTransfer: DataTransfer,\n\ttypesToTry: string[],\n\tdefaultValue: string,\n): string {\n\tconst result = typesToTry.reduce(\n\t\t(resultSoFar, typeToTry) => resultSoFar || dataTransfer.getData(typeToTry),\n\t\t'',\n\t)\n\n\treturn result != null ? result : defaultValue\n}\n", "import * as NativeTypes from '../NativeTypes.js'\nimport { getDataFromDataTransfer } from './getDataFromDataTransfer.js'\n\nexport interface NativeItemConfigExposePropreties {\n\t[property: string]: (\n\t\tdataTransfer: DataTransfer,\n\t\tmatchesTypes: string[],\n\t) => any\n}\n\nexport interface NativeItemConfig {\n\texposeProperties: NativeItemConfigExposePropreties\n\tmatchesTypes: string[]\n}\n\nexport const nativeTypesConfig: {\n\t[key: string]: NativeItemConfig\n} = {\n\t[NativeTypes.FILE]: {\n\t\texposeProperties: {\n\t\t\tfiles: (dataTransfer: DataTransfer): File[] =>\n\t\t\t\tArray.prototype.slice.call(dataTransfer.files),\n\t\t\titems: (dataTransfer: DataTransfer): DataTransferItemList =>\n\t\t\t\tdataTransfer.items,\n\t\t\tdataTransfer: (dataTransfer: DataTransfer): DataTransfer => dataTransfer,\n\t\t},\n\t\tmatchesTypes: ['Files'],\n\t},\n\t[NativeTypes.HTML]: {\n\t\texposeProperties: {\n\t\t\thtml: (dataTransfer: DataTransfer, matchesTypes: string[]): string =>\n\t\t\t\tgetDataFromDataTransfer(dataTransfer, matchesTypes, ''),\n\t\t\tdataTransfer: (dataTransfer: DataTransfer): DataTransfer => dataTransfer,\n\t\t},\n\t\tmatchesTypes: ['Html', 'text/html'],\n\t},\n\t[NativeTypes.URL]: {\n\t\texposeProperties: {\n\t\t\turls: (dataTransfer: DataTransfer, matchesTypes: string[]): string[] =>\n\t\t\t\tgetDataFromDataTransfer(dataTransfer, matchesTypes, '').split('\\n'),\n\t\t\tdataTransfer: (dataTransfer: DataTransfer): DataTransfer => dataTransfer,\n\t\t},\n\t\tmatchesTypes: ['Url', 'text/uri-list'],\n\t},\n\t[NativeTypes.TEXT]: {\n\t\texposeProperties: {\n\t\t\ttext: (dataTransfer: DataTransfer, matchesTypes: string[]): string =>\n\t\t\t\tgetDataFromDataTransfer(dataTransfer, matchesTypes, ''),\n\t\t\tdataTransfer: (dataTransfer: DataTransfer): DataTransfer => dataTransfer,\n\t\t},\n\t\tmatchesTypes: ['Text', 'text/plain'],\n\t},\n}\n", "import { NativeDragSource } from './NativeDragSource.js'\nimport { nativeTypesConfig } from './nativeTypesConfig.js'\n\nexport function createNativeDragSource(\n\ttype: string,\n\tdataTransfer?: DataTransfer,\n): NativeDragSource {\n\tconst config = nativeTypesConfig[type]\n\tif (!config) {\n\t\tthrow new Error(`native type ${type} has no configuration`)\n\t}\n\tconst result = new NativeDragSource(config)\n\tresult.loadDataTransfer(dataTransfer)\n\treturn result\n}\n\nexport function matchNativeItemType(\n\tdataTransfer: DataTransfer | null,\n): string | null {\n\tif (!dataTransfer) {\n\t\treturn null\n\t}\n\n\tconst dataTransferTypes = Array.prototype.slice.call(dataTransfer.types || [])\n\treturn (\n\t\tObject.keys(nativeTypesConfig).filter((nativeItemType) => {\n\t\t\tconst typeConfig = nativeTypesConfig[nativeItemType]\n\t\t\tif (!typeConfig?.matchesTypes) {\n\t\t\t\treturn false\n\t\t\t}\n\t\t\treturn typeConfig.matchesTypes.some(\n\t\t\t\t(t) => dataTransferTypes.indexOf(t) > -1,\n\t\t\t)\n\t\t})[0] || null\n\t)\n}\n", "import { memoize } from './utils/js_utils.js'\n\ndeclare global {\n\tinterface Window extends HTMLElement {\n\t\tsafari: any\n\t}\n}\n\nexport type Predicate = () => boolean\nexport const isFirefox: Predicate = memoize(() =>\n\t/firefox/i.test(navigator.userAgent),\n)\nexport const isSafari: Predicate = memoize(() => Boolean(window.safari))\n", "export class MonotonicInterpolant {\n\tprivate xs: any\n\tprivate ys: any\n\tprivate c1s: any\n\tprivate c2s: any\n\tprivate c3s: any\n\n\tpublic constructor(xs: number[], ys: number[]) {\n\t\tconst { length } = xs\n\n\t\t// Rearrange xs and ys so that xs is sorted\n\t\tconst indexes = []\n\t\tfor (let i = 0; i < length; i++) {\n\t\t\tindexes.push(i)\n\t\t}\n\t\tindexes.sort((a, b) => ((xs[a] as number) < (xs[b] as number) ? -1 : 1))\n\n\t\t// Get consecutive differences and slopes\n\t\tconst dys = []\n\t\tconst dxs = []\n\t\tconst ms = []\n\t\tlet dx\n\t\tlet dy\n\t\tfor (let i = 0; i < length - 1; i++) {\n\t\t\tdx = (xs[i + 1] as number) - (xs[i] as number)\n\t\t\tdy = (ys[i + 1] as number) - (ys[i] as number)\n\t\t\tdxs.push(dx)\n\t\t\tdys.push(dy)\n\t\t\tms.push(dy / dx)\n\t\t}\n\n\t\t// Get degree-1 coefficients\n\t\tconst c1s = [ms[0]]\n\t\tfor (let i = 0; i < dxs.length - 1; i++) {\n\t\t\tconst m2 = ms[i] as number\n\t\t\tconst mNext = ms[i + 1] as number\n\t\t\tif (m2 * mNext <= 0) {\n\t\t\t\tc1s.push(0)\n\t\t\t} else {\n\t\t\t\tdx = dxs[i] as number\n\t\t\t\tconst dxNext = dxs[i + 1] as number\n\t\t\t\tconst common = dx + dxNext\n\t\t\t\tc1s.push(\n\t\t\t\t\t(3 * common) / ((common + dxNext) / m2 + (common + dx) / mNext),\n\t\t\t\t)\n\t\t\t}\n\t\t}\n\t\tc1s.push(ms[ms.length - 1])\n\n\t\t// Get degree-2 and degree-3 coefficients\n\t\tconst c2s = []\n\t\tconst c3s = []\n\t\tlet m\n\t\tfor (let i = 0; i < c1s.length - 1; i++) {\n\t\t\tm = ms[i] as number\n\t\t\tconst c1 = c1s[i] as number\n\t\t\tconst invDx = 1 / (dxs[i] as number)\n\t\t\tconst common = c1 + (c1s[i + 1] as number) - m - m\n\t\t\tc2s.push((m - c1 - common) * invDx)\n\t\t\tc3s.push(common * invDx * invDx)\n\t\t}\n\n\t\tthis.xs = xs\n\t\tthis.ys = ys\n\t\tthis.c1s = c1s\n\t\tthis.c2s = c2s\n\t\tthis.c3s = c3s\n\t}\n\n\tpublic interpolate(x: number): number {\n\t\tconst { xs, ys, c1s, c2s, c3s } = this\n\n\t\t// The rightmost point in the dataset should give an exact result\n\t\tlet i = xs.length - 1\n\t\tif (x === xs[i]) {\n\t\t\treturn ys[i]\n\t\t}\n\n\t\t// Search for the interval x is in, returning the corresponding y if x is one of the original xs\n\t\tlet low = 0\n\t\tlet high = c3s.length - 1\n\t\tlet mid\n\t\twhile (low <= high) {\n\t\t\tmid = Math.floor(0.5 * (low + high))\n\t\t\tconst xHere = xs[mid]\n\t\t\tif (xHere < x) {\n\t\t\t\tlow = mid + 1\n\t\t\t} else if (xHere > x) {\n\t\t\t\thigh = mid - 1\n\t\t\t} else {\n\t\t\t\treturn ys[mid]\n\t\t\t}\n\t\t}\n\t\ti = Math.max(0, high)\n\n\t\t// Interpolate\n\t\tconst diff = x - xs[i]\n\t\tconst diffSq = diff * diff\n\t\treturn ys[i] + c1s[i] * diff + c2s[i] * diffSq + c3s[i] * diff * diffSq\n\t}\n}\n", "import type { XYCoord } from 'dnd-core'\n\nimport { isFirefox, isSafari } from './BrowserDetector.js'\nimport { MonotonicInterpolant } from './MonotonicInterpolant.js'\n\nconst ELEMENT_NODE = 1\n\nexport function getNodeClientOffset(node: Node): XYCoord | null {\n\tconst el = node.nodeType === ELEMENT_NODE ? node : node.parentElement\n\n\tif (!el) {\n\t\treturn null\n\t}\n\n\tconst { top, left } = (el as HTMLElement).getBoundingClientRect()\n\treturn { x: left, y: top }\n}\n\nexport function getEventClientOffset(e: MouseEvent): XYCoord {\n\treturn {\n\t\tx: e.clientX,\n\t\ty: e.clientY,\n\t}\n}\n\nfunction isImageNode(node: any) {\n\treturn (\n\t\tnode.nodeName === 'IMG' &&\n\t\t(isFirefox() || !document.documentElement?.contains(node))\n\t)\n}\n\nfunction getDragPreviewSize(\n\tisImage: boolean,\n\tdragPreview: any,\n\tsourceWidth: number,\n\tsourceHeight: number,\n) {\n\tlet dragPreviewWidth = isImage ? dragPreview.width : sourceWidth\n\tlet dragPreviewHeight = isImage ? dragPreview.height : sourceHeight\n\n\t// Work around @2x coordinate discrepancies in browsers\n\tif (isSafari() && isImage) {\n\t\tdragPreviewHeight /= window.devicePixelRatio\n\t\tdragPreviewWidth /= window.devicePixelRatio\n\t}\n\treturn { dragPreviewWidth, dragPreviewHeight }\n}\n\nexport function getDragPreviewOffset(\n\tsourceNode: HTMLElement,\n\tdragPreview: HTMLElement,\n\tclientOffset: XYCoord,\n\tanchorPoint: { anchorX: number; anchorY: number },\n\toffsetPoint: { offsetX: number; offsetY: number },\n): XYCoord {\n\t// The browsers will use the image intrinsic size under different conditions.\n\t// Firefox only cares if it's an image, but WebKit also wants it to be detached.\n\tconst isImage = isImageNode(dragPreview)\n\tconst dragPreviewNode = isImage ? sourceNode : dragPreview\n\tconst dragPreviewNodeOffsetFromClient = getNodeClientOffset(\n\t\tdragPreviewNode,\n\t) as XYCoord\n\tconst offsetFromDragPreview = {\n\t\tx: clientOffset.x - dragPreviewNodeOffsetFromClient.x,\n\t\ty: clientOffset.y - dragPreviewNodeOffsetFromClient.y,\n\t}\n\tconst { offsetWidth: sourceWidth, offsetHeight: sourceHeight } = sourceNode\n\tconst { anchorX, anchorY } = anchorPoint\n\tconst { dragPreviewWidth, dragPreviewHeight } = getDragPreviewSize(\n\t\tisImage,\n\t\tdragPreview,\n\t\tsourceWidth,\n\t\tsourceHeight,\n\t)\n\n\tconst calculateYOffset = () => {\n\t\tconst interpolantY = new MonotonicInterpolant(\n\t\t\t[0, 0.5, 1],\n\t\t\t[\n\t\t\t\t// Dock to the top\n\t\t\t\toffsetFromDragPreview.y,\n\t\t\t\t// Align at the center\n\t\t\t\t(offsetFromDragPreview.y / sourceHeight) * dragPreviewHeight,\n\t\t\t\t// Dock to the bottom\n\t\t\t\toffsetFromDragPreview.y + dragPreviewHeight - sourceHeight,\n\t\t\t],\n\t\t)\n\t\tlet y = interpolantY.interpolate(anchorY)\n\t\t// Work around Safari 8 positioning bug\n\t\tif (isSafari() && isImage) {\n\t\t\t// We'll have to wait for @3x to see if this is entirely correct\n\t\t\ty += (window.devicePixelRatio - 1) * dragPreviewHeight\n\t\t}\n\t\treturn y\n\t}\n\n\tconst calculateXOffset = () => {\n\t\t// Interpolate coordinates depending on anchor point\n\t\t// If you know a simpler way to do this, let me know\n\t\tconst interpolantX = new MonotonicInterpolant(\n\t\t\t[0, 0.5, 1],\n\t\t\t[\n\t\t\t\t// Dock to the left\n\t\t\t\toffsetFromDragPreview.x,\n\t\t\t\t// Align at the center\n\t\t\t\t(offsetFromDragPreview.x / sourceWidth) * dragPreviewWidth,\n\t\t\t\t// Dock to the right\n\t\t\t\toffsetFromDragPreview.x + dragPreviewWidth - sourceWidth,\n\t\t\t],\n\t\t)\n\t\treturn interpolantX.interpolate(anchorX)\n\t}\n\n\t// Force offsets if specified in the options.\n\tconst { offsetX, offsetY } = offsetPoint\n\tconst isManualOffsetX = offsetX === 0 || offsetX\n\tconst isManualOffsetY = offsetY === 0 || offsetY\n\treturn {\n\t\tx: isManualOffsetX ? offsetX : calculateXOffset(),\n\t\ty: isManualOffsetY ? offsetY : calculateYOffset(),\n\t}\n}\n", "import type { HTML5BackendContext, HTML5BackendOptions } from './types.js'\n\nexport class OptionsReader {\n\tpublic ownerDocument: Document | null = null\n\tprivate globalContext: HTML5BackendContext\n\tprivate optionsArgs: HTML5BackendOptions | undefined\n\n\tpublic constructor(\n\t\tglobalContext: HTML5BackendContext,\n\t\toptions?: HTML5BackendOptions,\n\t) {\n\t\tthis.globalContext = globalContext\n\t\tthis.optionsArgs = options\n\t}\n\n\tpublic get window(): Window | undefined {\n\t\tif (this.globalContext) {\n\t\t\treturn this.globalContext\n\t\t} else if (typeof window !== 'undefined') {\n\t\t\treturn window\n\t\t}\n\t\treturn undefined\n\t}\n\n\tpublic get document(): Document | undefined {\n\t\tif (this.globalContext?.document) {\n\t\t\treturn this.globalContext.document\n\t\t} else if (this.window) {\n\t\t\treturn this.window.document\n\t\t} else {\n\t\t\treturn undefined\n\t\t}\n\t}\n\n\tpublic get rootElement(): Node | undefined {\n\t\treturn this.optionsArgs?.rootElement || this.window\n\t}\n}\n", "import type {\n\tBackend,\n\tDragDropActions,\n\tDragDropManager,\n\tDragDropMonitor,\n\tHandlerRegistry,\n\tIdentifier,\n\tUnsubscribe,\n\tXYCoord,\n} from 'dnd-core'\n\nimport { EnterLeaveCounter } from './EnterLeaveCounter.js'\nimport {\n\tcreateNativeDragSource,\n\tmatchNativeItemType,\n} from './NativeDragSources/index.js'\nimport type { NativeDragSource } from './NativeDragSources/NativeDragSource.js'\nimport * as NativeTypes from './NativeTypes.js'\nimport {\n\tgetDragPreviewOffset,\n\tgetEventClientOffset,\n\tgetNodeClientOffset,\n} from './OffsetUtils.js'\nimport { OptionsReader } from './OptionsReader.js'\nimport type { HTML5BackendContext, HTML5BackendOptions } from './types.js'\n\ntype RootNode = Node & { __isReactDndBackendSetUp: boolean | undefined }\n\nexport class HTML5BackendImpl implements Backend {\n\tprivate options: OptionsReader\n\n\t// React-Dnd Components\n\tprivate actions: DragDropActions\n\tprivate monitor: DragDropMonitor\n\tprivate registry: HandlerRegistry\n\n\t// Internal State\n\tprivate enterLeaveCounter: EnterLeaveCounter\n\n\tprivate sourcePreviewNodes: Map<string, Element> = new Map()\n\tprivate sourcePreviewNodeOptions: Map<string, any> = new Map()\n\tprivate sourceNodes: Map<string, Element> = new Map()\n\tprivate sourceNodeOptions: Map<string, any> = new Map()\n\n\tprivate dragStartSourceIds: string[] | null = null\n\tprivate dropTargetIds: string[] = []\n\tprivate dragEnterTargetIds: string[] = []\n\tprivate currentNativeSource: NativeDragSource | null = null\n\tprivate currentNativeHandle: Identifier | null = null\n\tprivate currentDragSourceNode: Element | null = null\n\tprivate altKeyPressed = false\n\tprivate mouseMoveTimeoutTimer: number | null = null\n\tprivate asyncEndDragFrameId: number | null = null\n\tprivate dragOverTargetIds: string[] | null = null\n\n\tprivate lastClientOffset: XYCoord | null = null\n\tprivate hoverRafId: number | null = null\n\n\tpublic constructor(\n\t\tmanager: DragDropManager,\n\t\tglobalContext?: HTML5BackendContext,\n\t\toptions?: HTML5BackendOptions,\n\t) {\n\t\tthis.options = new OptionsReader(globalContext, options)\n\t\tthis.actions = manager.getActions()\n\t\tthis.monitor = manager.getMonitor()\n\t\tthis.registry = manager.getRegistry()\n\t\tthis.enterLeaveCounter = new EnterLeaveCounter(this.isNodeInDocument)\n\t}\n\n\t/**\n\t * Generate profiling statistics for the HTML5Backend.\n\t */\n\tpublic profile(): Record<string, number> {\n\t\treturn {\n\t\t\tsourcePreviewNodes: this.sourcePreviewNodes.size,\n\t\t\tsourcePreviewNodeOptions: this.sourcePreviewNodeOptions.size,\n\t\t\tsourceNodeOptions: this.sourceNodeOptions.size,\n\t\t\tsourceNodes: this.sourceNodes.size,\n\t\t\tdragStartSourceIds: this.dragStartSourceIds?.length || 0,\n\t\t\tdropTargetIds: this.dropTargetIds.length,\n\t\t\tdragEnterTargetIds: this.dragEnterTargetIds.length,\n\t\t\tdragOverTargetIds: this.dragOverTargetIds?.length || 0,\n\t\t}\n\t}\n\n\t// public for test\n\tpublic get window(): Window | undefined {\n\t\treturn this.options.window\n\t}\n\tpublic get document(): Document | undefined {\n\t\treturn this.options.document\n\t}\n\t/**\n\t * Get the root element to use for event subscriptions\n\t */\n\tprivate get rootElement(): Node | undefined {\n\t\treturn this.options.rootElement as Node\n\t}\n\n\tpublic setup(): void {\n\t\tconst root = this.rootElement as RootNode | undefined\n\t\tif (root === undefined) {\n\t\t\treturn\n\t\t}\n\n\t\tif (root.__isReactDndBackendSetUp) {\n\t\t\tthrow new Error('Cannot have two HTML5 backends at the same time.')\n\t\t}\n\t\troot.__isReactDndBackendSetUp = true\n\t\tthis.addEventListeners(root)\n\t}\n\n\tpublic teardown(): void {\n\t\tconst root = this.rootElement as RootNode\n\t\tif (root === undefined) {\n\t\t\treturn\n\t\t}\n\n\t\troot.__isReactDndBackendSetUp = false\n\t\tthis.removeEventListeners(this.rootElement as Element)\n\t\tthis.clearCurrentDragSourceNode()\n\t\tif (this.asyncEndDragFrameId) {\n\t\t\tthis.window?.cancelAnimationFrame(this.asyncEndDragFrameId)\n\t\t}\n\t}\n\n\tpublic connectDragPreview(\n\t\tsourceId: string,\n\t\tnode: Element,\n\t\toptions: any,\n\t): Unsubscribe {\n\t\tthis.sourcePreviewNodeOptions.set(sourceId, options)\n\t\tthis.sourcePreviewNodes.set(sourceId, node)\n\n\t\treturn (): void => {\n\t\t\tthis.sourcePreviewNodes.delete(sourceId)\n\t\t\tthis.sourcePreviewNodeOptions.delete(sourceId)\n\t\t}\n\t}\n\n\tpublic connectDragSource(\n\t\tsourceId: string,\n\t\tnode: Element,\n\t\toptions: any,\n\t): Unsubscribe {\n\t\tthis.sourceNodes.set(sourceId, node)\n\t\tthis.sourceNodeOptions.set(sourceId, options)\n\n\t\tconst handleDragStart = (e: any) => this.handleDragStart(e, sourceId)\n\t\tconst handleSelectStart = (e: any) => this.handleSelectStart(e)\n\n\t\tnode.setAttribute('draggable', 'true')\n\t\tnode.addEventListener('dragstart', handleDragStart)\n\t\tnode.addEventListener('selectstart', handleSelectStart)\n\n\t\treturn (): void => {\n\t\t\tthis.sourceNodes.delete(sourceId)\n\t\t\tthis.sourceNodeOptions.delete(sourceId)\n\n\t\t\tnode.removeEventListener('dragstart', handleDragStart)\n\t\t\tnode.removeEventListener('selectstart', handleSelectStart)\n\t\t\tnode.setAttribute('draggable', 'false')\n\t\t}\n\t}\n\n\tpublic connectDropTarget(targetId: string, node: HTMLElement): Unsubscribe {\n\t\tconst handleDragEnter = (e: DragEvent) => this.handleDragEnter(e, targetId)\n\t\tconst handleDragOver = (e: DragEvent) => this.handleDragOver(e, targetId)\n\t\tconst handleDrop = (e: DragEvent) => this.handleDrop(e, targetId)\n\n\t\tnode.addEventListener('dragenter', handleDragEnter)\n\t\tnode.addEventListener('dragover', handleDragOver)\n\t\tnode.addEventListener('drop', handleDrop)\n\n\t\treturn (): void => {\n\t\t\tnode.removeEventListener('dragenter', handleDragEnter)\n\t\t\tnode.removeEventListener('dragover', handleDragOver)\n\t\t\tnode.removeEventListener('drop', handleDrop)\n\t\t}\n\t}\n\n\tprivate addEventListeners(target: Node) {\n\t\t// SSR Fix (https://github.com/react-dnd/react-dnd/pull/813\n\t\tif (!target.addEventListener) {\n\t\t\treturn\n\t\t}\n\t\ttarget.addEventListener(\n\t\t\t'dragstart',\n\t\t\tthis.handleTopDragStart as EventListener,\n\t\t)\n\t\ttarget.addEventListener('dragstart', this.handleTopDragStartCapture, true)\n\t\ttarget.addEventListener('dragend', this.handleTopDragEndCapture, true)\n\t\ttarget.addEventListener(\n\t\t\t'dragenter',\n\t\t\tthis.handleTopDragEnter as EventListener,\n\t\t)\n\t\ttarget.addEventListener(\n\t\t\t'dragenter',\n\t\t\tthis.handleTopDragEnterCapture as EventListener,\n\t\t\ttrue,\n\t\t)\n\t\ttarget.addEventListener(\n\t\t\t'dragleave',\n\t\t\tthis.handleTopDragLeaveCapture as EventListener,\n\t\t\ttrue,\n\t\t)\n\t\ttarget.addEventListener('dragover', this.handleTopDragOver as EventListener)\n\t\ttarget.addEventListener(\n\t\t\t'dragover',\n\t\t\tthis.handleTopDragOverCapture as EventListener,\n\t\t\ttrue,\n\t\t)\n\t\ttarget.addEventListener('drop', this.handleTopDrop as EventListener)\n\t\ttarget.addEventListener(\n\t\t\t'drop',\n\t\t\tthis.handleTopDropCapture as EventListener,\n\t\t\ttrue,\n\t\t)\n\t}\n\n\tprivate removeEventListeners(target: Node) {\n\t\t// SSR Fix (https://github.com/react-dnd/react-dnd/pull/813\n\t\tif (!target.removeEventListener) {\n\t\t\treturn\n\t\t}\n\t\ttarget.removeEventListener('dragstart', this.handleTopDragStart as any)\n\t\ttarget.removeEventListener(\n\t\t\t'dragstart',\n\t\t\tthis.handleTopDragStartCapture,\n\t\t\ttrue,\n\t\t)\n\t\ttarget.removeEventListener('dragend', this.handleTopDragEndCapture, true)\n\t\ttarget.removeEventListener(\n\t\t\t'dragenter',\n\t\t\tthis.handleTopDragEnter as EventListener,\n\t\t)\n\t\ttarget.removeEventListener(\n\t\t\t'dragenter',\n\t\t\tthis.handleTopDragEnterCapture as EventListener,\n\t\t\ttrue,\n\t\t)\n\t\ttarget.removeEventListener(\n\t\t\t'dragleave',\n\t\t\tthis.handleTopDragLeaveCapture as EventListener,\n\t\t\ttrue,\n\t\t)\n\t\ttarget.removeEventListener(\n\t\t\t'dragover',\n\t\t\tthis.handleTopDragOver as EventListener,\n\t\t)\n\t\ttarget.removeEventListener(\n\t\t\t'dragover',\n\t\t\tthis.handleTopDragOverCapture as EventListener,\n\t\t\ttrue,\n\t\t)\n\t\ttarget.removeEventListener('drop', this.handleTopDrop as EventListener)\n\t\ttarget.removeEventListener(\n\t\t\t'drop',\n\t\t\tthis.handleTopDropCapture as EventListener,\n\t\t\ttrue,\n\t\t)\n\t}\n\n\tprivate getCurrentSourceNodeOptions() {\n\t\tconst sourceId = this.monitor.getSourceId() as string\n\t\tconst sourceNodeOptions = this.sourceNodeOptions.get(sourceId)\n\n\t\treturn {\n\t\t\tdropEffect: this.altKeyPressed ? 'copy' : 'move',\n\t\t\t...(sourceNodeOptions || {}),\n\t\t}\n\t}\n\n\tprivate getCurrentDropEffect() {\n\t\tif (this.isDraggingNativeItem()) {\n\t\t\t// It makes more sense to default to 'copy' for native resources\n\t\t\treturn 'copy'\n\t\t}\n\n\t\treturn this.getCurrentSourceNodeOptions().dropEffect\n\t}\n\n\tprivate getCurrentSourcePreviewNodeOptions() {\n\t\tconst sourceId = this.monitor.getSourceId() as string\n\t\tconst sourcePreviewNodeOptions = this.sourcePreviewNodeOptions.get(sourceId)\n\n\t\treturn {\n\t\t\tanchorX: 0.5,\n\t\t\tanchorY: 0.5,\n\t\t\tcaptureDraggingState: false,\n\t\t\t...(sourcePreviewNodeOptions || {}),\n\t\t}\n\t}\n\n\tprivate getSourceClientOffset = (sourceId: string): XYCoord | null => {\n\t\tconst source = this.sourceNodes.get(sourceId)\n\t\treturn (source && getNodeClientOffset(source as HTMLElement)) || null\n\t}\n\n\tprivate isDraggingNativeItem() {\n\t\tconst itemType = this.monitor.getItemType()\n\t\treturn Object.keys(NativeTypes).some(\n\t\t\t(key: string) => (NativeTypes as any)[key] === itemType,\n\t\t)\n\t}\n\n\tprivate beginDragNativeItem(type: string, dataTransfer?: DataTransfer) {\n\t\tthis.clearCurrentDragSourceNode()\n\n\t\tthis.currentNativeSource = createNativeDragSource(type, dataTransfer)\n\t\tthis.currentNativeHandle = this.registry.addSource(\n\t\t\ttype,\n\t\t\tthis.currentNativeSource,\n\t\t)\n\t\tthis.actions.beginDrag([this.currentNativeHandle])\n\t}\n\n\tprivate endDragNativeItem = (): void => {\n\t\tif (!this.isDraggingNativeItem()) {\n\t\t\treturn\n\t\t}\n\n\t\tthis.actions.endDrag()\n\t\tif (this.currentNativeHandle) {\n\t\t\tthis.registry.removeSource(this.currentNativeHandle)\n\t\t}\n\t\tthis.currentNativeHandle = null\n\t\tthis.currentNativeSource = null\n\t}\n\n\tprivate isNodeInDocument = (node: Node | null | undefined): boolean => {\n\t\t// Check the node either in the main document or in the current context\n\t\treturn Boolean(\n\t\t\tnode &&\n\t\t\t\tthis.document &&\n\t\t\t\tthis.document.body &&\n\t\t\t\tthis.document.body.contains(node),\n\t\t)\n\t}\n\n\tprivate endDragIfSourceWasRemovedFromDOM = (): void => {\n\t\tconst node = this.currentDragSourceNode\n\t\tif (node == null || this.isNodeInDocument(node)) {\n\t\t\treturn\n\t\t}\n\n\t\tif (this.clearCurrentDragSourceNode() && this.monitor.isDragging()) {\n\t\t\tthis.actions.endDrag()\n\t\t}\n\t\tthis.cancelHover()\n\t}\n\n\tprivate setCurrentDragSourceNode(node: Element | null) {\n\t\tthis.clearCurrentDragSourceNode()\n\t\tthis.currentDragSourceNode = node\n\n\t\t// A timeout of > 0 is necessary to resolve Firefox issue referenced\n\t\t// See:\n\t\t//   * https://github.com/react-dnd/react-dnd/pull/928\n\t\t//   * https://github.com/react-dnd/react-dnd/issues/869\n\t\tconst MOUSE_MOVE_TIMEOUT = 1000\n\n\t\t// Receiving a mouse event in the middle of a dragging operation\n\t\t// means it has ended and the drag source node disappeared from DOM,\n\t\t// so the browser didn't dispatch the dragend event.\n\t\t//\n\t\t// We need to wait before we start listening for mousemove events.\n\t\t// This is needed because the drag preview needs to be drawn or else it fires an 'mousemove' event\n\t\t// immediately in some browsers.\n\t\t//\n\t\t// See:\n\t\t//   * https://github.com/react-dnd/react-dnd/pull/928\n\t\t//   * https://github.com/react-dnd/react-dnd/issues/869\n\t\t//\n\t\tthis.mouseMoveTimeoutTimer = setTimeout(() => {\n\t\t\treturn this.rootElement?.addEventListener(\n\t\t\t\t'mousemove',\n\t\t\t\tthis.endDragIfSourceWasRemovedFromDOM,\n\t\t\t\ttrue,\n\t\t\t)\n\t\t}, MOUSE_MOVE_TIMEOUT) as any as number\n\t}\n\n\tprivate clearCurrentDragSourceNode() {\n\t\tif (this.currentDragSourceNode) {\n\t\t\tthis.currentDragSourceNode = null\n\n\t\t\tif (this.rootElement) {\n\t\t\t\tthis.window?.clearTimeout(this.mouseMoveTimeoutTimer || undefined)\n\t\t\t\tthis.rootElement.removeEventListener(\n\t\t\t\t\t'mousemove',\n\t\t\t\t\tthis.endDragIfSourceWasRemovedFromDOM,\n\t\t\t\t\ttrue,\n\t\t\t\t)\n\t\t\t}\n\n\t\t\tthis.mouseMoveTimeoutTimer = null\n\t\t\treturn true\n\t\t}\n\n\t\treturn false\n\t}\n\n\tprivate scheduleHover = (dragOverTargetIds: string[] | null) => {\n\t\tif (\n\t\t\tthis.hoverRafId === null &&\n\t\t\ttypeof requestAnimationFrame !== 'undefined'\n\t\t) {\n\t\t\tthis.hoverRafId = requestAnimationFrame(() => {\n\t\t\t\tif (this.monitor.isDragging()) {\n\t\t\t\t\tthis.actions.hover(dragOverTargetIds || [], {\n\t\t\t\t\t\tclientOffset: this.lastClientOffset,\n\t\t\t\t\t})\n\t\t\t\t}\n\n\t\t\t\tthis.hoverRafId = null\n\t\t\t})\n\t\t}\n\t}\n\n\tprivate cancelHover = () => {\n\t\tif (\n\t\t\tthis.hoverRafId !== null &&\n\t\t\ttypeof cancelAnimationFrame !== 'undefined'\n\t\t) {\n\t\t\tcancelAnimationFrame(this.hoverRafId)\n\t\t\tthis.hoverRafId = null\n\t\t}\n\t}\n\n\tpublic handleTopDragStartCapture = (): void => {\n\t\tthis.clearCurrentDragSourceNode()\n\t\tthis.dragStartSourceIds = []\n\t}\n\n\tpublic handleDragStart(e: DragEvent, sourceId: string): void {\n\t\tif (e.defaultPrevented) {\n\t\t\treturn\n\t\t}\n\n\t\tif (!this.dragStartSourceIds) {\n\t\t\tthis.dragStartSourceIds = []\n\t\t}\n\t\tthis.dragStartSourceIds.unshift(sourceId)\n\t}\n\n\tpublic handleTopDragStart = (e: DragEvent): void => {\n\t\tif (e.defaultPrevented) {\n\t\t\treturn\n\t\t}\n\n\t\tconst { dragStartSourceIds } = this\n\t\tthis.dragStartSourceIds = null\n\n\t\tconst clientOffset = getEventClientOffset(e)\n\n\t\t// Avoid crashing if we missed a drop event or our previous drag died\n\t\tif (this.monitor.isDragging()) {\n\t\t\tthis.actions.endDrag()\n\t\t\tthis.cancelHover()\n\t\t}\n\n\t\t// Don't publish the source just yet (see why below)\n\t\tthis.actions.beginDrag(dragStartSourceIds || [], {\n\t\t\tpublishSource: false,\n\t\t\tgetSourceClientOffset: this.getSourceClientOffset,\n\t\t\tclientOffset,\n\t\t})\n\n\t\tconst { dataTransfer } = e\n\t\tconst nativeType = matchNativeItemType(dataTransfer)\n\n\t\tif (this.monitor.isDragging()) {\n\t\t\tif (dataTransfer && typeof dataTransfer.setDragImage === 'function') {\n\t\t\t\t// Use custom drag image if user specifies it.\n\t\t\t\t// If child drag source refuses drag but parent agrees,\n\t\t\t\t// use parent's node as drag image. Neither works in IE though.\n\t\t\t\tconst sourceId: string = this.monitor.getSourceId() as string\n\t\t\t\tconst sourceNode = this.sourceNodes.get(sourceId)\n\t\t\t\tconst dragPreview = this.sourcePreviewNodes.get(sourceId) || sourceNode\n\n\t\t\t\tif (dragPreview) {\n\t\t\t\t\tconst { anchorX, anchorY, offsetX, offsetY } =\n\t\t\t\t\t\tthis.getCurrentSourcePreviewNodeOptions()\n\t\t\t\t\tconst anchorPoint = { anchorX, anchorY }\n\t\t\t\t\tconst offsetPoint = { offsetX, offsetY }\n\t\t\t\t\tconst dragPreviewOffset = getDragPreviewOffset(\n\t\t\t\t\t\tsourceNode as HTMLElement,\n\t\t\t\t\t\tdragPreview as HTMLElement,\n\t\t\t\t\t\tclientOffset,\n\t\t\t\t\t\tanchorPoint,\n\t\t\t\t\t\toffsetPoint,\n\t\t\t\t\t)\n\n\t\t\t\t\tdataTransfer.setDragImage(\n\t\t\t\t\t\tdragPreview,\n\t\t\t\t\t\tdragPreviewOffset.x,\n\t\t\t\t\t\tdragPreviewOffset.y,\n\t\t\t\t\t)\n\t\t\t\t}\n\t\t\t}\n\n\t\t\ttry {\n\t\t\t\t// Firefox won't drag without setting data\n\t\t\t\tdataTransfer?.setData('application/json', {} as any)\n\t\t\t} catch (err) {\n\t\t\t\t// IE doesn't support MIME types in setData\n\t\t\t}\n\n\t\t\t// Store drag source node so we can check whether\n\t\t\t// it is removed from DOM and trigger endDrag manually.\n\t\t\tthis.setCurrentDragSourceNode(e.target as Element)\n\n\t\t\t// Now we are ready to publish the drag source.. or are we not?\n\t\t\tconst { captureDraggingState } = this.getCurrentSourcePreviewNodeOptions()\n\t\t\tif (!captureDraggingState) {\n\t\t\t\t// Usually we want to publish it in the next tick so that browser\n\t\t\t\t// is able to screenshot the current (not yet dragging) state.\n\t\t\t\t//\n\t\t\t\t// It also neatly avoids a situation where render() returns null\n\t\t\t\t// in the same tick for the source element, and browser freaks out.\n\t\t\t\tsetTimeout(() => this.actions.publishDragSource(), 0)\n\t\t\t} else {\n\t\t\t\t// In some cases the user may want to override this behavior, e.g.\n\t\t\t\t// to work around IE not supporting custom drag previews.\n\t\t\t\t//\n\t\t\t\t// When using a custom drag layer, the only way to prevent\n\t\t\t\t// the default drag preview from drawing in IE is to screenshot\n\t\t\t\t// the dragging state in which the node itself has zero opacity\n\t\t\t\t// and height. In this case, though, returning null from render()\n\t\t\t\t// will abruptly end the dragging, which is not obvious.\n\t\t\t\t//\n\t\t\t\t// This is the reason such behavior is strictly opt-in.\n\t\t\t\tthis.actions.publishDragSource()\n\t\t\t}\n\t\t} else if (nativeType) {\n\t\t\t// A native item (such as URL) dragged from inside the document\n\t\t\tthis.beginDragNativeItem(nativeType)\n\t\t} else if (\n\t\t\tdataTransfer &&\n\t\t\t!dataTransfer.types &&\n\t\t\t((e.target && !(e.target as Element).hasAttribute) ||\n\t\t\t\t!(e.target as Element).hasAttribute('draggable'))\n\t\t) {\n\t\t\t// Looks like a Safari bug: dataTransfer.types is null, but there was no draggable.\n\t\t\t// Just let it drag. It's a native type (URL or text) and will be picked up in\n\t\t\t// dragenter handler.\n\t\t\treturn\n\t\t} else {\n\t\t\t// If by this time no drag source reacted, tell browser not to drag.\n\t\t\te.preventDefault()\n\t\t}\n\t}\n\n\tpublic handleTopDragEndCapture = (): void => {\n\t\tif (this.clearCurrentDragSourceNode() && this.monitor.isDragging()) {\n\t\t\t// Firefox can dispatch this event in an infinite loop\n\t\t\t// if dragend handler does something like showing an alert.\n\t\t\t// Only proceed if we have not handled it already.\n\t\t\tthis.actions.endDrag()\n\t\t}\n\t\tthis.cancelHover()\n\t}\n\n\tpublic handleTopDragEnterCapture = (e: DragEvent): void => {\n\t\tthis.dragEnterTargetIds = []\n\n\t\tif (this.isDraggingNativeItem()) {\n\t\t\tthis.currentNativeSource?.loadDataTransfer(e.dataTransfer)\n\t\t}\n\n\t\tconst isFirstEnter = this.enterLeaveCounter.enter(e.target)\n\t\tif (!isFirstEnter || this.monitor.isDragging()) {\n\t\t\treturn\n\t\t}\n\n\t\tconst { dataTransfer } = e\n\t\tconst nativeType = matchNativeItemType(dataTransfer)\n\n\t\tif (nativeType) {\n\t\t\t// A native item (such as file or URL) dragged from outside the document\n\t\t\tthis.beginDragNativeItem(nativeType, dataTransfer as DataTransfer)\n\t\t}\n\t}\n\n\tpublic handleDragEnter(_e: DragEvent, targetId: string): void {\n\t\tthis.dragEnterTargetIds.unshift(targetId)\n\t}\n\n\tpublic handleTopDragEnter = (e: DragEvent): void => {\n\t\tconst { dragEnterTargetIds } = this\n\t\tthis.dragEnterTargetIds = []\n\n\t\tif (!this.monitor.isDragging()) {\n\t\t\t// This is probably a native item type we don't understand.\n\t\t\treturn\n\t\t}\n\n\t\tthis.altKeyPressed = e.altKey\n\n\t\t// If the target changes position as the result of `dragenter`, `dragover` might still\n\t\t// get dispatched despite target being no longer there. The easy solution is to check\n\t\t// whether there actually is a target before firing `hover`.\n\t\tif (dragEnterTargetIds.length > 0) {\n\t\t\tthis.actions.hover(dragEnterTargetIds, {\n\t\t\t\tclientOffset: getEventClientOffset(e),\n\t\t\t})\n\t\t}\n\n\t\tconst canDrop = dragEnterTargetIds.some((targetId) =>\n\t\t\tthis.monitor.canDropOnTarget(targetId),\n\t\t)\n\n\t\tif (canDrop) {\n\t\t\t// IE requires this to fire dragover events\n\t\t\te.preventDefault()\n\t\t\tif (e.dataTransfer) {\n\t\t\t\te.dataTransfer.dropEffect = this.getCurrentDropEffect()\n\t\t\t}\n\t\t}\n\t}\n\n\tpublic handleTopDragOverCapture = (e: DragEvent): void => {\n\t\tthis.dragOverTargetIds = []\n\n\t\tif (this.isDraggingNativeItem()) {\n\t\t\tthis.currentNativeSource?.loadDataTransfer(e.dataTransfer)\n\t\t}\n\t}\n\n\tpublic handleDragOver(_e: DragEvent, targetId: string): void {\n\t\tif (this.dragOverTargetIds === null) {\n\t\t\tthis.dragOverTargetIds = []\n\t\t}\n\t\tthis.dragOverTargetIds.unshift(targetId)\n\t}\n\n\tpublic handleTopDragOver = (e: DragEvent): void => {\n\t\tconst { dragOverTargetIds } = this\n\t\tthis.dragOverTargetIds = []\n\n\t\tif (!this.monitor.isDragging()) {\n\t\t\t// This is probably a native item type we don't understand.\n\t\t\t// Prevent default \"drop and blow away the whole document\" action.\n\t\t\te.preventDefault()\n\t\t\tif (e.dataTransfer) {\n\t\t\t\te.dataTransfer.dropEffect = 'none'\n\t\t\t}\n\t\t\treturn\n\t\t}\n\n\t\tthis.altKeyPressed = e.altKey\n\t\tthis.lastClientOffset = getEventClientOffset(e)\n\n\t\tthis.scheduleHover(dragOverTargetIds)\n\n\t\tconst canDrop = (dragOverTargetIds || []).some((targetId) =>\n\t\t\tthis.monitor.canDropOnTarget(targetId),\n\t\t)\n\n\t\tif (canDrop) {\n\t\t\t// Show user-specified drop effect.\n\t\t\te.preventDefault()\n\t\t\tif (e.dataTransfer) {\n\t\t\t\te.dataTransfer.dropEffect = this.getCurrentDropEffect()\n\t\t\t}\n\t\t} else if (this.isDraggingNativeItem()) {\n\t\t\t// Don't show a nice cursor but still prevent default\n\t\t\t// \"drop and blow away the whole document\" action.\n\t\t\te.preventDefault()\n\t\t} else {\n\t\t\te.preventDefault()\n\t\t\tif (e.dataTransfer) {\n\t\t\t\te.dataTransfer.dropEffect = 'none'\n\t\t\t}\n\t\t}\n\t}\n\n\tpublic handleTopDragLeaveCapture = (e: DragEvent): void => {\n\t\tif (this.isDraggingNativeItem()) {\n\t\t\te.preventDefault()\n\t\t}\n\n\t\tconst isLastLeave = this.enterLeaveCounter.leave(e.target)\n\t\tif (!isLastLeave) {\n\t\t\treturn\n\t\t}\n\n\t\tif (this.isDraggingNativeItem()) {\n\t\t\tsetTimeout(() => this.endDragNativeItem(), 0)\n\t\t}\n\t\tthis.cancelHover()\n\t}\n\n\tpublic handleTopDropCapture = (e: DragEvent): void => {\n\t\tthis.dropTargetIds = []\n\n\t\tif (this.isDraggingNativeItem()) {\n\t\t\te.preventDefault()\n\t\t\tthis.currentNativeSource?.loadDataTransfer(e.dataTransfer)\n\t\t} else if (matchNativeItemType(e.dataTransfer)) {\n\t\t\t// Dragging some elements, like <a> and <img> may still behave like a native drag event,\n\t\t\t// even if the current drag event matches a user-defined type.\n\t\t\t// Stop the default behavior when we're not expecting a native item to be dropped.\n\n\t\t\te.preventDefault()\n\t\t}\n\n\t\tthis.enterLeaveCounter.reset()\n\t}\n\n\tpublic handleDrop(_e: DragEvent, targetId: string): void {\n\t\tthis.dropTargetIds.unshift(targetId)\n\t}\n\n\tpublic handleTopDrop = (e: DragEvent): void => {\n\t\tconst { dropTargetIds } = this\n\t\tthis.dropTargetIds = []\n\n\t\tthis.actions.hover(dropTargetIds, {\n\t\t\tclientOffset: getEventClientOffset(e),\n\t\t})\n\t\tthis.actions.drop({ dropEffect: this.getCurrentDropEffect() })\n\n\t\tif (this.isDraggingNativeItem()) {\n\t\t\tthis.endDragNativeItem()\n\t\t} else if (this.monitor.isDragging()) {\n\t\t\tthis.actions.endDrag()\n\t\t}\n\t\tthis.cancelHover()\n\t}\n\n\tpublic handleSelectStart = (e: DragEvent): void => {\n\t\tconst target = e.target as HTMLElement & { dragDrop: () => void }\n\n\t\t// Only IE requires us to explicitly say\n\t\t// we want drag drop operation to start\n\t\tif (typeof target.dragDrop !== 'function') {\n\t\t\treturn\n\t\t}\n\n\t\t// Inputs and textareas should be selectable\n\t\tif (\n\t\t\ttarget.tagName === 'INPUT' ||\n\t\t\ttarget.tagName === 'SELECT' ||\n\t\t\ttarget.tagName === 'TEXTAREA' ||\n\t\t\ttarget.isContentEditable\n\t\t) {\n\t\t\treturn\n\t\t}\n\n\t\t// For other targets, ask IE\n\t\t// to enable drag and drop\n\t\te.preventDefault()\n\t\ttarget.dragDrop()\n\t}\n}\n", "import type { BackendFactory, DragDropManager } from 'dnd-core'\n\nimport { HTML5BackendImpl } from './HTML5BackendImpl.js'\nimport type { HTML5BackendContext, HTML5BackendOptions } from './types.js'\nexport { getEmptyImage } from './getEmptyImage.js'\nexport * as NativeTypes from './NativeTypes.js'\nexport type { HTML5BackendContext, HTML5BackendOptions } from './types.js'\n\nexport const HTML5Backend: BackendFactory = function createBackend(\n\tmanager: DragDropManager,\n\tcontext?: HTML5BackendContext,\n\toptions?: HTML5BackendOptions,\n): HTML5BackendImpl {\n\treturn new HTML5BackendImpl(manager, context, options)\n}\n", "export interface EventName {\n\tstart?: 'mousedown' | 'touchstart'\n\tmove?: 'mousemove' | 'touchmove'\n\tend?: 'mouseup' | 'touchend'\n\tcontextmenu?: 'contextmenu'\n\tkeydown?: 'keydown'\n}\n\nexport interface TouchBackendOptions {\n\tdelay: number\n\tdelayTouchStart: number\n\tenableTouchEvents: boolean\n\tenableKeyboardEvents: boolean\n\tenableMouseEvents: boolean\n\tignoreContextMenu: boolean\n\tenableHoverOutsideTarget: boolean\n\tdelayMouseStart: number\n\ttouchSlop: number\n\tscrollAngleRanges?: AngleRange[] | undefined\n\trootElement: Node | undefined\n\n\tgetDropTargetElementsAtPoint?:\n\t\t| undefined\n\t\t| ((x: number, y: number, dropTargets: HTMLElement[]) => HTMLElement[])\n}\n\nexport interface AngleRange {\n\tstart: number\n\tend: number\n}\n\nexport enum ListenerType {\n\tmouse = 'mouse',\n\ttouch = 'touch',\n\tkeyboard = 'keyboard',\n}\n\nexport interface TouchBackendContext {\n\twindow?: Window\n\tdocument?: Document\n}\n", "import type {\n\tAngleRange,\n\tTouchBackendContext,\n\tTouchBackendOptions,\n} from './interfaces.js'\n\nexport class OptionsReader implements TouchBackendOptions {\n\tpublic constructor(\n\t\tprivate args: Partial<TouchBackendOptions>,\n\t\tprivate context: TouchBackendContext,\n\t) {}\n\n\tpublic get delay(): number {\n\t\treturn this.args.delay ?? 0\n\t}\n\n\tpublic get scrollAngleRanges(): AngleRange[] | undefined {\n\t\treturn this.args.scrollAngleRanges\n\t}\n\n\tpublic get getDropTargetElementsAtPoint():\n\t\t| ((x: number, y: number, elements: HTMLElement[]) => HTMLElement[])\n\t\t| undefined {\n\t\treturn this.args.getDropTargetElementsAtPoint\n\t}\n\n\tpublic get ignoreContextMenu(): boolean {\n\t\treturn this.args.ignoreContextMenu ?? false\n\t}\n\n\tpublic get enableHoverOutsideTarget(): boolean {\n\t\treturn this.args.enableHoverOutsideTarget ?? false\n\t}\n\n\tpublic get enableKeyboardEvents(): boolean {\n\t\treturn this.args.enableKeyboardEvents ?? false\n\t}\n\n\tpublic get enableMouseEvents(): boolean {\n\t\treturn this.args.enableMouseEvents ?? false\n\t}\n\n\tpublic get enableTouchEvents(): boolean {\n\t\treturn this.args.enableTouchEvents ?? true\n\t}\n\n\tpublic get touchSlop(): number {\n\t\treturn this.args.touchSlop || 0\n\t}\n\n\tpublic get delayTouchStart(): number {\n\t\treturn this.args?.delayTouchStart ?? this.args?.delay ?? 0\n\t}\n\n\tpublic get delayMouseStart(): number {\n\t\treturn this.args?.delayMouseStart ?? this.args?.delay ?? 0\n\t}\n\n\tpublic get window(): Window | undefined {\n\t\tif (this.context && this.context.window) {\n\t\t\treturn this.context.window\n\t\t} else if (typeof window !== 'undefined') {\n\t\t\treturn window\n\t\t}\n\t\treturn undefined\n\t}\n\n\tpublic get document(): Document | undefined {\n\t\tif (this.context?.document) {\n\t\t\treturn this.context.document\n\t\t}\n\n\t\tif (this.window) {\n\t\t\treturn this.window.document\n\t\t}\n\n\t\treturn undefined\n\t}\n\n\tpublic get rootElement(): Node | undefined {\n\t\treturn this.args?.rootElement || (this.document as any as Node)\n\t}\n}\n", "import type { AngleRange } from '../interfaces.js'\n\nexport function distance(\n\tx1: number,\n\ty1: number,\n\tx2: number,\n\ty2: number,\n): number {\n\treturn Math.sqrt(\n\t\tMath.pow(Math.abs(x2 - x1), 2) + Math.pow(Math.abs(y2 - y1), 2),\n\t)\n}\n\nexport function inAngleRanges(\n\tx1: number,\n\ty1: number,\n\tx2: number,\n\ty2: number,\n\tangleRanges: AngleRange[] | undefined,\n): boolean {\n\tif (!angleRanges) {\n\t\treturn false\n\t}\n\n\tconst angle = (Math.atan2(y2 - y1, x2 - x1) * 180) / Math.PI + 180\n\n\tfor (let i = 0; i < angleRanges.length; ++i) {\n\t\tconst ar = angleRanges[i]\n\t\tif (\n\t\t\tar &&\n\t\t\t(ar.start == null || angle >= ar.start) &&\n\t\t\t(ar.end == null || angle <= ar.end)\n\t\t) {\n\t\t\treturn true\n\t\t}\n\t}\n\n\treturn false\n}\n", "// Used for MouseEvent.buttons (note the s on the end).\nconst MouseButtons = {\n\tLeft: 1,\n\tRight: 2,\n\tCenter: 4,\n}\n\n// Used for e.button (note the lack of an s on the end).\nconst MouseButton = {\n\tLeft: 0,\n\tCenter: 1,\n\tRight: 2,\n}\n\n/**\n * Only touch events and mouse events where the left button is pressed should initiate a drag.\n * @param {MouseEvent | TouchEvent} e The event\n */\nexport function eventShouldStartDrag(e: MouseEvent): boolean {\n\t// For touch events, button will be undefined. If e.button is defined,\n\t// then it should be MouseButton.Left.\n\treturn e.button === undefined || e.button === MouseButton.Left\n}\n\n/**\n * Only touch events and mouse events where the left mouse button is no longer held should end a drag.\n * It's possible the user mouse downs with the left mouse button, then mouse down and ups with the right mouse button.\n * We don't want releasing the right mouse button to end the drag.\n * @param {MouseEvent | TouchEvent} e The event\n */\nexport function eventShouldEndDrag(e: MouseEvent): boolean {\n\t// Touch events will have buttons be undefined, while mouse events will have e.buttons's left button\n\t// bit field unset if the left mouse button has been released\n\treturn e.buttons === undefined || (e.buttons & MouseButtons.Left) === 0\n}\n\nexport function isTouchEvent(\n\te: Touch | TouchEvent | MouseEvent,\n): e is TouchEvent {\n\treturn !!(e as TouchEvent).targetTouches\n}\n", "import type { XYCoord } from 'dnd-core'\n\nimport { isTouchEvent } from './predicates.js'\n\nconst ELEMENT_NODE = 1\n\nexport function getNodeClientOffset(node: Element): XYCoord | undefined {\n\tconst el = node.nodeType === ELEMENT_NODE ? node : node.parentElement\n\tif (!el) {\n\t\treturn undefined\n\t}\n\tconst { top, left } = el.getBoundingClientRect()\n\treturn { x: left, y: top }\n}\n\nexport function getEventClientTouchOffset(\n\te: TouchEvent,\n\tlastTargetTouchFallback?: Touch,\n): XYCoord | undefined {\n\tif (e.targetTouches.length === 1) {\n\t\treturn getEventClientOffset(e.targetTouches[0] as Touch)\n\t} else if (lastTargetTouchFallback && e.touches.length === 1) {\n\t\tif ((e.touches[0] as Touch).target === lastTargetTouchFallback.target) {\n\t\t\treturn getEventClientOffset(e.touches[0] as Touch)\n\t\t}\n\t}\n\treturn\n}\n\nexport function getEventClientOffset(\n\te: TouchEvent | Touch | MouseEvent,\n\tlastTargetTouchFallback?: Touch,\n): XYCoord | undefined {\n\tif (isTouchEvent(e)) {\n\t\treturn getEventClientTouchOffset(e, lastTargetTouchFallback)\n\t} else {\n\t\treturn {\n\t\t\tx: e.clientX,\n\t\t\ty: e.clientY,\n\t\t}\n\t}\n}\n", "export const supportsPassive = ((): boolean => {\n\t// simular to jQuery's test\n\tlet supported = false\n\ttry {\n\t\taddEventListener(\n\t\t\t'test',\n\t\t\t() => {\n\t\t\t\t// do nothing\n\t\t\t},\n\t\t\tObject.defineProperty({}, 'passive', {\n\t\t\t\tget() {\n\t\t\t\t\tsupported = true\n\t\t\t\t\treturn true\n\t\t\t\t},\n\t\t\t}),\n\t\t)\n\t} catch (e) {\n\t\t// do nothing\n\t}\n\treturn supported\n})()\n", "import { invariant } from '@react-dnd/invariant'\nimport type {\n\tBackend,\n\tDragDropActions,\n\tDragDropManager,\n\tDragDropMonitor,\n\tIdentifier,\n\tUnsubscribe,\n\tXYCoord,\n} from 'dnd-core'\n\nimport type {\n\tEventName,\n\tTouchBackendContext,\n\tTouchBackendOptions,\n} from './interfaces.js'\nimport { ListenerType } from './interfaces.js'\nimport { OptionsReader } from './OptionsReader.js'\nimport { distance, inAngleRanges } from './utils/math.js'\nimport { getEventClientOffset, getNodeClientOffset } from './utils/offsets.js'\nimport {\n\teventShouldEndDrag,\n\teventShouldStartDrag,\n\tisTouchEvent,\n} from './utils/predicates.js'\nimport { supportsPassive } from './utils/supportsPassive.js'\n\nconst eventNames: Record<ListenerType, EventName> = {\n\t[ListenerType.mouse]: {\n\t\tstart: 'mousedown',\n\t\tmove: 'mousemove',\n\t\tend: 'mouseup',\n\t\tcontextmenu: 'contextmenu',\n\t},\n\t[ListenerType.touch]: {\n\t\tstart: 'touchstart',\n\t\tmove: 'touchmove',\n\t\tend: 'touchend',\n\t},\n\t[ListenerType.keyboard]: {\n\t\tkeydown: 'keydown',\n\t},\n}\n\nexport class TouchBackendImpl implements Backend {\n\tprivate options: OptionsReader\n\n\t// React-DnD Dependencies\n\tprivate actions: DragDropActions\n\tprivate monitor: DragDropMonitor\n\n\t// Internal State\n\tprivate static isSetUp: boolean\n\tpublic sourceNodes: Map<Identifier, HTMLElement>\n\tpublic sourcePreviewNodes: Map<string, HTMLElement>\n\tpublic sourcePreviewNodeOptions: Map<string, any>\n\tpublic targetNodes: Map<string, HTMLElement>\n\tprivate _mouseClientOffset: Partial<XYCoord>\n\tprivate _isScrolling: boolean\n\tprivate listenerTypes: ListenerType[]\n\tprivate moveStartSourceIds: string[] | undefined\n\tprivate waitingForDelay: boolean | undefined\n\tprivate timeout: ReturnType<typeof setTimeout> | undefined\n\tprivate dragOverTargetIds: string[] | undefined\n\tprivate draggedSourceNode: HTMLElement | undefined\n\tprivate draggedSourceNodeRemovalObserver: MutationObserver | undefined\n\n\t// Patch for iOS 13, discussion over #1585\n\tprivate lastTargetTouchFallback: Touch | undefined\n\n\tpublic constructor(\n\t\tmanager: DragDropManager,\n\t\tcontext: TouchBackendContext,\n\t\toptions: Partial<TouchBackendOptions>,\n\t) {\n\t\tthis.options = new OptionsReader(options, context)\n\t\tthis.actions = manager.getActions()\n\t\tthis.monitor = manager.getMonitor()\n\n\t\tthis.sourceNodes = new Map()\n\t\tthis.sourcePreviewNodes = new Map()\n\t\tthis.sourcePreviewNodeOptions = new Map()\n\t\tthis.targetNodes = new Map()\n\t\tthis.listenerTypes = []\n\t\tthis._mouseClientOffset = {}\n\t\tthis._isScrolling = false\n\n\t\tif (this.options.enableMouseEvents) {\n\t\t\tthis.listenerTypes.push(ListenerType.mouse)\n\t\t}\n\n\t\tif (this.options.enableTouchEvents) {\n\t\t\tthis.listenerTypes.push(ListenerType.touch)\n\t\t}\n\n\t\tif (this.options.enableKeyboardEvents) {\n\t\t\tthis.listenerTypes.push(ListenerType.keyboard)\n\t\t}\n\t}\n\n\t/**\n\t * Generate profiling statistics for the HTML5Backend.\n\t */\n\tpublic profile(): Record<string, number> {\n\t\treturn {\n\t\t\tsourceNodes: this.sourceNodes.size,\n\t\t\tsourcePreviewNodes: this.sourcePreviewNodes.size,\n\t\t\tsourcePreviewNodeOptions: this.sourcePreviewNodeOptions.size,\n\t\t\ttargetNodes: this.targetNodes.size,\n\t\t\tdragOverTargetIds: this.dragOverTargetIds?.length || 0,\n\t\t}\n\t}\n\n\t// public for test\n\tpublic get document(): Document | undefined {\n\t\treturn this.options.document\n\t}\n\n\tpublic setup(): void {\n\t\tconst root = this.options.rootElement\n\t\tif (!root) {\n\t\t\treturn\n\t\t}\n\n\t\tinvariant(\n\t\t\t!TouchBackendImpl.isSetUp,\n\t\t\t'Cannot have two Touch backends at the same time.',\n\t\t)\n\t\tTouchBackendImpl.isSetUp = true\n\n\t\tthis.addEventListener(root, 'start', this.getTopMoveStartHandler() as any)\n\t\tthis.addEventListener(\n\t\t\troot,\n\t\t\t'start',\n\t\t\tthis.handleTopMoveStartCapture as any,\n\t\t\ttrue,\n\t\t)\n\t\tthis.addEventListener(root, 'move', this.handleTopMove as any)\n\t\tthis.addEventListener(root, 'move', this.handleTopMoveCapture, true)\n\t\tthis.addEventListener(\n\t\t\troot,\n\t\t\t'end',\n\t\t\tthis.handleTopMoveEndCapture as any,\n\t\t\ttrue,\n\t\t)\n\n\t\tif (this.options.enableMouseEvents && !this.options.ignoreContextMenu) {\n\t\t\tthis.addEventListener(\n\t\t\t\troot,\n\t\t\t\t'contextmenu',\n\t\t\t\tthis.handleTopMoveEndCapture as any,\n\t\t\t)\n\t\t}\n\n\t\tif (this.options.enableKeyboardEvents) {\n\t\t\tthis.addEventListener(\n\t\t\t\troot,\n\t\t\t\t'keydown',\n\t\t\t\tthis.handleCancelOnEscape as any,\n\t\t\t\ttrue,\n\t\t\t)\n\t\t}\n\t}\n\n\tpublic teardown(): void {\n\t\tconst root = this.options.rootElement\n\t\tif (!root) {\n\t\t\treturn\n\t\t}\n\n\t\tTouchBackendImpl.isSetUp = false\n\t\tthis._mouseClientOffset = {}\n\n\t\tthis.removeEventListener(\n\t\t\troot,\n\t\t\t'start',\n\t\t\tthis.handleTopMoveStartCapture as any,\n\t\t\ttrue,\n\t\t)\n\t\tthis.removeEventListener(root, 'start', this.handleTopMoveStart as any)\n\t\tthis.removeEventListener(root, 'move', this.handleTopMoveCapture, true)\n\t\tthis.removeEventListener(root, 'move', this.handleTopMove as any)\n\t\tthis.removeEventListener(\n\t\t\troot,\n\t\t\t'end',\n\t\t\tthis.handleTopMoveEndCapture as any,\n\t\t\ttrue,\n\t\t)\n\n\t\tif (this.options.enableMouseEvents && !this.options.ignoreContextMenu) {\n\t\t\tthis.removeEventListener(\n\t\t\t\troot,\n\t\t\t\t'contextmenu',\n\t\t\t\tthis.handleTopMoveEndCapture as any,\n\t\t\t)\n\t\t}\n\n\t\tif (this.options.enableKeyboardEvents) {\n\t\t\tthis.removeEventListener(\n\t\t\t\troot,\n\t\t\t\t'keydown',\n\t\t\t\tthis.handleCancelOnEscape as any,\n\t\t\t\ttrue,\n\t\t\t)\n\t\t}\n\n\t\tthis.uninstallSourceNodeRemovalObserver()\n\t}\n\n\tprivate addEventListener<K extends keyof EventName>(\n\t\tsubject: Node,\n\t\tevent: K,\n\t\thandler: (e: any) => void,\n\t\tcapture = false,\n\t) {\n\t\tconst options = supportsPassive ? { capture, passive: false } : capture\n\n\t\tthis.listenerTypes.forEach(function (listenerType) {\n\t\t\tconst evt = eventNames[listenerType][event]\n\n\t\t\tif (evt) {\n\t\t\t\tsubject.addEventListener(evt as any, handler as any, options)\n\t\t\t}\n\t\t})\n\t}\n\n\tprivate removeEventListener<K extends keyof EventName>(\n\t\tsubject: Node,\n\t\tevent: K,\n\t\thandler: (e: any) => void,\n\t\tcapture = false,\n\t) {\n\t\tconst options = supportsPassive ? { capture, passive: false } : capture\n\n\t\tthis.listenerTypes.forEach(function (listenerType) {\n\t\t\tconst evt = eventNames[listenerType][event]\n\n\t\t\tif (evt) {\n\t\t\t\tsubject.removeEventListener(evt as any, handler as any, options)\n\t\t\t}\n\t\t})\n\t}\n\n\tpublic connectDragSource(sourceId: string, node: HTMLElement): Unsubscribe {\n\t\tconst handleMoveStart = this.handleMoveStart.bind(this, sourceId)\n\t\tthis.sourceNodes.set(sourceId, node)\n\n\t\tthis.addEventListener(node, 'start', handleMoveStart)\n\n\t\treturn (): void => {\n\t\t\tthis.sourceNodes.delete(sourceId)\n\t\t\tthis.removeEventListener(node, 'start', handleMoveStart)\n\t\t}\n\t}\n\n\tpublic connectDragPreview(\n\t\tsourceId: string,\n\t\tnode: HTMLElement,\n\t\toptions: unknown,\n\t): Unsubscribe {\n\t\tthis.sourcePreviewNodeOptions.set(sourceId, options)\n\t\tthis.sourcePreviewNodes.set(sourceId, node)\n\n\t\treturn (): void => {\n\t\t\tthis.sourcePreviewNodes.delete(sourceId)\n\t\t\tthis.sourcePreviewNodeOptions.delete(sourceId)\n\t\t}\n\t}\n\n\tpublic connectDropTarget(targetId: string, node: HTMLElement): Unsubscribe {\n\t\tconst root = this.options.rootElement\n\t\tif (!this.document || !root) {\n\t\t\treturn (): void => {\n\t\t\t\t/* noop */\n\t\t\t}\n\t\t}\n\n\t\tconst handleMove = (e: MouseEvent | TouchEvent) => {\n\t\t\tif (!this.document || !root || !this.monitor.isDragging()) {\n\t\t\t\treturn\n\t\t\t}\n\n\t\t\tlet coords\n\n\t\t\t/**\n\t\t\t * Grab the coordinates for the current mouse/touch position\n\t\t\t */\n\t\t\tswitch (e.type) {\n\t\t\t\tcase eventNames.mouse.move:\n\t\t\t\t\tcoords = {\n\t\t\t\t\t\tx: (e as MouseEvent).clientX,\n\t\t\t\t\t\ty: (e as MouseEvent).clientY,\n\t\t\t\t\t}\n\t\t\t\t\tbreak\n\n\t\t\t\tcase eventNames.touch.move:\n\t\t\t\t\tcoords = {\n\t\t\t\t\t\tx: (e as TouchEvent).touches[0]?.clientX || 0,\n\t\t\t\t\t\ty: (e as TouchEvent).touches[0]?.clientY || 0,\n\t\t\t\t\t}\n\t\t\t\t\tbreak\n\t\t\t}\n\n\t\t\t/**\n\t\t\t * Use the coordinates to grab the element the drag ended on.\n\t\t\t * If the element is the same as the target node (or any of it's children) then we have hit a drop target and can handle the move.\n\t\t\t */\n\t\t\tconst droppedOn =\n\t\t\t\tcoords != null\n\t\t\t\t\t? this.document.elementFromPoint(coords.x, coords.y)\n\t\t\t\t\t: undefined\n\t\t\tconst childMatch = droppedOn && node.contains(droppedOn)\n\n\t\t\tif (droppedOn === node || childMatch) {\n\t\t\t\treturn this.handleMove(e, targetId)\n\t\t\t}\n\t\t}\n\n\t\t/**\n\t\t * Attaching the event listener to the body so that touchmove will work while dragging over multiple target elements.\n\t\t */\n\t\tthis.addEventListener(this.document.body, 'move', handleMove as any)\n\t\tthis.targetNodes.set(targetId, node)\n\n\t\treturn (): void => {\n\t\t\tif (this.document) {\n\t\t\t\tthis.targetNodes.delete(targetId)\n\t\t\t\tthis.removeEventListener(this.document.body, 'move', handleMove as any)\n\t\t\t}\n\t\t}\n\t}\n\n\tprivate getSourceClientOffset = (sourceId: string): XYCoord | undefined => {\n\t\tconst element = this.sourceNodes.get(sourceId)\n\t\treturn element && getNodeClientOffset(element)\n\t}\n\n\tpublic handleTopMoveStartCapture = (e: Event): void => {\n\t\tif (!eventShouldStartDrag(e as MouseEvent)) {\n\t\t\treturn\n\t\t}\n\n\t\tthis.moveStartSourceIds = []\n\t}\n\n\tpublic handleMoveStart = (sourceId: string): void => {\n\t\t// Just because we received an event doesn't necessarily mean we need to collect drag sources.\n\t\t// We only collect start collecting drag sources on touch and left mouse events.\n\t\tif (Array.isArray(this.moveStartSourceIds)) {\n\t\t\tthis.moveStartSourceIds.unshift(sourceId)\n\t\t}\n\t}\n\n\tprivate getTopMoveStartHandler() {\n\t\tif (!this.options.delayTouchStart && !this.options.delayMouseStart) {\n\t\t\treturn this.handleTopMoveStart\n\t\t}\n\n\t\treturn this.handleTopMoveStartDelay\n\t}\n\n\tpublic handleTopMoveStart = (e: MouseEvent | TouchEvent): void => {\n\t\tif (!eventShouldStartDrag(e as MouseEvent)) {\n\t\t\treturn\n\t\t}\n\n\t\t// Don't prematurely preventDefault() here since it might:\n\t\t// 1. Mess up scrolling\n\t\t// 2. Mess up long tap (which brings up context menu)\n\t\t// 3. If there's an anchor link as a child, tap won't be triggered on link\n\n\t\tconst clientOffset = getEventClientOffset(e)\n\t\tif (clientOffset) {\n\t\t\tif (isTouchEvent(e)) {\n\t\t\t\tthis.lastTargetTouchFallback = e.targetTouches[0]\n\t\t\t}\n\t\t\tthis._mouseClientOffset = clientOffset\n\t\t}\n\t\tthis.waitingForDelay = false\n\t}\n\n\tpublic handleTopMoveStartDelay = (e: Event): void => {\n\t\tif (!eventShouldStartDrag(e as MouseEvent)) {\n\t\t\treturn\n\t\t}\n\n\t\tconst delay =\n\t\t\te.type === eventNames.touch.start\n\t\t\t\t? this.options.delayTouchStart\n\t\t\t\t: this.options.delayMouseStart\n\t\tthis.timeout = setTimeout(\n\t\t\tthis.handleTopMoveStart.bind(this, e as any),\n\t\t\tdelay,\n\t\t) as any as ReturnType<typeof setTimeout>\n\t\tthis.waitingForDelay = true\n\t}\n\n\tpublic handleTopMoveCapture = (): void => {\n\t\tthis.dragOverTargetIds = []\n\t}\n\n\tpublic handleMove = (\n\t\t_evt: MouseEvent | TouchEvent,\n\t\ttargetId: string,\n\t): void => {\n\t\tif (this.dragOverTargetIds) {\n\t\t\tthis.dragOverTargetIds.unshift(targetId)\n\t\t}\n\t}\n\n\tpublic handleTopMove = (e: TouchEvent | MouseEvent): void => {\n\t\tif (this.timeout) {\n\t\t\tclearTimeout(this.timeout)\n\t\t}\n\t\tif (!this.document || this.waitingForDelay) {\n\t\t\treturn\n\t\t}\n\t\tconst { moveStartSourceIds, dragOverTargetIds } = this\n\t\tconst enableHoverOutsideTarget = this.options.enableHoverOutsideTarget\n\n\t\tconst clientOffset = getEventClientOffset(e, this.lastTargetTouchFallback)\n\n\t\tif (!clientOffset) {\n\t\t\treturn\n\t\t}\n\n\t\t// If the touch move started as a scroll, or is is between the scroll angles\n\t\tif (\n\t\t\tthis._isScrolling ||\n\t\t\t(!this.monitor.isDragging() &&\n\t\t\t\tinAngleRanges(\n\t\t\t\t\tthis._mouseClientOffset.x || 0,\n\t\t\t\t\tthis._mouseClientOffset.y || 0,\n\t\t\t\t\tclientOffset.x,\n\t\t\t\t\tclientOffset.y,\n\t\t\t\t\tthis.options.scrollAngleRanges,\n\t\t\t\t))\n\t\t) {\n\t\t\tthis._isScrolling = true\n\t\t\treturn\n\t\t}\n\n\t\t// If we're not dragging and we've moved a little, that counts as a drag start\n\t\tif (\n\t\t\t!this.monitor.isDragging() &&\n\t\t\t// eslint-disable-next-line no-prototype-builtins\n\t\t\tthis._mouseClientOffset.hasOwnProperty('x') &&\n\t\t\tmoveStartSourceIds &&\n\t\t\tdistance(\n\t\t\t\tthis._mouseClientOffset.x || 0,\n\t\t\t\tthis._mouseClientOffset.y || 0,\n\t\t\t\tclientOffset.x,\n\t\t\t\tclientOffset.y,\n\t\t\t) > (this.options.touchSlop ? this.options.touchSlop : 0)\n\t\t) {\n\t\t\tthis.moveStartSourceIds = undefined\n\n\t\t\tthis.actions.beginDrag(moveStartSourceIds, {\n\t\t\t\tclientOffset: this._mouseClientOffset,\n\t\t\t\tgetSourceClientOffset: this.getSourceClientOffset,\n\t\t\t\tpublishSource: false,\n\t\t\t})\n\t\t}\n\n\t\tif (!this.monitor.isDragging()) {\n\t\t\treturn\n\t\t}\n\n\t\tconst sourceNode = this.sourceNodes.get(\n\t\t\tthis.monitor.getSourceId() as string,\n\t\t)\n\t\tthis.installSourceNodeRemovalObserver(sourceNode)\n\t\tthis.actions.publishDragSource()\n\n\t\tif (e.cancelable) e.preventDefault()\n\n\t\t// Get the node elements of the hovered DropTargets\n\t\tconst dragOverTargetNodes: HTMLElement[] = (dragOverTargetIds || [])\n\t\t\t.map((key) => this.targetNodes.get(key))\n\t\t\t.filter((e) => !!e) as HTMLElement[]\n\n\t\t// Get the a ordered list of nodes that are touched by\n\t\tconst elementsAtPoint = this.options.getDropTargetElementsAtPoint\n\t\t\t? this.options.getDropTargetElementsAtPoint(\n\t\t\t\t\tclientOffset.x,\n\t\t\t\t\tclientOffset.y,\n\t\t\t\t\tdragOverTargetNodes,\n\t\t\t  )\n\t\t\t: this.document.elementsFromPoint(clientOffset.x, clientOffset.y)\n\t\t// Extend list with parents that are not receiving elementsFromPoint events (size 0 elements and svg groups)\n\t\tconst elementsAtPointExtended: Element[] = []\n\t\tfor (const nodeId in elementsAtPoint) {\n\t\t\t// eslint-disable-next-line no-prototype-builtins\n\t\t\tif (!elementsAtPoint.hasOwnProperty(nodeId)) {\n\t\t\t\tcontinue\n\t\t\t}\n\t\t\tlet currentNode: Element | undefined | null = elementsAtPoint[nodeId]\n\t\t\tif (currentNode != null) {\n\t\t\t\telementsAtPointExtended.push(currentNode)\n\t\t\t}\n\t\t\twhile (currentNode) {\n\t\t\t\tcurrentNode = currentNode.parentElement\n\t\t\t\tif (\n\t\t\t\t\tcurrentNode &&\n\t\t\t\t\telementsAtPointExtended.indexOf(currentNode) === -1\n\t\t\t\t) {\n\t\t\t\t\telementsAtPointExtended.push(currentNode)\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tconst orderedDragOverTargetIds: string[] = elementsAtPointExtended\n\t\t\t// Filter off nodes that arent a hovered DropTargets nodes\n\t\t\t.filter((node) => dragOverTargetNodes.indexOf(node as HTMLElement) > -1)\n\t\t\t// Map back the nodes elements to targetIds\n\t\t\t.map((node) => this._getDropTargetId(node))\n\t\t\t// Filter off possible null rows\n\t\t\t.filter((node) => !!node)\n\t\t\t.filter((id, index, ids) => ids.indexOf(id) === index) as string[]\n\n\t\t// Invoke hover for drop targets when source node is still over and pointer is outside\n\t\tif (enableHoverOutsideTarget) {\n\t\t\tfor (const targetId in this.targetNodes) {\n\t\t\t\tconst targetNode = this.targetNodes.get(targetId)\n\t\t\t\tif (\n\t\t\t\t\tsourceNode &&\n\t\t\t\t\ttargetNode &&\n\t\t\t\t\ttargetNode.contains(sourceNode) &&\n\t\t\t\t\torderedDragOverTargetIds.indexOf(targetId) === -1\n\t\t\t\t) {\n\t\t\t\t\torderedDragOverTargetIds.unshift(targetId)\n\t\t\t\t\tbreak\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// Reverse order because dnd-core reverse it before calling the DropTarget drop methods\n\t\torderedDragOverTargetIds.reverse()\n\n\t\tthis.actions.hover(orderedDragOverTargetIds, {\n\t\t\tclientOffset: clientOffset,\n\t\t})\n\t}\n\n\t/**\n\t *\n\t * visible for testing\n\t */\n\tpublic _getDropTargetId = (node: Element): Identifier | undefined => {\n\t\tconst keys = this.targetNodes.keys()\n\t\tlet next = keys.next()\n\t\twhile (next.done === false) {\n\t\t\tconst targetId = next.value\n\t\t\tif (node === this.targetNodes.get(targetId)) {\n\t\t\t\treturn targetId\n\t\t\t} else {\n\t\t\t\tnext = keys.next()\n\t\t\t}\n\t\t}\n\t\treturn undefined\n\t}\n\n\tpublic handleTopMoveEndCapture = (e: Event): void => {\n\t\tthis._isScrolling = false\n\t\tthis.lastTargetTouchFallback = undefined\n\n\t\tif (!eventShouldEndDrag(e as MouseEvent)) {\n\t\t\treturn\n\t\t}\n\n\t\tif (!this.monitor.isDragging() || this.monitor.didDrop()) {\n\t\t\tthis.moveStartSourceIds = undefined\n\t\t\treturn\n\t\t}\n\n\t\tif (e.cancelable) e.preventDefault()\n\n\t\tthis._mouseClientOffset = {}\n\n\t\tthis.uninstallSourceNodeRemovalObserver()\n\t\tthis.actions.drop()\n\t\tthis.actions.endDrag()\n\t}\n\n\tpublic handleCancelOnEscape = (e: KeyboardEvent): void => {\n\t\tif (e.key === 'Escape' && this.monitor.isDragging()) {\n\t\t\tthis._mouseClientOffset = {}\n\n\t\t\tthis.uninstallSourceNodeRemovalObserver()\n\t\t\tthis.actions.endDrag()\n\t\t}\n\t}\n\n\tprivate installSourceNodeRemovalObserver(node: HTMLElement | undefined) {\n\t\tthis.uninstallSourceNodeRemovalObserver()\n\n\t\tthis.draggedSourceNode = node\n\t\tthis.draggedSourceNodeRemovalObserver = new MutationObserver(() => {\n\t\t\tif (node && !node.parentElement) {\n\t\t\t\tthis.resurrectSourceNode()\n\t\t\t\tthis.uninstallSourceNodeRemovalObserver()\n\t\t\t}\n\t\t})\n\n\t\tif (!node || !node.parentElement) {\n\t\t\treturn\n\t\t}\n\n\t\tthis.draggedSourceNodeRemovalObserver.observe(node.parentElement, {\n\t\t\tchildList: true,\n\t\t})\n\t}\n\n\tprivate resurrectSourceNode() {\n\t\tif (this.document && this.draggedSourceNode) {\n\t\t\tthis.draggedSourceNode.style.display = 'none'\n\t\t\tthis.draggedSourceNode.removeAttribute('data-reactid')\n\t\t\tthis.document.body.appendChild(this.draggedSourceNode)\n\t\t}\n\t}\n\n\tprivate uninstallSourceNodeRemovalObserver() {\n\t\tif (this.draggedSourceNodeRemovalObserver) {\n\t\t\tthis.draggedSourceNodeRemovalObserver.disconnect()\n\t\t}\n\n\t\tthis.draggedSourceNodeRemovalObserver = undefined\n\t\tthis.draggedSourceNode = undefined\n\t}\n}\n", "import type { BackendFactory, DragDropManager } from 'dnd-core'\n\nimport type { TouchBackendContext, TouchBackendOptions } from './interfaces.js'\nimport { TouchBackendImpl } from './TouchBackendImpl.js'\n\nexport * from './interfaces.js'\nexport * from './TouchBackendImpl.js'\n\nexport const TouchBackend: BackendFactory = function createBackend(\n\tmanager: DragDropManager,\n\tcontext: TouchBackendContext = {},\n\toptions: Partial<TouchBackendOptions> = {},\n): TouchBackendImpl {\n\treturn new TouchBackendImpl(manager, context, options)\n}\n", "import{HTML5Backend as o}from\"react-dnd-html5-backend\";import{TouchBackend as t}from\"react-dnd-touch-backend\";import{TouchTransition as n,PointerTransition as i}from\"dnd-multi-backend\";var s={backends:[{id:\"html5\",backend:o,transition:i},{id:\"touch\",backend:t,options:{enableMouseEvents:!0},preview:!0,transition:n}]};export{s as HTML5toTouch};\n", "import {\n  Card,\n  Col,\n  Flex,\n  Image,\n  Input,\n  Modal,\n  Row,\n  Skeleton,\n  Typography,\n} from \"antd\";\nimport { useTranslation } from \"react-i18next\";\n\nimport { useFetcher, useNavigate } from \"@remix-run/react\";\nimport { useContext, useRef, useState } from \"react\";\nimport { useDrop } from \"react-dnd\";\nimport { DndBox, Media } from \"~/components/common\";\nimport dayjs from \"dayjs\";\nimport domtoimage from \"dom-to-image\";\nimport { AppContext, AuthContext } from \"~/contexts\";\nimport { adjustTranslateValues } from \"~/utils/helper\";\nimport { CampaignTitle } from \"./CampaignTitle\";\nimport { CampaignControl } from \"./CampaignControl\";\nimport { CampaignGift } from \"./CampaignGift\";\nimport { CampaignEditButton } from \"./CampaignEditButton\";\nimport { CampaignStickers } from \"./CampaignStickers\";\nimport { CampaignThumbnailUpload } from \"./CampaignThumbnailUpload\";\n\nconst { Text } = Typography;\n\ninterface CampaignResultProps {\n  data: any;\n  gift: any;\n}\n\nexport function CampaignResult2(props: CampaignResultProps) {\n  const { t } = useTranslation();\n  const fetcher = useFetcher();\n  const { data, gift } = props;\n  const navigate = useNavigate();\n  const rootRef: any = useRef<Element>();\n  const { clickedId, user, openLoginModal } = useContext(AuthContext);\n  const { baseUrl } = useContext(AppContext);\n\n  const [image, setImage] = useState<string>(\n    `/image/campaign/character-${data.character}.png`\n  );\n  const [editMode, setEditMode] = useState<boolean>(false);\n  const [giftModal, setGiftModal] = useState<boolean>(false);\n  const [inputValue, setInputValue] = useState(t(\"input in game username\"));\n\n  const [boxes, setBoxes] = useState<{\n    [key: string]: {\n      top: number;\n      left: number;\n      title: any;\n    };\n  }>({});\n\n  const modalProps = {\n    closeIcon: false,\n    footer: null,\n    modalRender: (modal: any) => modal,\n    styles: {\n      body: { padding: \"3px 5px\", maxWidth: \"100%\" },\n    },\n  } as any;\n\n  const thumbnailStyle = {\n    position: \"absolute\",\n    display: \"block\",\n    cursor: \"pointer\",\n    overflow: \"hidden\",\n    borderRadius: \"9%\",\n    width: \"44%\",\n    height: \"41%\",\n    top: \"37%\",\n    left: \"28%\",\n  } as any;\n\n  const textInputStyle = {\n    position: \"absolute\",\n    left: \"7%\",\n    top: \"15%\",\n    width: \"86%\",\n    padding: \"8px 11px\",\n    whiteSpace: \"nowrap\",\n    border: 0,\n    color: \"white\",\n    borderRadius: \"5px\",\n    fontSize: 24,\n    textAlign: \"center\",\n  } as any;\n\n  const handleInputChange = (event: any) => {\n    setInputValue(event.target.value);\n  };\n\n  const handleUpload = (e: any) => {\n    if (e.target.files.length) {\n      setImage(URL.createObjectURL(e.target.files[0]));\n    }\n  };\n\n  const dropNewBox = (name: string, left: number, top: number, boxes: any) => {\n    const newBoxes = { ...boxes };\n    newBoxes[dayjs().unix()] = {\n      top,\n      left,\n      title: name,\n    };\n    setBoxes(newBoxes);\n  };\n\n  const [{}, drop] = useDrop(\n    () => ({\n      accept: \"box\",\n      drop(item: any, monitor) {\n        const containerWidth = rootRef.current.width;\n        const containerHeight = rootRef.current.height;\n        if (!item.id) {\n          const offset = monitor.getClientOffset();\n          if (offset) {\n            const left =\n              ((offset.x - rootRef.current.x - containerWidth * 0.05) * 100) /\n              containerWidth;\n            const top =\n              ((offset.y - rootRef.current.y - containerWidth * 0.05) * 100) /\n              containerHeight;\n            dropNewBox(item.name, left, top, boxes);\n          }\n        }\n        return undefined;\n      },\n      collect(monitor) {\n        return {\n          isOver: monitor.isOver(),\n          canDrop: monitor.canDrop(),\n        };\n      },\n    }),\n    [boxes]\n  );\n\n  const combinedRef = (el: any) => {\n    drop(el);\n    if (el) {\n      rootRef.current = el.getBoundingClientRect();\n    }\n  };\n\n  const handleCreateNew = () => {\n    navigate(\"/campaign\");\n  };\n\n  const handleShare = () => {\n    const userAgent = navigator.userAgent || \"\";\n    const isMobile = /Mobi|Android|iPhone|iPad|iPod/i.test(userAgent);\n    if (isMobile) {\n      handleSaveImage(null, true);\n    } else {\n      handleSaveImage();\n      const tempAnchor = document.createElement(\"a\");\n      tempAnchor.href = `https://www.facebook.com/sharer/sharer.php?u=${baseUrl}/campaign`;\n      tempAnchor.target = \"_blank\";\n      tempAnchor.rel = \"noreferrer\";\n      document.body.appendChild(tempAnchor);\n      tempAnchor.click();\n      document.body.removeChild(tempAnchor);\n    }\n  };\n\n  const handleSaveImage = async (e?: any, isMobile?: boolean) => {\n    const elementToCapture = document.getElementsByClassName(\n      \"campaign-result\"\n    ) as any;\n    if (elementToCapture && elementToCapture.length) {\n      elementToCapture[0].insertAdjacentHTML(\n        \"afterend\",\n        elementToCapture[0].outerHTML\n      );\n      const newElement = document.getElementsByClassName(\n        \"campaign-result\"\n      )[1] as any;\n      newElement.setAttribute(\"class\", \"campaign-export\");\n      const targetWidth = 805;\n      const targetHeight = 1213;\n      newElement.style.width = `${targetWidth}px`;\n      newElement.style.height = `${targetHeight}px`;\n      adjustTranslateValues(\n        newElement,\n        elementToCapture[0].offsetWidth,\n        elementToCapture[0].offsetHeight,\n        targetWidth,\n        targetHeight\n      );\n\n      try {\n        await domtoimage.toPng(newElement);\n\n        if (isMobile) {\n          const blob = await domtoimage.toBlob(newElement);\n          const file = await new File([blob], \"image.png\", {\n            type: blob.type,\n          });\n\n          const dataImage = {\n            files: [file],\n            title: \"Image\",\n            text: \"image\",\n          };\n          await navigator.share(dataImage);\n        } else {\n          // dowload image\n          await domtoimage\n            .toBlob(newElement)\n            .then(function (blob: any) {\n              let filename = \"image.jpg\";\n              let link = document.createElement(\"a\");\n              link.download = filename.toLowerCase();\n              link.href = URL.createObjectURL(blob);\n              link.target = \"_blank\";\n              link.rel = \"noreferrer\";\n              document.body.appendChild(link);\n              link.click();\n              document.body.removeChild(link);\n            })\n            .catch(function (error) {\n              console.error(\"Error exporting image:\", error);\n            });\n        }\n\n        newElement.remove();\n      } catch (error) {\n        console.error(\"Error exporting image:\", error);\n        throw error;\n      }\n    }\n  };\n\n  const getTheGift = () => {\n    if (!gift) {\n      fetcher.submit(\n        {},\n        {\n          method: \"post\",\n          action: `/resources/get-the-gift`,\n        }\n      );\n    }\n    setGiftModal(true);\n  };\n\n  const closeGiftModal = () => {\n    setGiftModal(false);\n  };\n\n  const handleBackToProfile = () => {\n    navigate(`/users/${user?.userName ? user.userName : user.uuid}`);\n  };\n\n  return (\n    <Card\n      bordered={false}\n      style={{\n        position: \"relative\",\n        width: \"100%\",\n        maxWidth: 900,\n        marginInline: \"auto\",\n        color: \"#fff\",\n        backgroundColor: \"rgba(0,0,0,0.8)\",\n        backgroundImage: `url('/image/campaign-background-0.png')`,\n        backgroundSize: \"cover\",\n        borderRadius: 30,\n      }}\n      bodyStyle={{ padding: 10 }}\n    >\n      <Media at=\"sm\">\n        <CampaignTitle />\n      </Media>\n      <div style={{ width: \"100%\" }}>\n        <Row gutter={[10, 0]} align=\"middle\">\n          <Col span={24} md={12}>\n            <div\n              className=\"campaign-result\"\n              ref={combinedRef}\n              style={{\n                position: \"relative\",\n                height: 0,\n                paddingBottom: \"150.7%\",\n                overflow: \"hidden\",\n              }}\n            >\n              <div\n                style={{\n                  position: \"absolute\",\n                  top: 0,\n                  left: 0,\n                  overflow: \"hidden\",\n                }}\n              >\n                <Image\n                  preview={false}\n                  src={`/image/campaign/new/${\n                    data === \"rare\" ? \"rare\" : data.result\n                  }-bg.png`}\n                  style={{ width: \"100%\" }}\n                  placeholder={<Skeleton active />}\n                />\n                <Image\n                  preview={false}\n                  wrapperStyle={{\n                    position: \"absolute\",\n                    top: 0,\n                    left: 0,\n                  }}\n                  src={`/image/campaign/new/${data.alias}.png`}\n                />\n                <div\n                  style={{\n                    backgroundImage: `url(${image})`,\n                    backgroundSize: \"cover\",\n                    backgroundPosition: \"center\",\n                    ...thumbnailStyle,\n                  }}\n                />\n                <Image\n                  preview={false}\n                  wrapperStyle={{\n                    position: \"absolute\",\n                    top: 0,\n                    left: 0,\n                  }}\n                  src={`/image/campaign/new/${\n                    data === \"rare\" ? \"rare\" : data.result\n                  }-frame.png`}\n                />\n                {editMode && (\n                  <CampaignThumbnailUpload\n                    style={thumbnailStyle}\n                    onUpload={handleUpload}\n                  />\n                )}\n                {editMode ? (\n                  <Input\n                    className=\"text-input\"\n                    style={{\n                      backgroundColor: \"rgba(0, 0, 0, 0.3)\",\n                      ...textInputStyle,\n                    }}\n                    maxLength={30}\n                    value={inputValue}\n                    onChange={handleInputChange}\n                    placeholder={t(\"input your game username\")}\n                  />\n                ) : (\n                  <Text className=\"text-input\" style={textInputStyle}>\n                    {inputValue}\n                  </Text>\n                )}\n                {Object.keys(boxes).map((key) => {\n                  const { left, top, title } = boxes[key] as {\n                    top: number;\n                    left: number;\n                    title: string;\n                  };\n                  return (\n                    <DndBox\n                      key={key}\n                      id={key}\n                      isTargetImage={clickedId === key}\n                      left={left}\n                      top={top}\n                      title={title}\n                      editMode={editMode}\n                    />\n                  );\n                })}\n              </div>\n            </div>\n            <CampaignEditButton\n              onClick={user ? () => setEditMode(!editMode) : openLoginModal}\n              editMode={editMode}\n            />\n          </Col>\n          <Col span={24} md={12}>\n            {editMode ? (\n              <>\n                <Media greaterThan=\"sm\">\n                  <Flex className=\"campaign-sticker-picker\" wrap=\"wrap\">\n                    <CampaignStickers />\n                  </Flex>\n                </Media>\n                <Media at=\"sm\">\n                  <div\n                    className=\"campaign-sticker-picker\"\n                    style={{ paddingTop: 20, paddingBottom: 40 }}\n                  >\n                    <CampaignStickers />\n                  </div>\n                </Media>\n              </>\n            ) : (\n              <Flex align=\"center\" vertical>\n                <Media greaterThan=\"sm\">\n                  <CampaignTitle />\n                </Media>\n                <Flex align=\"center\">\n                  <CampaignControl\n                    onNewClicked={handleCreateNew}\n                    onSaveClicked={handleSaveImage}\n                    onShareClicked={handleShare}\n                    onGiftClicked={user ? getTheGift : openLoginModal}\n                  />\n                </Flex>\n              </Flex>\n            )}\n          </Col>\n        </Row>\n      </div>\n      <Modal {...modalProps} onCancel={closeGiftModal} open={giftModal}>\n        <CampaignGift gift={gift} onBack={handleBackToProfile} />\n      </Modal>\n    </Card>\n  );\n}\n", "import { useEffect, useState } from \"react\";\nimport Moveable from \"moveable\";\nimport type { MoveableManagerInterface, Renderer } from \"moveable\";\n\ninterface DndBoxProps {\n  editMode?: boolean;\n  id: any;\n  isTargetImage?: boolean;\n  left: number;\n  title: string;\n  top: number;\n  isMobile?: boolean;\n}\n\nexport function DndBox(props: DndBoxProps) {\n  const { id, isTargetImage, left, title, top, editMode } = props;\n  const [transformStyle, setTransformStyle] = useState<string>(\"\");\n  const [currentMoveable, setCurrentMoveable] = useState<any>(null);\n\n  const handleDeleteClick = () => {\n    const containerToRemove = document.getElementById(`container_${id}`);\n    if (containerToRemove) {\n      containerToRemove.remove();\n      window.dispatchEvent(new Event(\"resize\"));\n    }\n  };\n\n  const DimensionViewable = {\n    name: \"dimensionViewable\",\n    props: [],\n    events: [],\n    render(moveable: MoveableManagerInterface<any, any>, React: Renderer) {\n      const rect = moveable.getRect();\n      return (\n        <div\n          key={\"dimension-viewer\"}\n          className={\"moveable-dimension\"}\n          style={{\n            position: \"absolute\",\n            left: `${rect.width / 2}px`,\n            top: `${rect.height + 4}px`,\n            cursor: \"pointer\",\n            background: \"white\",\n            border: \"1px solid red\",\n            borderRadius: \"4px\",\n            padding: \"2px 6px\",\n            color: \"red\",\n            fontSize: 12,\n            whiteSpace: \"nowrap\",\n            willChange: \"transform\",\n            transform: `translate(-50%, 0px)`,\n          }}\n          onClick={handleDeleteClick}\n          onTouchStart={handleDeleteClick}\n        >\n          {`x`}\n          {``}\n        </div>\n      );\n    },\n  } as const;\n\n  useEffect(() => {\n    if (!currentMoveable) {\n      const moveable = new Moveable(document.body, {\n        target: isTargetImage ? `[id=\"${id}\"]` : undefined,\n        ables: [DimensionViewable],\n        draggable: true,\n        scalable: true,\n        edge: [\"w\", \"e\"],\n        rotatable: true,\n        origin: false,\n        props: { dimensionViewable: true },\n      }).on(\"render\", (e: any) => {\n        setTransformStyle(e.transform);\n      });\n      setCurrentMoveable(moveable);\n      window.addEventListener(\"resize\", (e) => {\n        moveable.updateRect();\n      });\n    } else {\n      if (!editMode) {\n        currentMoveable.target = undefined;\n      } else {\n        currentMoveable.target = isTargetImage ? `[id=\"${id}\"]` : undefined;\n      }\n    }\n  }, [editMode, id, isTargetImage]);\n\n  return (\n    <div\n      style={{\n        position: \"absolute\",\n        left: `${left}%`,\n        top: `${top}%`,\n        cursor: \"move\",\n        width: \"20%\",\n        alignItems: \"center\",\n      }}\n    >\n      <div id={`container_${id}`}>\n        <img\n          id={id}\n          src={`/image/campaign/${title}.png`}\n          alt={title}\n          style={{\n            position: \"relative\",\n            width: \"100%\",\n            height: \"auto\",\n            transform: transformStyle,\n          }}\n        />\n      </div>\n    </div>\n  );\n}\n", "export function prefixNames(prefix: string, ...classNames: string[]) {\n    return classNames\n        .map((className) =>\n            className\n                .split(\" \")\n                .map((name) => (name ? `${prefix}${name}` : \"\"))\n                .join(\" \")\n        )\n        .join(\" \");\n}\n\nexport function prefixCSS(prefix: string, css: string) {\n    return css.replace(/([^}{]*){/gm, (_, selector) => {\n        return `${selector.replace(/\\.([^{,\\s\\d.]+)/g, `.${prefix}$1`)}{`;\n    });\n}\n\n/* react */\nexport function ref(target: any, name: string) {\n    return (e: any) => {\n        e && (target[name] = e);\n    };\n}\nexport function refs(target: any, name: string, i: number) {\n    return (e: any) => {\n        e && (target[name][i] = e);\n    };\n}\n\n/* Class Decorator */\nexport function Properties(\n    properties: any[],\n    action: (prototype: any, property: string) => any\n) {\n    return (component: any) => {\n        const prototype = component.prototype;\n\n        properties.forEach((property) => {\n            action(prototype, property);\n        });\n    };\n}\n\n/* Property Decorator */\nexport function withMethods(\n    methods: readonly string[],\n    duplicate: { [name: string]: string } = {}\n) {\n    return (prototype: any, propertyName: string) => {\n        methods.forEach((name) => {\n            const methodName = duplicate[name] || name;\n\n            if (methodName in prototype) {\n                return;\n            }\n            prototype[methodName] = function (...args) {\n                const result = this[propertyName][name](...args);\n\n                if (result === this[propertyName]) {\n                    return this;\n                } else {\n                    return result;\n                }\n            };\n        });\n    };\n}\n\nexport type ParametersType<Func, Return> = Func extends (\n    ...params: infer Params\n) => any\n    ? (...params: Params) => Return\n    : never;\n\nexport type ExcludeInterface<Obj1, Obj2> = {\n    [key in Exclude<keyof Obj1, keyof Obj2>]: Obj1[key];\n};\n\nexport type EntriesObject<T> = {\n    [key in keyof T]: [key, Readonly<T[key]>];\n};\nexport type FindKey<E, V> = E extends [infer U, V] ? U & string : never;\nexport type InvertObject<\n    T extends Record<string, any>,\n    En extends Record<string, any> = EntriesObject<T>\n    > = {\n        [key in En[keyof En][1]]: FindKey<En[keyof En], key>\n    };\n\nexport type Entries<\n    Obj extends { [key: string]: any },\n    Key = keyof Obj\n> = Key extends string ? [Key, Obj[Key]] : never;\n\nexport type ReverseKey<\n    Key extends string,\n    Obj extends { [key: string]: any },\n    E = Entries<Obj>\n> = E extends [infer Value, Key] ? Value : never;\n\nexport type UniqueMethodInterface<\n    Methods,\n    Target extends Methods,\n    ReturnTarget extends any,\n    Duplicate extends { [key: string]: any }\n> = {\n    [key in keyof ExcludeInterface<Methods, Duplicate>]: Methods[key] extends (\n        ...params: any[]\n    ) => Target\n        ? ParametersType<Methods[key], ReturnTarget>\n        : Methods[key];\n};\n\nexport type ChangedMethodInterface<\n    Methods,\n    Target extends Methods,\n    ReturnTarget extends any,\n    Duplicate extends { [key: string]: any }\n> = {\n    [key in Duplicate[keyof Duplicate]]: Methods[ReverseKey<key, Duplicate> &\n        keyof Methods] extends (...params: any[]) => Target\n        ? ParametersType<\n              Methods[ReverseKey<key, Duplicate> & keyof Methods],\n              ReturnTarget\n          >\n        : Methods[ReverseKey<key, Duplicate> & keyof Methods];\n};\n\nexport type MethodInterface<\n    Methods,\n    Target extends Methods,\n    ReturnTarget extends any,\n    Duplicate extends { [key: string]: any } = {}\n> = UniqueMethodInterface<Methods, Target, ReturnTarget, Duplicate> &\n    ChangedMethodInterface<Methods, Target, ReturnTarget, Duplicate>;\n", "/**\n* @namespace\n* @name Consts\n*/\n\nimport { IObject, OpenCloseCharacter } from \"./types\";\n\n/**\n* get string \"rgb\"\n* @memberof Color\n* @example\nimport {RGB} from \"@daybrush/utils\";\n\nconsole.log(RGB); // \"rgb\"\n*/\nexport const RGB = \"rgb\";\n/**\n* get string \"rgba\"\n* @memberof Color\n* @example\nimport {RGBA} from \"@daybrush/utils\";\n\nconsole.log(RGBA); // \"rgba\"\n*/\nexport const RGBA = \"rgba\";\n/**\n* get string \"hsl\"\n* @memberof Color\n* @example\nimport {HSL} from \"@daybrush/utils\";\n\nconsole.log(HSL); // \"hsl\"\n*/\nexport const HSL = \"hsl\";\n/**\n* get string \"hsla\"\n* @memberof Color\n* @example\nimport {HSLA} from \"@daybrush/utils\";\n\nconsole.log(HSLA); // \"hsla\"\n*/\nexport const HSLA = \"hsla\";\n/**\n* gets an array of color models.\n* @memberof Color\n* @example\nimport {COLOR_MODELS} from \"@daybrush/utils\";\n\nconsole.log(COLOR_MODELS); // [\"rgb\", \"rgba\", \"hsl\", \"hsla\"];\n*/\nexport const COLOR_MODELS = [RGB, RGBA, HSL, HSLA];\n\n/**\n* get string \"function\"\n* @memberof Consts\n* @example\nimport {FUNCTION} from \"@daybrush/utils\";\n\nconsole.log(FUNCTION); // \"function\"\n*/\nexport const FUNCTION = \"function\";\n/**\n* get string \"property\"\n* @memberof Consts\n* @example\nimport {PROPERTY} from \"@daybrush/utils\";\n\nconsole.log(PROPERTY); // \"property\"\n*/\nexport const PROPERTY = \"property\";\n/**\n* get string \"array\"\n* @memberof Consts\n* @example\nimport {ARRAY} from \"@daybrush/utils\";\n\nconsole.log(ARRAY); // \"array\"\n*/\nexport const ARRAY = \"array\";\n/**\n* get string \"object\"\n* @memberof Consts\n* @example\nimport {OBJECT} from \"@daybrush/utils\";\n\nconsole.log(OBJECT); // \"object\"\n*/\nexport const OBJECT = \"object\";\n/**\n* get string \"string\"\n* @memberof Consts\n* @example\nimport {STRING} from \"@daybrush/utils\";\n\nconsole.log(STRING); // \"string\"\n*/\nexport const STRING = \"string\";\n/**\n* get string \"number\"\n* @memberof Consts\n* @example\nimport {NUMBER} from \"@daybrush/utils\";\n\nconsole.log(NUMBER); // \"number\"\n*/\nexport const NUMBER = \"number\";\n/**\n* get string \"undefined\"\n* @memberof Consts\n* @example\nimport {UNDEFINED} from \"@daybrush/utils\";\n\nconsole.log(UNDEFINED); // \"undefined\"\n*/\nexport const UNDEFINED = \"undefined\";\n\n/**\n* Check whether the environment is window or node.js.\n* @memberof Consts\n* @example\nimport {IS_WINDOW} from \"@daybrush/utils\";\n\nconsole.log(IS_WINDOW); // false in node.js\nconsole.log(IS_WINDOW); // true in browser\n*/\nexport const IS_WINDOW = typeof window !== UNDEFINED;\n\n/**\n* Check whether the environment is window or node.js.\n* @memberof Consts\n* @name document\n* @example\nimport {IS_WINDOW} from \"@daybrush/utils\";\n\nconsole.log(IS_WINDOW); // false in node.js\nconsole.log(IS_WINDOW); // true in browser\n*/\nconst doc = (typeof document !== UNDEFINED && document) as Document; // FIXME: this type maybe false\n\nexport {doc as document};\n\nconst prefixes: string[] = [\"webkit\", \"ms\", \"moz\", \"o\"];\n\n/**\n * @namespace CrossBrowser\n */\n\n/**\n* Get a CSS property with a vendor prefix that supports cross browser.\n* @function\n* @param {string} property - A CSS property\n* @return {string} CSS property with cross-browser vendor prefix\n* @memberof CrossBrowser\n* @example\nimport {getCrossBrowserProperty} from \"@daybrush/utils\";\n\nconsole.log(getCrossBrowserProperty(\"transform\")); // \"transform\", \"-ms-transform\", \"-webkit-transform\"\nconsole.log(getCrossBrowserProperty(\"filter\")); // \"filter\", \"-webkit-filter\"\n*/\nexport const getCrossBrowserProperty =  /*#__PURE__*/(property: string) => {\n  if (!doc) {\n    return \"\";\n  }\n  const styles = (doc.body || doc.documentElement).style as any;\n  const length = prefixes.length;\n\n  if (typeof styles[property] !== UNDEFINED) {\n    return property;\n  }\n  for (let i = 0; i < length; ++i) {\n    const name = `-${prefixes[i]}-${property}`;\n\n    if (typeof styles[name] !== UNDEFINED) {\n      return name;\n    }\n  }\n  return \"\";\n};\n\n/**\n* get string \"transfrom\" with the vendor prefix.\n* @memberof CrossBrowser\n* @example\nimport {TRANSFORM} from \"@daybrush/utils\";\n\nconsole.log(TRANSFORM); // \"transform\", \"-ms-transform\", \"-webkit-transform\"\n*/\nexport const TRANSFORM = /*#__PURE__*/getCrossBrowserProperty(\"transform\");\n/**\n* get string \"filter\" with the vendor prefix.\n* @memberof CrossBrowser\n* @example\nimport {FILTER} from \"@daybrush/utils\";\n\nconsole.log(FILTER); // \"filter\", \"-ms-filter\", \"-webkit-filter\"\n*/\nexport const FILTER = /*#__PURE__*/getCrossBrowserProperty(\"filter\");\n/**\n* get string \"animation\" with the vendor prefix.\n* @memberof CrossBrowser\n* @example\nimport {ANIMATION} from \"@daybrush/utils\";\n\nconsole.log(ANIMATION); // \"animation\", \"-ms-animation\", \"-webkit-animation\"\n*/\nexport const ANIMATION = /*#__PURE__*/getCrossBrowserProperty(\"animation\");\n/**\n* get string \"keyframes\" with the vendor prefix.\n* @memberof CrossBrowser\n* @example\nimport {KEYFRAMES} from \"@daybrush/utils\";\n\nconsole.log(KEYFRAMES); // \"keyframes\", \"-ms-keyframes\", \"-webkit-keyframes\"\n*/\nexport const KEYFRAMES = /*#__PURE__*/ANIMATION.replace(\"animation\", \"keyframes\");\n\nexport const OPEN_CLOSED_CHARACTERS: OpenCloseCharacter[] = [\n  { open: \"(\", close: \")\" },\n  { open: `\"`, close: `\"`},\n  { open: `'`, close: `'`},\n  { open: `\\\\\"`, close: `\\\\\"`},\n  { open: `\\\\'`, close: `\\\\'`},\n];\nexport const TINY_NUM = 0.0000001;\nexport const REVERSE_TINY_NUM = 1 / TINY_NUM;\nexport const DEFAULT_UNIT_PRESETS: IObject<(pos: number, size?: number) => number> = {\n  \"cm\": pos => pos * 96 / 2.54,\n  \"mm\": pos => pos * 96 / 254,\n  \"in\": pos => pos * 96,\n  \"pt\": pos => pos * 96 / 72,\n  \"pc\": pos => pos * 96 / 6,\n  \"%\": (pos, size) => pos * size! / 100,\n  \"vw\": (pos, size = window.innerWidth) => pos / 100 * size,\n  \"vh\": (pos, size = window.innerHeight) => pos / 100 * size,\n  \"vmax\": (pos, size = Math.max(window.innerWidth, window.innerHeight)) => pos / 100 * size,\n  \"vmin\": (pos, size = Math.min(window.innerWidth, window.innerHeight)) => pos / 100 * size,\n};\n", "import {\n  UNDEFINED, STRING,\n  OBJECT, FUNCTION,\n  IS_WINDOW, OPEN_CLOSED_CHARACTERS, NUMBER,\n  DEFAULT_UNIT_PRESETS,\n  TINY_NUM\n} from \"./consts\";\nimport {\n  FlattedElement,\n  IArrayFormat, IObject, OpenCloseCharacter,\n  SplitOptions,\n} from \"./types\";\n/**\n* @namespace\n* @name Utils\n*/\n\n/**\n * Returns the inner product of two numbers(`a1`, `a2`) by two criteria(`b1`, `b2`).\n * @memberof Utils\n * @param - The first number\n * @param - The second number\n * @param - The first number to base on the inner product\n * @param - The second number to base on the inner product\n * @return - Returns the inner product\nimport { dot } from \"@daybrush/utils\";\n\nconsole.log(dot(0, 15, 2, 3)); // 6\nconsole.log(dot(5, 15, 2, 3)); // 9\nconsole.log(dot(5, 15, 1, 1)); // 10\n */\nexport function dot(a1: number, a2: number, b1: number, b2: number) {\n  return (a1 * b2 + a2 * b1) / (b1 + b2);\n}\n/**\n* Check the type that the value is undefined.\n* @memberof Utils\n* @param {string} value - Value to check the type\n* @return {boolean} true if the type is correct, false otherwise\n* @example\nimport {isUndefined} from \"@daybrush/utils\";\n\nconsole.log(isUndefined(undefined)); // true\nconsole.log(isUndefined(\"\")); // false\nconsole.log(isUndefined(1)); // false\nconsole.log(isUndefined(null)); // false\n*/\nexport function isUndefined(value: any): value is undefined {\n  return (typeof value === UNDEFINED);\n}\n/**\n* Check the type that the value is object.\n* @memberof Utils\n* @param {string} value - Value to check the type\n* @return {} true if the type is correct, false otherwise\n* @example\nimport {isObject} from \"@daybrush/utils\";\n\nconsole.log(isObject({})); // true\nconsole.log(isObject(undefined)); // false\nconsole.log(isObject(\"\")); // false\nconsole.log(isObject(null)); // false\n*/\nexport function isObject(value: any): value is IObject<any> {\n  return value && (typeof value === OBJECT);\n}\n/**\n* Check the type that the value is isArray.\n* @memberof Utils\n* @param {string} value - Value to check the type\n* @return {} true if the type is correct, false otherwise\n* @example\nimport {isArray} from \"@daybrush/utils\";\n\nconsole.log(isArray([])); // true\nconsole.log(isArray({})); // false\nconsole.log(isArray(undefined)); // false\nconsole.log(isArray(null)); // false\n*/\nexport function isArray(value: any): value is any[] {\n  return Array.isArray(value);\n}\n/**\n* Check the type that the value is string.\n* @memberof Utils\n* @param {string} value - Value to check the type\n* @return {} true if the type is correct, false otherwise\n* @example\nimport {isString} from \"@daybrush/utils\";\n\nconsole.log(isString(\"1234\")); // true\nconsole.log(isString(undefined)); // false\nconsole.log(isString(1)); // false\nconsole.log(isString(null)); // false\n*/\nexport function isString(value: any): value is string {\n  return typeof value === STRING;\n}\n\nexport function isNumber(value: any): value is number {\n  return typeof value === NUMBER;\n}\n\n/**\n* Check the type that the value is function.\n* @memberof Utils\n* @param {string} value - Value to check the type\n* @return {} true if the type is correct, false otherwise\n* @example\nimport {isFunction} from \"@daybrush/utils\";\n\nconsole.log(isFunction(function a() {})); // true\nconsole.log(isFunction(() => {})); // true\nconsole.log(isFunction(\"1234\")); // false\nconsole.log(isFunction(1)); // false\nconsole.log(isFunction(null)); // false\n*/\nexport function isFunction(value: any): value is (...args: any[]) => any {\n  return typeof value === FUNCTION;\n}\nfunction isEqualSeparator(\n  character: string,\n  separator: string,\n) {\n  const isCharacterSpace = character === \"\" || character == \" \";\n  const isSeparatorSpace = separator === \"\" || separator == \" \";\n\n  return (isSeparatorSpace && isCharacterSpace) || character === separator;\n}\nfunction findOpen(\n  openCharacter: OpenCloseCharacter,\n  texts: string[],\n  index: number,\n  length: number,\n  openCloseCharacters: OpenCloseCharacter[],\n) {\n  const isIgnore = findIgnore(openCharacter, texts, index);\n\n  if (!isIgnore) {\n    return findClose(openCharacter, texts, index + 1, length, openCloseCharacters);\n  }\n  return index;\n}\nfunction findIgnore(\n  character: OpenCloseCharacter,\n  texts: string[],\n  index: number,\n) {\n  if (!character.ignore) {\n    return null;\n  }\n  const otherText = texts.slice(Math.max(index - 3, 0), index + 3).join(\"\");\n\n  return new RegExp(character.ignore).exec(otherText);\n\n}\nfunction findClose(\n  closeCharacter: OpenCloseCharacter,\n  texts: string[],\n  index: number,\n  length: number,\n  openCloseCharacters: OpenCloseCharacter[],\n) {\n  for (let i = index; i < length; ++i) {\n    const character = texts[i].trim();\n\n    if (character === closeCharacter.close && !findIgnore(closeCharacter, texts, i)) {\n      return i;\n    }\n    let nextIndex = i;\n    // re open\n    const openCharacter = find(openCloseCharacters, ({ open }) => open === character);\n\n    if (openCharacter) {\n      nextIndex = findOpen(openCharacter, texts, i, length, openCloseCharacters);\n    }\n    if (nextIndex === -1) {\n      break;\n    }\n    i = nextIndex;\n  }\n  return -1;\n}\n\nexport function splitText(\n  text: string,\n  splitOptions: string | SplitOptions,\n): string[] {\n  const {\n    separator = \",\",\n    isSeparateFirst,\n    isSeparateOnlyOpenClose,\n    isSeparateOpenClose = isSeparateOnlyOpenClose,\n    openCloseCharacters = OPEN_CLOSED_CHARACTERS,\n  } = isString(splitOptions) ? {\n    separator: splitOptions,\n  } as SplitOptions : splitOptions;\n  const openClosedText = openCloseCharacters.map(({ open, close }) => {\n    if (open === close) {\n      return open;\n    }\n    return `${open}|${close}`;\n  }).join(\"|\");\n  const regexText = `(\\\\s*${separator}\\\\s*|${openClosedText}|\\\\s+)`;\n  const regex = new RegExp(regexText, \"g\");\n  const texts = text.split(regex).filter(chr => {\n    return chr && chr !== \"undefined\";\n  });\n  const length = texts.length;\n  const values: string[] = [];\n  let tempValues: string[] = [];\n\n  function resetTemp() {\n    if (tempValues.length) {\n      values.push(tempValues.join(\"\"));\n      tempValues = [];\n\n      return true;\n    }\n    return false;\n  }\n  for (let i = 0; i < length; ++i) {\n    const character = texts[i].trim();\n    let nextIndex = i;\n\n\n    const openCharacter = find(openCloseCharacters, ({ open }) => open === character);\n    const closeCharacter = find(openCloseCharacters, ({ close }) => close === character);\n\n    if (openCharacter) {\n      nextIndex = findOpen(openCharacter, texts, i, length, openCloseCharacters);\n\n      if (nextIndex !== -1 && isSeparateOpenClose) {\n        if (resetTemp() && isSeparateFirst) {\n          break;\n        }\n        values.push(texts.slice(i, nextIndex + 1).join(\"\"));\n        i = nextIndex;\n\n        if (isSeparateFirst) {\n          break;\n        }\n        continue;\n      }\n    } else if (closeCharacter && !findIgnore(closeCharacter, texts, i)) {\n      const nextOpenCloseCharacters = [...openCloseCharacters];\n\n      nextOpenCloseCharacters.splice(openCloseCharacters.indexOf(closeCharacter), 1);\n\n      return splitText(\n        text,\n        {\n          separator,\n          isSeparateFirst,\n          isSeparateOnlyOpenClose,\n          isSeparateOpenClose,\n          openCloseCharacters: nextOpenCloseCharacters,\n        });\n    } else if (isEqualSeparator(character, separator) && !isSeparateOnlyOpenClose) {\n      resetTemp();\n      if (isSeparateFirst) {\n        break;\n      }\n      continue;\n    }\n\n    if (nextIndex === -1) {\n      nextIndex = length - 1;\n    }\n    tempValues.push(texts.slice(i, nextIndex + 1).join(\"\"));\n    i = nextIndex;\n  }\n  if (tempValues.length) {\n    values.push(tempValues.join(\"\"));\n  }\n  return values;\n}\n\n/**\n* divide text by space.\n* @memberof Utils\n* @param {string} text - text to divide\n* @return {Array} divided texts\n* @example\nimport {spliceSpace} from \"@daybrush/utils\";\n\nconsole.log(splitSpace(\"a b c d e f g\"));\n// [\"a\", \"b\", \"c\", \"d\", \"e\", \"f\", \"g\"]\nconsole.log(splitSpace(\"'a,b' c 'd,e' f g\"));\n// [\"'a,b'\", \"c\", \"'d,e'\", \"f\", \"g\"]\n*/\nexport function splitSpace(text: string) {\n  // divide comma(space)\n  return splitText(text, \"\");\n}\n\n/**\n* divide text by comma.\n* @memberof Utils\n* @param {string} text - text to divide\n* @return {Array} divided texts\n* @example\nimport {splitComma} from \"@daybrush/utils\";\n\nconsole.log(splitComma(\"a,b,c,d,e,f,g\"));\n// [\"a\", \"b\", \"c\", \"d\", \"e\", \"f\", \"g\"]\nconsole.log(splitComma(\"'a,b',c,'d,e',f,g\"));\n// [\"'a,b'\", \"c\", \"'d,e'\", \"f\", \"g\"]\n*/\nexport function splitComma(text: string): string[] {\n  // divide comma(,)\n  // \"[^\"]*\"|'[^']*'\n  return splitText(text, \",\");\n}\n/**\n* divide text by bracket \"(\", \")\".\n* @memberof Utils\n* @param {string} text - text to divide\n* @return {object} divided texts\n* @example\nimport {splitBracket} from \"@daybrush/utils\";\n\nconsole.log(splitBracket(\"a(1, 2)\"));\n// {prefix: \"a\", value: \"1, 2\", suffix: \"\"}\nconsole.log(splitBracket(\"a(1, 2)b\"));\n// {prefix: \"a\", value: \"1, 2\", suffix: \"b\"}\n*/\nexport function splitBracket(text: string) {\n  const matches = (/([^(]*)\\(([\\s\\S]*)\\)([\\s\\S]*)/g).exec(text);\n\n  if (!matches || matches.length < 4) {\n    return {};\n  } else {\n    return { prefix: matches[1], value: matches[2], suffix: matches[3] };\n  }\n}\n/**\n* divide text by number and unit.\n* @memberof Utils\n* @param {string} text - text to divide\n* @return {} divided texts\n* @example\nimport {splitUnit} from \"@daybrush/utils\";\n\nconsole.log(splitUnit(\"10px\"));\n// {prefix: \"\", value: 10, unit: \"px\"}\nconsole.log(splitUnit(\"-10px\"));\n// {prefix: \"\", value: -10, unit: \"px\"}\nconsole.log(splitUnit(\"a10%\"));\n// {prefix: \"a\", value: 10, unit: \"%\"}\n*/\nexport function splitUnit(text: string): { prefix: string, unit: string, value: number } {\n  const matches = /^([^\\d|e|\\-|\\+]*)((?:\\d|\\.|-|e-|e\\+)+)(\\S*)$/g.exec(text);\n\n  if (!matches) {\n    return { prefix: \"\", unit: \"\", value: NaN };\n  }\n  const prefix = matches[1];\n  const value = matches[2];\n  const unit = matches[3];\n\n  return { prefix, unit, value: parseFloat(value) };\n}\n\n/**\n* transform strings to camel-case\n* @memberof Utils\n* @param {String} text - string\n* @return {String} camel-case string\n* @example\nimport {camelize} from \"@daybrush/utils\";\n\nconsole.log(camelize(\"transform-origin\")); // transformOrigin\nconsole.log(camelize(\"abcd_efg\")); // abcdEfg\nconsole.log(camelize(\"abcd efg\")); // abcdEfg\n*/\nexport function camelize(str: string) {\n  return str.replace(/[\\s-_]+([^\\s-_])/g, (all, letter) => letter.toUpperCase());\n}\n/**\n* transform a camelized string into a lowercased string.\n* @memberof Utils\n* @param {string} text - a camel-cased string\n* @param {string} [separator=\"-\"] - a separator\n* @return {string}  a lowercased string\n* @example\nimport {decamelize} from \"@daybrush/utils\";\n\nconsole.log(decamelize(\"transformOrigin\")); // transform-origin\nconsole.log(decamelize(\"abcdEfg\", \"_\")); // abcd_efg\n*/\nexport function decamelize(str: string, separator: string = \"-\") {\n  return str.replace(/([a-z])([A-Z])/g, (all, letter, letter2) => `${letter}${separator}${letter2.toLowerCase()}`);\n}\n\n/**\n* transforms something in an array into an array.\n* @memberof Utils\n* @param - Array form\n* @return an array\n* @example\nimport {toArray} from \"@daybrush/utils\";\n\nconst arr1 = toArray(document.querySelectorAll(\".a\")); // Element[]\nconst arr2 = toArray(document.querySelectorAll<HTMLElement>(\".a\")); // HTMLElement[]\n*/\nexport function toArray<T>(value: IArrayFormat<T>): T[] {\n  return [].slice.call(value);\n}\n\n/**\n* Date.now() method\n* @memberof CrossBrowser\n* @return {number} milliseconds\n* @example\nimport {now} from \"@daybrush/utils\";\n\nconsole.log(now()); // 12121324241(milliseconds)\n*/\nexport function now() {\n  return Date.now ? Date.now() : new Date().getTime();\n}\n\n/**\n* Returns the index of the first element in the array that satisfies the provided testing function.\n* @function\n* @memberof CrossBrowser\n* @param - The array `findIndex` was called upon.\n* @param - A function to execute on each value in the array until the function returns true, indicating that the satisfying element was found.\n* @param - Returns defaultIndex if not found by the function.\n* @example\nimport { findIndex } from \"@daybrush/utils\";\n\nfindIndex([{a: 1}, {a: 2}, {a: 3}, {a: 4}], ({ a }) => a === 2); // 1\n*/\nexport function findIndex<T>(\n  arr: T[],\n  callback: (element: T, index: number, arr: T[]) => any,\n  defaultIndex: number = -1,\n): number {\n  const length = arr.length;\n\n  for (let i = 0; i < length; ++i) {\n    if (callback(arr[i], i, arr)) {\n      return i;\n    }\n  }\n  return defaultIndex;\n}\n\n/**\n* Returns the reverse direction index of the first element in the array that satisfies the provided testing function.\n* @function\n* @memberof CrossBrowser\n* @param - The array `findLastIndex` was called upon.\n* @param - A function to execute on each value in the array until the function returns true, indicating that the satisfying element was found.\n* @param - Returns defaultIndex if not found by the function.\n* @example\nimport { findLastIndex } from \"@daybrush/utils\";\n\nfindLastIndex([{a: 1}, {a: 2}, {a: 3}, {a: 4}], ({ a }) => a === 2); // 1\n*/\nexport function findLastIndex<T>(\n  arr: T[],\n  callback: (element: T, index: number, arr: T[]) => any,\n  defaultIndex: number = -1,\n): number {\n  const length = arr.length;\n\n  for (let i = length - 1; i >= 0; --i) {\n    if (callback(arr[i], i, arr)) {\n      return i;\n    }\n  }\n  return defaultIndex;\n}\n\n/**\n* Returns the value of the reverse direction element in the array that satisfies the provided testing function.\n* @function\n* @memberof CrossBrowser\n* @param - The array `findLast` was called upon.\n* @param - A function to execute on each value in the array,\n* @param - Returns defalutValue if not found by the function.\n* @example\nimport { find } from \"@daybrush/utils\";\n\nfind([{a: 1}, {a: 2}, {a: 3}, {a: 4}], ({ a }) => a === 2); // {a: 2}\n*/\nexport function findLast<T>(\n  arr: T[],\n  callback: (element: T, index: number, arr: T[]) => any,\n  defalutValue?: T,\n): T | undefined {\n  const index = findLastIndex(arr, callback);\n\n  return index > - 1 ? arr[index] : defalutValue;\n}\n/**\n* Returns the value of the first element in the array that satisfies the provided testing function.\n* @function\n* @memberof CrossBrowser\n* @param - The array `find` was called upon.\n* @param - A function to execute on each value in the array,\n* @param - Returns defalutValue if not found by the function.\n* @example\nimport { find } from \"@daybrush/utils\";\n\nfind([{a: 1}, {a: 2}, {a: 3}, {a: 4}], ({ a }) => a === 2); // {a: 2}\n*/\nexport function find<T>(\n  arr: T[],\n  callback: (element: T, index: number, arr: T[]) => any,\n  defalutValue?: T,\n): T | undefined {\n  const index = findIndex(arr, callback);\n\n  return index > - 1 ? arr[index] : defalutValue;\n}\n\n/**\n* window.requestAnimationFrame() method with cross browser.\n* @function\n* @memberof CrossBrowser\n* @param {FrameRequestCallback} callback - The function to call when it's time to update your animation for the next repaint.\n* @return {number} id\n* @example\nimport {requestAnimationFrame} from \"@daybrush/utils\";\n\nrequestAnimationFrame((timestamp) => {\n  console.log(timestamp);\n});\n*/\nexport const requestAnimationFrame = /*#__PURE__*/(() => {\n  const firstTime = now();\n\n  const raf = IS_WINDOW\n    && (window.requestAnimationFrame || (window as any).webkitRequestAnimationFrame\n      || (window as any).mozRequestAnimationFrame || (window as any).msRequestAnimationFrame);\n\n  return raf ? (raf.bind(window) as (callback: FrameRequestCallback) => number) : ((callback: FrameRequestCallback) => {\n    const currTime = now();\n    const id = setTimeout(() => {\n      callback(currTime - firstTime);\n    }, 1000 / 60);\n\n    return id as any as number;\n  });\n})();\n\n/**\n* window.cancelAnimationFrame() method with cross browser.\n* @function\n* @memberof CrossBrowser\n* @param {number} handle - the id obtained through requestAnimationFrame method\n* @return {void}\n* @example\nimport { requestAnimationFrame, cancelAnimationFrame } from \"@daybrush/utils\";\n\nconst id = requestAnimationFrame((timestamp) => {\n  console.log(timestamp);\n});\n\ncancelAnimationFrame(id);\n*/\nexport const cancelAnimationFrame = /*#__PURE__*/(() => {\n  const caf = IS_WINDOW\n    && (window.cancelAnimationFrame || (window as any).webkitCancelAnimationFrame\n      || (window as any).mozCancelAnimationFrame || (window as any).msCancelAnimationFrame);\n\n  return caf\n    ? caf.bind(window) as (handle: number) => void\n    : ((handle: number) => { clearTimeout(handle); });\n})();\n\n/**\n* @function\n* @memberof Utils\n*/\nexport function getKeys(obj: IObject<any>): string[] {\n  return Object.keys(obj);\n}\n\n/**\n* @function\n* @memberof Utils\n*/\nexport function getValues(obj: IObject<any>): any[] {\n  const keys = getKeys(obj);\n\n  return keys.map(key => obj[key]);\n}\n/**\n* @function\n* @memberof Utils\n*/\nexport function getEntries(obj: IObject<any>): [string, any][] {\n  const keys = getKeys(obj);\n\n  return keys.map(key => [key, obj[key]]);\n}\n\n/**\n* @function\n* @memberof Utils\n*/\nexport function sortOrders(keys: Array<string | number>, orders: Array<string | number> = []) {\n  keys.sort((a, b) => {\n    const index1 = orders.indexOf(a);\n    const index2 = orders.indexOf(b);\n\n    if (index2 === -1 && index1 === -1) {\n      return 0;\n    }\n    if (index1 === -1) {\n      return 1;\n    }\n    if (index2 === -1) {\n      return -1;\n    }\n    return index1 - index2;\n  });\n}\n\n/**\n* convert unit size to px size\n* @function\n* @memberof Utils\n*/\nexport function convertUnitSize(pos: string, size: number | IObject<((pos: number) => number) | number>) {\n  const { value, unit } = splitUnit(pos);\n\n  if (isObject(size)) {\n    const sizeFunction = size[unit];\n    if (sizeFunction) {\n      if (isFunction(sizeFunction)) {\n        return sizeFunction(value);\n      } else if (DEFAULT_UNIT_PRESETS[unit]) {\n        return DEFAULT_UNIT_PRESETS[unit](value, sizeFunction);\n      }\n    }\n  } else if (unit === \"%\") {\n    return value * size / 100;\n  }\n  if (DEFAULT_UNIT_PRESETS[unit]) {\n    return DEFAULT_UNIT_PRESETS[unit](value);\n  }\n  return value;\n}\n\n/**\n* calculate between min, max\n* @function\n* @memberof Utils\n*/\nexport function between(value: number, min: number, max: number): number {\n  return Math.max(min, Math.min(value, max));\n}\n\nexport function checkBoundSize(targetSize: number[], compareSize: number[], isMax: boolean, ratio = targetSize[0] / targetSize[1]) {\n  return [\n    [throttle(compareSize[0], TINY_NUM), throttle(compareSize[0] / ratio, TINY_NUM)],\n    [throttle(compareSize[1] * ratio, TINY_NUM), throttle(compareSize[1], TINY_NUM)],\n  ].filter(size => size.every((value, i) => {\n    const defaultSize = compareSize[i];\n    const throttledSize = throttle(defaultSize, TINY_NUM);\n\n    return isMax ? value <= defaultSize || value <= throttledSize : value >= defaultSize || value >= throttledSize;\n  }))[0] || targetSize;\n}\n\n/**\n* calculate bound size\n* @function\n* @memberof Utils\n*/\nexport function calculateBoundSize(\n  size: number[],\n  minSize: number[],\n  maxSize: number[],\n  keepRatio?: number | boolean,\n): number[] {\n  if (!keepRatio) {\n    return size.map((value, i) => between(value, minSize[i], maxSize[i]));\n  }\n  let [width, height] = size;\n\n  const ratio = keepRatio === true ? width / height : keepRatio;\n  // width : height = minWidth : minHeight;\n  const [minWidth, minHeight] = checkBoundSize(size, minSize, false, ratio);\n  const [maxWidth, maxHeight] = checkBoundSize(size, maxSize, true, ratio);\n\n  if (width < minWidth || height < minHeight) {\n    width = minWidth;\n    height = minHeight;\n  } else if (width > maxWidth || height > maxHeight) {\n    width = maxWidth;\n    height = maxHeight;\n  }\n  return [width, height];\n}\n\n\n/**\n* Add all the numbers.\n* @function\n* @memberof Utils\n*/\nexport function sum(nums: number[]): number {\n  const length = nums.length;\n  let total = 0;\n\n  for (let i = length - 1; i >= 0; --i) {\n    total += nums[i];\n  }\n  return total;\n}\n\n/**\n* Average all numbers.\n* @function\n* @memberof Utils\n*/\nexport function average(nums: number[]) {\n  const length = nums.length;\n  let total = 0;\n\n  for (let i = length - 1; i >= 0; --i) {\n    total += nums[i];\n  }\n  return length ? total / length : 0;\n}\n/**\n* Get the angle of two points. (0 <= rad < 359)\n* @function\n* @memberof Utils\n*/\nexport function getRad(pos1: number[], pos2: number[]): number {\n  const distX = pos2[0] - pos1[0];\n  const distY = pos2[1] - pos1[1];\n  const rad = Math.atan2(distY, distX);\n\n  return rad >= 0 ? rad : rad + Math.PI * 2;\n}\n/**\n* Get the average point of all points.\n* @function\n* @memberof Utils\n*/\nexport function getCenterPoint(points: number[][]): number[] {\n  return [0, 1].map(i => average(points.map(pos => pos[i])));\n}\n/**\n* Gets the direction of the shape.\n* @function\n* @memberof Utils\n*/\nexport function getShapeDirection(points: number[][]): 1 | -1 {\n  const center = getCenterPoint(points);\n  const pos1Rad = getRad(center, points[0]);\n  const pos2Rad = getRad(center, points[1]);\n\n  return (pos1Rad < pos2Rad && pos2Rad - pos1Rad < Math.PI) || (pos1Rad > pos2Rad && pos2Rad - pos1Rad < -Math.PI)\n    ? 1 : -1;\n}\n\n/**\n* Get the distance between two points.\n* @function\n* @memberof Utils\n*/\nexport function getDist(a: number[], b?: number[]) {\n  return Math.sqrt(Math.pow((b ? b[0] : 0) - a[0], 2) + Math.pow((b ? b[1] : 0) - a[1], 2));\n}\n\n/**\n* throttle number depending on the unit.\n* @function\n* @memberof Utils\n*/\nexport function throttle(num: number, unit?: number) {\n  if (!unit) {\n    return num;\n  }\n  const reverseUnit = 1 / unit;\n  return Math.round(num / unit) / reverseUnit;\n}\n\n/**\n* throttle number array depending on the unit.\n* @function\n* @memberof Utils\n*/\nexport function throttleArray(nums: number[], unit?: number) {\n  nums.forEach((_, i) => {\n    nums[i] = throttle(nums[i], unit);\n  });\n  return nums;\n}\n\n/**\n* @function\n* @memberof Utils\n*/\nexport function counter(num: number): number[] {\n  const nums: number[] = [];\n\n  for (let i = 0; i < num; ++i) {\n    nums.push(i);\n  }\n\n  return nums;\n}\n\n/**\n* @function\n* @memberof Utils\n*/\nexport function replaceOnce(text: string, fromText: RegExp | string, toText: string | ((...args: any[]) => string)): string {\n  let isOnce = false;\n  return text.replace(fromText, (...args: any[]) => {\n    if (isOnce) {\n      return args[0];\n    }\n    isOnce = true;\n    return isString(toText) ? toText : toText(...args);\n  });\n}\n\n\n/**\n* @function\n* @memberof Utils\n*/\nexport function flat<Type>(arr: Type[][]): Type[] {\n  return arr.reduce((prev, cur) => {\n    return prev.concat(cur);\n  }, []);\n}\n\n/**\n* @function\n* @memberof Utils\n*/\nexport function deepFlat<T extends any[]>(arr: T): Array<FlattedElement<T[0]>> {\n  return arr.reduce((prev, cur) => {\n    if (isArray(cur)) {\n      prev.push(...deepFlat(cur));\n    } else {\n      prev.push(cur);\n    }\n    return prev;\n  }, [] as any[]);\n}\n\n\n/**\n * @function\n * @memberof Utils\n */\nexport function pushSet<T>(elements: T[], element: T) {\n  if (elements.indexOf(element) === -1) {\n    elements.push(element);\n  }\n}\n", "import { RGB, RGBA, HSL, HSLA } from \"./consts\";\nimport { splitBracket, splitComma } from \"./utils\";\n\n/**\n* @namespace\n* @name Color\n*/\n\n/**\n* Remove the # from the hex color.\n* @memberof Color\n* @param {} hex - hex color\n* @return {} hex color\n* @example\nimport {cutHex} from \"@daybrush/utils\";\n\nconsole.log(cutHex(\"#000000\")) // \"000000\"\n*/\nexport function cutHex(hex: string) {\n  return hex.replace(\"#\", \"\");\n}\n/**\n* convert hex color to rgb color.\n* @memberof Color\n* @param {} hex - hex color\n* @return {} rgb color\n* @example\nimport {hexToRGBA} from \"@daybrush/utils\";\n\nconsole.log(hexToRGBA(\"#00000005\"));\n// [0, 0, 0, 1]\nconsole.log(hexToRGBA(\"#201045\"));\n// [32, 16, 69, 1]\n*/\nexport function hexToRGBA(hex: string): [number, number, number, number] {\n  const h = cutHex(hex);\n  const r = parseInt(h.substring(0, 2), 16);\n  const g = parseInt(h.substring(2, 4), 16);\n  const b = parseInt(h.substring(4, 6), 16);\n  let a = parseInt(h.substring(6, 8), 16) / 255;\n\n  if (isNaN(a)) {\n    a = 1;\n  }\n  return [r, g, b, a];\n}\n\n/**\n* convert 3(or 4)-digit hex color to 6(or 8)-digit hex color.\n* @memberof Color\n* @param {} hex - 3(or 4)-digit hex color\n* @return {} 6(or 8)-digit hex color\n* @example\nimport {toFullHex} from \"@daybrush/utils\";\n\nconsole.log(toFullHex(\"#123\")); // \"#112233\"\nconsole.log(toFullHex(\"#123a\")); // \"#112233aa\"\n*/\nexport function toFullHex(h: string): string {\n  const r = h.charAt(1);\n  const g = h.charAt(2);\n  const b = h.charAt(3);\n  const a = h.charAt(4);\n  const arr = [\"#\", r, r, g, g, b, b, a, a];\n\n  return arr.join(\"\");\n}\n/**\n* convert hsl color to rgba color.\n* @memberof Color\n* @param {} hsl - hsl color(hue: 0 ~ 360, saturation: 0 ~ 1, lightness: 0 ~ 1, alpha: 0 ~ 1)\n* @return {} rgba color\n* @example\nimport {hslToRGBA} from \"@daybrush/utils\";\n\nconsole.log(hslToRGBA([150, 0.5, 0.4]));\n// [51, 153, 102, 1]\n*/\nexport function hslToRGBA(hsl: readonly [number, number, number, number?]): [number, number, number, number] {\n  let h = hsl[0];\n  const s = hsl[1];\n  const l = hsl[2];\n\n  if (h < 0) {\n    h +=  Math.floor((Math.abs(h) + 360) / 360) * 360;\n  }\n  h %= 360;\n\n  const c = (1 - Math.abs(2 * l - 1)) * s;\n  const x = c * (1 - Math.abs((h / 60) % 2 - 1));\n  const m = l - c / 2;\n  let rgb: [number, number, number];\n\n  if (h < 60) {\n    rgb = [c, x, 0];\n  } else if (h < 120) {\n    rgb = [x, c, 0];\n  } else if (h < 180) {\n    rgb = [0, c, x];\n  } else if (h < 240) {\n    rgb = [0, x, c];\n  } else if (h < 300) {\n    rgb = [x, 0, c];\n  } else if (h < 360) {\n    rgb = [c, 0, x];\n  } else {\n    rgb = [0, 0, 0];\n  }\n\n  return [\n    Math.round((rgb[0] + m) * 255),\n    Math.round((rgb[1] + m) * 255),\n    Math.round((rgb[2] + m) * 255),\n    hsl[3] ?? 1,\n  ];\n}\n/**\n* convert string to rgba color.\n* @memberof Color\n* @param {} - 3-hex(#000), 4-hex(#0000) 6-hex(#000000), 8-hex(#00000000) or RGB(A), or HSL(A)\n* @return {} rgba color\n* @example\nimport {stringToRGBA} from \"@daybrush/utils\";\n\nconsole.log(stringToRGBA(\"#000000\")); // [0, 0, 0, 1]\nconsole.log(stringToRGBA(\"rgb(100, 100, 100)\")); // [100, 100, 100, 1]\nconsole.log(stringToRGBA(\"hsl(150, 0.5, 0.4)\")); // [51, 153, 102, 1]\n*/\nexport function stringToRGBA(color: string): [number, number, number, number] {\n  if (color.charAt(0) === \"#\") {\n    if (color.length === 4 || color.length === 5) {\n      return hexToRGBA(toFullHex(color));\n    } else {\n      return hexToRGBA(color);\n    }\n  } else if (color.indexOf(\"(\") !== -1) {\n    // in bracket.\n    const {prefix, value} = splitBracket(color);\n\n    if (!prefix || !value) {\n      return undefined as never;\n    }\n    const arr = splitComma(value);\n    const colorArr: [number, number, number, number] = [0, 0, 0, 1];\n    const length = arr.length;\n\n    switch (prefix) {\n      case RGB:\n      case RGBA:\n        for (let i = 0; i < length; ++i) {\n          colorArr[i] = parseFloat(arr[i]);\n        }\n        return colorArr;\n      case HSL:\n      case HSLA:\n        for (let i = 0; i < length; ++i) {\n          if (arr[i].indexOf(\"%\") !== -1) {\n            colorArr[i] = parseFloat(arr[i]) / 100;\n          } else {\n            colorArr[i] = parseFloat(arr[i]);\n          }\n        }\n        // hsl, hsla to rgba\n        return hslToRGBA(colorArr);\n    }\n  }\n  return undefined as never;\n}\n", "import { document } from \"./consts\";\nimport { IObject, IEventMap } from \"./types\";\nimport { isObject } from \"./utils\";\n\n/**\n * @namespace DOM\n */\n\nexport function $<K extends keyof HTMLElementTagNameMap>(selectors: K, multi: true):\n  NodeListOf<HTMLElementTagNameMap[K]>;\nexport function $<K extends keyof SVGElementTagNameMap>(selectors: K, multi: true): NodeListOf<SVGElementTagNameMap[K]>;\nexport function $<E extends Element = Element>(selectors: string, multi: true): NodeListOf<E>;\n\nexport function $<K extends keyof HTMLElementTagNameMap>(selectors: K, multi?: false): HTMLElementTagNameMap[K] | null;\nexport function $<K extends keyof SVGElementTagNameMap>(selectors: K, multi?: false): SVGElementTagNameMap[K] | null;\nexport function $<E extends Element = Element>(selectors: string, multi?: false): E | null;\n/**\n * Returns all element descendants of node that\n * match selectors.\n */\n\n/**\n * Checks if the specified class value exists in the element's class attribute.\n * @memberof DOM\n * @param - A DOMString containing one or more selectors to match\n * @param - If multi is true, a DOMString containing one or more selectors to match against.\n * @example\nimport {$} from \"@daybrush/utils\";\n\nconsole.log($(\"div\")); // div element\nconsole.log($(\"div\", true)); // [div, div] elements\n*/\nexport function $<E extends Element = Element>(selectors: string, multi?: boolean): E | NodeListOf<E> | null {\n  if (!document) {\n    return multi ? [] as any : null;\n  }\n  return multi ? document.querySelectorAll<E>(selectors) : document.querySelector<E>(selectors);\n}\n\n/**\n* Checks if the specified class value exists in the element's class attribute.\n* @memberof DOM\n* @param element - target\n* @param className - the class name to search\n* @return {boolean} return false if the class is not found.\n* @example\nimport {hasClass} from \"@daybrush/utils\";\n\nconsole.log(hasClass(element, \"start\")); // true or false\n*/\nexport function hasClass(element: Element, className: string) {\n  if (element.classList) {\n    return element.classList.contains(className);\n  }\n  return !!element.className.match(new RegExp(`(\\\\s|^)${className}(\\\\s|$)`));\n}\n\n/**\n* Add the specified class value. If these classe already exist in the element's class attribute they are ignored.\n* @memberof DOM\n* @param element - target\n* @param className - the class name to add\n* @example\nimport {addClass} from \"@daybrush/utils\";\n\naddClass(element, \"start\");\n*/\nexport function addClass(element: Element, className: string) {\n  if (element.classList) {\n    element.classList.add(className);\n  } else {\n    element.className += ` ${className}`;\n  }\n}\n\n/**\n* Removes the specified class value.\n* @memberof DOM\n* @param element - target\n* @param className - the class name to remove\n* @example\nimport {removeClass} from \"@daybrush/utils\";\n\nremoveClass(element, \"start\");\n*/\nexport function removeClass(element: Element, className: string) {\n  if (element.classList) {\n    element.classList.remove(className);\n  } else {\n    const reg = new RegExp(`(\\\\s|^)${className}(\\\\s|$)`);\n\n    element.className = element.className.replace(reg, \" \");\n  }\n}\n\n/**\n* Gets the CSS properties from the element.\n* @memberof DOM\n* @param elements - elements\n* @param properites - the CSS properties\n* @return returns CSS properties and values.\n* @example\nimport {fromCSS} from \"@daybrush/utils\";\n\nconsole.log(fromCSS(element, [\"left\", \"opacity\", \"top\"])); // {\"left\": \"10px\", \"opacity\": 1, \"top\": \"10px\"}\n*/\nexport function fromCSS(\n  elements: Element | Element[] | NodeListOf<Element>, properties: string[]): IObject<any> {\n  if (!elements || !properties || !properties.length) {\n    return {};\n  }\n  let element;\n\n  if (elements instanceof Element) {\n    element = elements;\n  } else if (elements.length) {\n    element = elements[0];\n  } else {\n    return {};\n  }\n  const cssObject: IObject<any> = {};\n  const styles = getWindow(element).getComputedStyle(element) as any;\n  const length = properties.length;\n\n  for (let i = 0; i < length; ++i) {\n    cssObject[properties[i]] = styles[properties[i]];\n  }\n  return cssObject;\n}\n\nexport function addEvent<K extends keyof IEventMap>(\n  el: EventTarget, type: K, listener: (e: IEventMap[K]) => void, options?: boolean | AddEventListenerOptions): void;\n/**\n* Sets up a function that will be called whenever the specified event is delivered to the target\n* @memberof DOM\n* @param - event target\n* @param - A case-sensitive string representing the event type to listen for.\n* @param - The object which receives a notification (an object that implements the Event interface) when an event of the specified type occurs\n* @param - An options object that specifies characteristics about the event listener.\n* @example\nimport {addEvent} from \"@daybrush/utils\";\n\naddEvent(el, \"click\", e => {\n  console.log(e);\n});\n*/\nexport function addEvent(\n  el: EventTarget,\n  type: string, listener: (e: Event) => void,\n  options?: boolean | AddEventListenerOptions) {\n  el.addEventListener(type, listener, options);\n}\n\nexport function removeEvent<K extends keyof IEventMap>(\n  el: EventTarget, type: K, listener: (e: IEventMap[K]) => void, options?: boolean | EventListenerOptions): void;\n/**\n* removes from the EventTarget an event listener previously registered with EventTarget.addEventListener()\n* @memberof DOM\n* @param - event target\n* @param - A case-sensitive string representing the event type to listen for.\n* @param - The EventListener function of the event handler to remove from the event target.\n* @param - An options object that specifies characteristics about the event listener.\n* @example\nimport {addEvent, removeEvent} from \"@daybrush/utils\";\nconst listener = e => {\n  console.log(e);\n};\naddEvent(el, \"click\", listener);\nremoveEvent(el, \"click\", listener);\n*/\nexport function removeEvent(\n  el: EventTarget, type: string,\n  listener: (e: Event) => void,\n  options?: boolean | EventListenerOptions,\n) {\n  el.removeEventListener(type, listener, options);\n}\n\n\nexport function getDocument(el?: Node) {\n  return el?.ownerDocument || document;\n}\n\nexport function getDocumentElement(el?: Node) {\n  return getDocument(el).documentElement;\n}\n\nexport function getDocumentBody(el?: Node) {\n  return getDocument(el).body;\n}\n\nexport function getWindow(el?: Node) {\n  return el?.ownerDocument?.defaultView || window;\n}\n\n\nexport function isWindow(val: any): val is Window {\n  return val && \"postMessage\" in val && \"blur\" in val && \"self\" in val;\n}\n\nexport function isNode(el?: any): el is Node {\n  return isObject(el) && el.nodeName && el.nodeType && \"ownerDocument\" in el;\n}\n", "/*\negjs-list-differ\nCopyright (c) 2019-present NAVER Corp.\nMIT license\n*/\nexport default class PolyMap<T> {\n  private keys: T[] = [];\n  private values: number[] = [];\n  public get(key: T): number {\n    return this.values[this.keys.indexOf(key)];\n  }\n  public set(key: T, value: number) {\n    const keys = this.keys;\n    const values = this.values;\n    const prevIndex = keys.indexOf(key);\n    const index = prevIndex === -1 ? keys.length : prevIndex;\n\n    keys[index] = key;\n    values[index] = value;\n  }\n}\n", "/*\negjs-list-differ\nCopyright (c) 2019-present NAVER Corp.\nMIT license\n*/\nexport default class HashMap<T> {\n  private object = {};\n  public get(key: number | string): T {\n    return this.object[key];\n  }\n  public set(key: number | string, value: T) {\n    this.object[key] = value;\n  }\n};\n\n", "/*\negjs-list-differ\nCopyright (c) 2019-present NAVER Corp.\nMIT license\n*/\nexport const SUPPORT_MAP = typeof Map === \"function\";\n", "/*\negjs-list-differ\nCopyright (c) 2019-present NAVER Corp.\nMIT license\n*/\nexport default class Link {\n  prev?: Link;\n  next?: Link;\n\n  public connect(prevLink?: Link, nextLink?: Link) {\n    this.prev = prevLink;\n    this.next = nextLink;\n\n    prevLink && (prevLink.next = this);\n    nextLink && (nextLink.prev = this);\n  }\n  public disconnect() {\n    // In double linked list, diconnect the interconnected relationship.\n    const prevLink = this.prev;\n    const nextLink = this.next;\n    prevLink && (prevLink.next = nextLink);\n    nextLink && (nextLink.prev = prevLink);\n  }\n  public getIndex() {\n    let link: Link | undefined = this;\n    let index = -1;\n\n    while (link) {\n      link = link.prev;\n      ++index;\n    }\n    return index;\n  }\n}\n", "/*\negjs-list-differ\nCopyright (c) 2019-present NAVER Corp.\nMIT license\n*/\nimport Link from \"./Link\";\n\nfunction orderChanged(changed: number[][], fixed: boolean[]) {\n  // It is roughly in the order of these examples.\n  // 4, 6, 0, 2, 1, 3, 5, 7\n  const fromLinks: Link[] = [];\n  // 0, 1, 2, 3, 4, 5, 6, 7\n  const toLinks: Link[] = [];\n\n  changed.forEach(([from, to]) => {\n    const link = new Link();\n\n    fromLinks[from] = link;\n    toLinks[to] = link;\n  });\n  // `fromLinks` are connected to each other by double linked list.\n  fromLinks.forEach((link, i) => {\n    link.connect(fromLinks[i - 1]);\n  });\n\n  return changed.filter((_, i) => !fixed[i]).map(([from, to], i) => {\n    if (from === to) {\n      return [0, 0];\n    }\n    const fromLink = fromLinks[from];\n    const toLink = toLinks[to - 1];\n    const fromIndex = fromLink.getIndex();\n\n    // Disconnect the link connected to `fromLink`.\n    fromLink.disconnect();\n\n    // Connect `fromLink` to the right of `toLink`.\n    if (!toLink) {\n      fromLink.connect(undefined, fromLinks[0]);\n    } else {\n      fromLink.connect(toLink, toLink.next);\n    }\n    const toIndex = fromLink.getIndex();\n    return [fromIndex, toIndex];\n  });\n}\n\nexport default class Result<T = any> {\n  public prevList: T[];\n  public list: T[];\n  public added: number[];\n  public removed: number[];\n  public changed: number[][];\n  public maintained: number[][];\n  private changedBeforeAdded: number[][];\n  private fixed: boolean[];\n\n  private cacheOrdered: number[][];\n  private cachePureChanged: number[][];\n  constructor(\n    prevList: T[],\n    list: T[],\n    added: number[],\n    removed: number[],\n    changed: number[][],\n    maintained: number[][],\n    changedBeforeAdded: number[][],\n    fixed: boolean[],\n  ) {\n    this.prevList = prevList;\n    this.list = list;\n    this.added = added;\n    this.removed = removed;\n    this.changed = changed;\n    this.maintained = maintained;\n    this.changedBeforeAdded = changedBeforeAdded;\n    this.fixed = fixed;\n  }\n  get ordered(): number[][] {\n    if (!this.cacheOrdered) {\n      this.caculateOrdered();\n    }\n    return this.cacheOrdered;\n  }\n  get pureChanged(): number[][] {\n    if (!this.cachePureChanged) {\n      this.caculateOrdered();\n    }\n    return this.cachePureChanged;\n  }\n  private caculateOrdered() {\n    const ordered = orderChanged(this.changedBeforeAdded, this.fixed);\n    const changed: number[][] = this.changed;\n    const pureChanged: number[][] = [];\n\n    this.cacheOrdered = ordered.filter(([from, to], i) => {\n      const [fromBefore, toBefore] = changed[i];\n\n      if (from !== to) {\n        pureChanged.push([fromBefore, toBefore]);\n        return true;\n      }\n    });\n    this.cachePureChanged = pureChanged;\n  }\n}\n", "/*\negjs-list-differ\nCopyright (c) 2019-present NAVER Corp.\nMIT license\n*/\nimport { MapInteface, DiffResult } from \"./types\";\nimport PolyMap from \"./PolyMap\";\nimport HashMap from \"./HashMap\";\nimport { SUPPORT_MAP } from \"./consts\";\nimport Result from \"./Result\";\n\n/**\n *\n * @memberof eg.ListDiffer\n * @static\n * @function\n * @param - Previous List <ko> 이전 목록 </ko>\n * @param - List to Update <ko> 업데이트 할 목록 </ko>\n * @param - This callback function returns the key of the item. <ko> 아이템의 키를 반환하는 콜백 함수입니다.</ko>\n * @return - Returns the diff between `prevList` and `list` <ko> `prevList`와 `list`의 다른 점을 반환한다.</ko>\n * @example\n * import { diff } from \"@egjs/list-differ\";\n * // script => eg.ListDiffer.diff\n * const result = diff([0, 1, 2, 3, 4, 5], [7, 8, 0, 4, 3, 6, 2, 1], e => e);\n * // List before update\n * // [1, 2, 3, 4, 5]\n * console.log(result.prevList);\n * // Updated list\n * // [4, 3, 6, 2, 1]\n * console.log(result.list);\n * // Index array of values added to `list`\n * // [0, 1, 5]\n * console.log(result.added);\n * // Index array of values removed in `prevList`\n * // [5]\n * console.log(result.removed);\n * // An array of index pairs of `prevList` and `list` with different indexes from `prevList` and `list`\n * // [[0, 2], [4, 3], [3, 4], [2, 6], [1, 7]]\n * console.log(result.changed);\n * // The subset of `changed` and an array of index pairs that moved data directly. Indicate an array of absolute index pairs of `ordered`.(Formatted by: Array<[index of prevList, index of list]>)\n * // [[4, 3], [3, 4], [2, 6]]\n * console.log(result.pureChanged);\n * // An array of index pairs to be `ordered` that can synchronize `list` before adding data. (Formatted by: Array<[prevIndex, nextIndex]>)\n * // [[4, 1], [4, 2], [4, 3]]\n * console.log(result.ordered);\n * // An array of index pairs of `prevList` and `list` that have not been added/removed so data is preserved\n * // [[0, 2], [4, 3], [3, 4], [2, 6], [1, 7]]\n * console.log(result.maintained);\n */\nexport function diff<T>(\n  prevList: T[],\n  list: T[],\n  findKeyCallback?: (e: T, i: number, arr: T[]) => any\n): DiffResult<T> {\n  const mapClass: new () => MapInteface<any, number> = SUPPORT_MAP ? Map : (findKeyCallback ? HashMap : PolyMap);\n  const callback = findKeyCallback || ((e: T) => e);\n  const added: number[] = [];\n  const removed: number[] = [];\n  const maintained: number[][] = [];\n  const prevKeys = prevList.map(callback);\n  const keys = list.map(callback);\n  const prevKeyMap: MapInteface<any, number> = new mapClass();\n  const keyMap: MapInteface<any, number> = new mapClass();\n  const changedBeforeAdded: number[][] = [];\n  const fixed: boolean[] = [];\n  const removedMap: object = {};\n  let changed: number[][] = [];\n  let addedCount = 0;\n  let removedCount = 0;\n\n  // Add prevKeys and keys to the hashmap.\n  prevKeys.forEach((key, prevListIndex) => {\n    prevKeyMap.set(key, prevListIndex);\n  });\n  keys.forEach((key, listIndex) => {\n    keyMap.set(key, listIndex);\n  });\n\n  // Compare `prevKeys` and `keys` and add them to `removed` if they are not in `keys`.\n  prevKeys.forEach((key, prevListIndex) => {\n    const listIndex = keyMap.get(key);\n\n    // In prevList, but not in list, it is removed.\n    if (typeof listIndex === \"undefined\") {\n      ++removedCount;\n      removed.push(prevListIndex);\n    } else {\n      removedMap[listIndex] = removedCount;\n    }\n  });\n\n  // Compare `prevKeys` and `keys` and add them to `added` if they are not in `prevKeys`.\n  keys.forEach((key, listIndex) => {\n    const prevListIndex = prevKeyMap.get(key);\n\n    // In list, but not in prevList, it is added.\n    if (typeof prevListIndex === \"undefined\") {\n      added.push(listIndex);\n      ++addedCount;\n    } else {\n      maintained.push([prevListIndex, listIndex]);\n      removedCount = removedMap[listIndex] || 0;\n\n      changedBeforeAdded.push([\n        prevListIndex - removedCount,\n        listIndex - addedCount,\n      ]);\n      fixed.push(listIndex === prevListIndex);\n      if (prevListIndex !== listIndex) {\n        changed.push([prevListIndex, listIndex]);\n      }\n    }\n  });\n  // Sort by ascending order of 'to(list's index).\n  removed.reverse();\n\n  return new Result(\n    prevList,\n    list,\n    added,\n    removed,\n    changed,\n    maintained,\n    changedBeforeAdded,\n    fixed,\n  );\n}\n", "/*\negjs-list-differ\nCopyright (c) 2019-present NAVER Corp.\nMIT license\n*/\nimport { DiffResult, ListFormat } from \"./types\";\nimport { diff } from \"./utils\";\n\n/**\n * A module that checks diff when values are added, removed, or changed in an array.\n * @ko 배열 또는 오브젝트에서 값이 추가되거나 삭제되거나 순서가 변경사항을 체크하는 모듈입니다.\n * @memberof eg\n */\nclass ListDiffer<T> {\n  private list: T[];\n  /**\n   * @param - Initializing Data Array. <ko> 초기 설정할 데이터 배열.</ko>\n   * @param - This callback function returns the key of the item. <ko> 아이템의 키를 반환하는 콜백 함수입니다.</ko>\n   * @example\n   * import ListDiffer from \"@egjs/list-differ\";\n   * // script => eg.ListDiffer\n   * const differ = new ListDiffer([0, 1, 2, 3, 4, 5], e => e);\n   * const result = differ.update([7, 8, 0, 4, 3, 6, 2, 1]);\n   * // List before update\n   * // [1, 2, 3, 4, 5]\n   * console.log(result.prevList);\n   * // Updated list\n   * // [4, 3, 6, 2, 1]\n   * console.log(result.list);\n   * // Index array of values added to `list`.\n   * // [0, 1, 5]\n   * console.log(result.added);\n   * // Index array of values removed in `prevList`.\n   * // [5]\n   * console.log(result.removed);\n   * // An array of index pairs of `prevList` and `list` with different indexes from `prevList` and `list`.\n   * // [[0, 2], [4, 3], [3, 4], [2, 6], [1, 7]]\n   * console.log(result.changed);\n   * // The subset of `changed` and an array of index pairs that moved data directly. Indicate an array of absolute index pairs of `ordered`.(Formatted by: Array<[index of prevList, index of list]>)\n   * // [[4, 3], [3, 4], [2, 6]]\n   * console.log(result.pureChanged);\n   * // An array of index pairs to be `ordered` that can synchronize `list` before adding data. (Formatted by: Array<[prevIndex, nextIndex]>)\n   * // [[4, 1], [4, 2], [4, 3]]\n   * console.log(result.ordered);\n   * // An array of index pairs of `prevList` and `list` that have not been added/removed so data is preserved.\n   * // [[0, 2], [4, 3], [3, 4], [2, 6], [1, 7]]\n   * console.log(result.maintained);\n   */\n  constructor(\n    list: ListFormat<T> = [],\n    private findKeyCallback?: (e: T, i: number, arr: T[]) => number | string,\n  ) {\n    this.list = [].slice.call(list);\n  }\n  /**\n   * Update list.\n   * @ko 리스트를 업데이트를 합니다.\n   * @param - List to update <ko> 업데이트할 리스트 </ko>\n   * @return - Returns the results of an update from `prevList` to `list`.<ko> `prevList`에서 `list`로 업데이트한 결과를 반환한다. </ko>\n   */\n  public update(list: ListFormat<T>): DiffResult<T> {\n    const newData: T[] = [].slice.call(list);\n    const result = diff<T>(this.list, newData, this.findKeyCallback);\n\n    this.list = newData;\n    return result;\n  }\n}\n\nexport default ListDiffer;\n", "/*\negjs-list-differ\nCopyright (c) 2019-present NAVER Corp.\nMIT license\n*/\nimport ListDiffer from \"./ListDiffer\";\nexport default ListDiffer;\nexport { diff } from \"./utils\";\nexport * from \"./types\";\n", null, null, null, null, null, null, null, null, null, null, null, null, null, null, "import { PresetInfo, PresetResult, NavigatorUABrandVersion } from \"./types\";\n\nexport function some<T>(arr: T[], callback: (value: T, index: number) => any): boolean {\n    const length = arr.length;\n\n    for (let i = 0; i < length; ++i) {\n        if (callback(arr[i], i)) {\n            return true;\n        }\n    }\n\n    return false;\n}\nexport function find<T>(arr: T[], callback: (value: T, index: number) => any): T | null {\n    const length = arr.length;\n\n    for (let i = 0; i < length; ++i) {\n        if (callback(arr[i], i)) {\n            return arr[i];\n        }\n    }\n    return null;\n}\nexport function getUserAgentString(agent?: string): string {\n    let userAgent = agent;\n    if (typeof userAgent === \"undefined\") {\n        if (typeof navigator === \"undefined\" || !navigator) {\n            return \"\";\n        }\n\n        userAgent = navigator.userAgent || \"\";\n    }\n    return userAgent!.toLowerCase();\n}\nexport function execRegExp(pattern: string, text: string): RegExpExecArray | null {\n    try {\n        return new RegExp(pattern, \"g\").exec(text);\n    } catch (e) {\n        return null;\n    }\n}\nexport function hasUserAgentData(): boolean {\n    if (typeof navigator === \"undefined\" || !navigator || !navigator.userAgentData) {\n        return false;\n    }\n    const userAgentData = navigator.userAgentData;\n    const brands = (userAgentData.brands || userAgentData.uaList);\n\n    return !!(brands && brands.length);\n}\nexport function findVersion(versionTest: string, userAgent: string): string {\n    const result = execRegExp(`(${versionTest})((?:\\\\/|\\\\s|:)([0-9|\\\\.|_]+))`, userAgent);\n\n    return result ? result[3] : \"\";\n}\nexport function convertVersion(text: string): string {\n    return text.replace(/_/g, \".\");\n}\nexport function findPreset(presets: PresetInfo[], userAgent: string): PresetResult {\n    let userPreset: PresetInfo | null = null;\n    let version = \"-1\";\n\n    some(presets, preset => {\n        const result = execRegExp(`(${preset.test})((?:\\\\/|\\\\s|:)([0-9|\\\\.|_]+))?`, userAgent);\n\n        if (!result || preset.brand) {\n            return false;\n        }\n        userPreset = preset;\n        version = result[3] || \"-1\";\n\n        if (preset.versionAlias) {\n            version = preset.versionAlias;\n        } else if (preset.versionTest) {\n            version = findVersion(preset.versionTest.toLowerCase(), userAgent) || version;\n        }\n        version = convertVersion(version);\n        return true;\n    });\n\n    return {\n        preset: userPreset,\n        version,\n    };\n}\nexport function findPresetBrand(presets: PresetInfo[], brands: NavigatorUABrandVersion[]): NavigatorUABrandVersion {\n    const brandInfo = {\n        brand: \"\",\n        version: \"-1\",\n    };\n    some(presets, preset => {\n        const result = findBrand(brands, preset);\n\n        if (!result) {\n            return false;\n        }\n\n        brandInfo.brand = preset.id;\n        brandInfo.version = preset.versionAlias || result.version;\n\n        return brandInfo.version !== \"-1\";\n    });\n\n    return brandInfo;\n}\nexport function findBrand(brands: NavigatorUABrandVersion[], preset: PresetInfo): NavigatorUABrandVersion | null {\n    return find(brands, ({ brand }) => {\n        return execRegExp(`${preset.test}`, brand.toLowerCase());\n    });\n}\n", "import { PresetInfo } from \"./types\";\n\nexport const BROWSER_PRESETS: PresetInfo[] = [\n    {\n        test: \"phantomjs\",\n        id: \"phantomjs\",\n    },\n    {\n        test: \"whale\",\n        id: \"whale\",\n    }, {\n        test: \"edgios|edge|edg\",\n        id: \"edge\",\n    },\n    {\n        test: \"msie|trident|windows phone\",\n        id: \"ie\",\n        versionTest: \"iemobile|msie|rv\",\n    },\n    {\n        test: \"miuibrowser\",\n        id: \"miui browser\",\n    },\n    {\n        test: \"samsungbrowser\",\n        id: \"samsung internet\",\n    },\n    {\n        test: \"samsung\",\n        id: \"samsung internet\",\n        versionTest: \"version\",\n    },\n    {\n        test: \"chrome|crios\",\n        id: \"chrome\",\n    },\n    {\n        test: \"firefox|fxios\",\n        id: \"firefox\",\n    },\n    {\n        test: \"android\",\n        id: \"android browser\",\n        versionTest: \"version\",\n    },\n    {\n        test: \"safari|iphone|ipad|ipod\",\n        id: \"safari\",\n        versionTest: \"version\",\n    },\n];\n\n// chromium's engine(blink) is based on applewebkit 537.36.\nexport const CHROMIUM_PRESETS: PresetInfo[] = [\n    {\n        test: \"(?=.*applewebkit/(53[0-7]|5[0-2]|[0-4]))(?=.*\\\\schrome)\",\n        id: \"chrome\",\n        versionTest: \"chrome\",\n    },\n    {\n        test: \"chromium\",\n        id: \"chrome\",\n    },\n    {\n        test: \"whale\",\n        id: \"chrome\",\n        versionAlias: \"-1\",\n        brand: true,\n    },\n];\nexport const WEBKIT_PRESETS: PresetInfo[] = [\n    {\n        test: \"applewebkit\",\n        id: \"webkit\",\n        versionTest: \"applewebkit|safari\",\n    },\n];\nexport const WEBVIEW_PRESETS: PresetInfo[] = [\n    {\n        test: \"(?=(iphone|ipad))(?!(.*version))\",\n        id: \"webview\",\n    },\n    {\n        test: \"(?=(android|iphone|ipad))(?=.*(naver|daum|; wv))\",\n        id: \"webview\",\n    },\n    {\n        // test webview\n        test: \"webview\",\n        id: \"webview\",\n    },\n];\nexport const OS_PRESETS: PresetInfo[] = [\n    {\n        test: \"windows phone\",\n        id: \"windows phone\",\n    },\n    {\n        test: \"windows 2000\",\n        id: \"window\",\n        versionAlias: \"5.0\",\n    },\n    {\n        test: \"windows nt\",\n        id: \"window\",\n    },\n    {\n        test: \"win32|windows\",\n        id: \"window\",\n    },\n    {\n        test: \"iphone|ipad|ipod\",\n        id: \"ios\",\n        versionTest: \"iphone os|cpu os\",\n    },\n    {\n        test: \"macos|macintel|mac os x\",\n        id: \"mac\",\n    },\n    {\n        test: \"android|linux armv81\",\n        id: \"android\",\n    },\n    {\n        test: \"tizen\",\n        id: \"tizen\",\n    },\n    {\n        test: \"webos|web0s\",\n        id: \"webos\",\n    },\n    // {\n    //     test: \"linux|ubuntu|debian\",\n    //     id: \"linux\",\n    //     versionAlias: \"-1\",\n    // },\n];\n", "import { AgentInfo } from \"./types\";\nimport { getUserAgentString, findPreset } from \"./utils\";\nimport { WEBVIEW_PRESETS, CHROMIUM_PRESETS, BROWSER_PRESETS, OS_PRESETS, WEBKIT_PRESETS } from \"./presets\";\n\nexport function isWebView(userAgent: string): boolean {\n    return !!findPreset(WEBVIEW_PRESETS, userAgent).preset;\n}\n\nexport function getLegacyAgent(userAgent?: string): AgentInfo {\n    const nextAgent = getUserAgentString(userAgent);\n    const isMobile = !!/mobi/g.exec(nextAgent);\n    const browser = {\n        name: \"unknown\",\n        version: \"-1\",\n        majorVersion: -1,\n        webview: isWebView(nextAgent),\n        chromium: false,\n        chromiumVersion: \"-1\",\n        webkit: false,\n        webkitVersion: \"-1\",\n    };\n    const os = {\n        name: \"unknown\",\n        version: \"-1\",\n        majorVersion: -1,\n    };\n    const {\n        preset: browserPreset,\n        version: browserVersion,\n    } = findPreset(BROWSER_PRESETS, nextAgent);\n\n    const {\n        preset: osPreset,\n        version: osVersion,\n    } = findPreset(OS_PRESETS, nextAgent);\n\n    const chromiumPreset = findPreset(CHROMIUM_PRESETS, nextAgent);\n\n    browser.chromium = !!chromiumPreset.preset;\n    browser.chromiumVersion = chromiumPreset.version;\n    if (!browser.chromium) {\n        const webkitPreset = findPreset(WEBKIT_PRESETS, nextAgent);\n\n        browser.webkit = !!webkitPreset.preset;\n        browser.webkitVersion = webkitPreset.version;\n    }\n\n    if (osPreset) {\n        os.name = osPreset.id;\n        os.version = osVersion;\n        os.majorVersion = parseInt(osVersion, 10);\n    }\n    if (browserPreset) {\n        browser.name = browserPreset.id;\n        browser.version = browserVersion;\n\n        // Early whale bugs\n        if (browser.webview && os.name === \"ios\" && browser.name !== \"safari\") {\n            browser.webview = false;\n        }\n    }\n    browser.majorVersion = parseInt(browser.version, 10);\n\n    return {\n        browser,\n        os,\n        isMobile,\n        isHints: false,\n    };\n}\n", "import { UADataValues, AgentInfo, AgentBrowserInfo, AgentOSInfo } from \"./types\";\nimport { some, find, findBrand, convertVersion, findPresetBrand, getUserAgentString } from \"./utils\";\nimport { BROWSER_PRESETS, OS_PRESETS, CHROMIUM_PRESETS, WEBKIT_PRESETS, WEBVIEW_PRESETS } from \"./presets\";\nimport { isWebView } from \"./userAgent\";\n\nexport function getClientHintsAgent(osData?: UADataValues): AgentInfo {\n    const userAgentData = navigator.userAgentData;\n    const brands = [...(userAgentData.uaList || userAgentData.brands)!];\n    const fullVersionList = osData && osData.fullVersionList;\n    const isMobile = userAgentData.mobile || false;\n    const firstBrand = brands[0];\n    const platform = (osData && osData.platform || userAgentData.platform || navigator.platform).toLowerCase();\n    const browser: AgentBrowserInfo = {\n        name: firstBrand.brand,\n        version: firstBrand.version,\n        majorVersion: -1,\n        webkit: false,\n        webkitVersion: \"-1\",\n        chromium: false,\n        chromiumVersion: \"-1\",\n        webview: !!findPresetBrand(WEBVIEW_PRESETS, brands).brand || isWebView(getUserAgentString()),\n    };\n    const os: AgentOSInfo = {\n        name: \"unknown\",\n        version: \"-1\",\n        majorVersion: -1,\n    };\n    browser.webkit = !browser.chromium && some(WEBKIT_PRESETS, preset => findBrand(brands, preset));\n\n    const chromiumBrand = findPresetBrand(CHROMIUM_PRESETS, brands);\n\n    browser.chromium = !!chromiumBrand.brand;\n    browser.chromiumVersion = chromiumBrand.version;\n    if (!browser.chromium) {\n        const webkitBrand = findPresetBrand(WEBKIT_PRESETS, brands);\n\n        browser.webkit = !!webkitBrand.brand;\n        browser.webkitVersion = webkitBrand.version;\n    }\n\n    const platfomResult = find(OS_PRESETS, preset => {\n        return new RegExp(`${preset.test}`, \"g\").exec(platform);\n    });\n    os.name = platfomResult ? platfomResult.id : \"\";\n\n    if (osData) {\n        os.version = osData.platformVersion;\n    }\n    if (fullVersionList && fullVersionList.length) {\n        const browserBrandByFullVersionList = findPresetBrand(BROWSER_PRESETS, fullVersionList);\n\n        browser.name = browserBrandByFullVersionList.brand || browser.name;\n        browser.version = browserBrandByFullVersionList.version || browser.version;\n    } else {\n        const browserBrand = findPresetBrand(BROWSER_PRESETS, brands);\n\n        browser.name = browserBrand.brand || browser.name;\n        browser.version = browserBrand.brand && osData ? osData.uaFullVersion : browserBrand.version;\n    }\n    if (browser.webkit) {\n        os.name = isMobile ? \"ios\" : \"mac\";\n    }\n    if (os.name === \"ios\" && browser.webview) {\n        browser.version = \"-1\";\n    }\n\n    os.version = convertVersion(os.version);\n    browser.version = convertVersion(browser.version);\n    os.majorVersion = parseInt(os.version, 10);\n    browser.majorVersion = parseInt(browser.version, 10);\n\n    return {\n        browser,\n        os,\n        isMobile,\n        isHints: true,\n    };\n}\n", "import { AgentInfo } from \"./types\";\nimport { hasUserAgentData } from \"./utils\";\nimport { getClientHintsAgent } from \"./userAgentData\";\nimport { getLegacyAgent } from \"./userAgent\";\n\n/**\n * @namespace eg.agent\n */\n\n/**\n* Extracts accuate browser and operating system information from the user agent string or client hints.\n* @ko 유저 에이전트 문자열 또는 client hints에서 정확한 브라우저와 운영체제 정보를 추출한다.\n* @function eg.agent#getAccurateAgent\n* @param - Callback function to get the accuate agent <ko>정확한 에이전트를 가져오기 위한 callback 함수</ko>\n* @return - get the accuate agent promise. If Promise are not supported, null is returned. <ko> 정확한 에이전트 promise를 가져온다. Promise를 지원 하지 않는 경우, null을 반환한다. </ko>\n* @example\nimport { getAccurateAgent } from \"@egjs/agent\";\n// eg.agent.getAccurateAgent()\ngetAccurateAgent().then(agent => {\n   const { os, browser, isMobile } = agent;\n});\ngetAccurateAgent(agent => {\n    const { os, browser, isMobile } = agent;\n});\n*/\nexport function getAccurateAgent(callback?: (result: AgentInfo) => void): Promise<AgentInfo> | null {\n    if (hasUserAgentData()) {\n        return navigator.userAgentData.getHighEntropyValues([\n            \"architecture\",\n            \"model\",\n            \"platform\",\n            \"platformVersion\",\n            \"uaFullVersion\",\n            \"fullVersionList\",\n        ]).then(info => {\n            const agentInfo = getClientHintsAgent(info);\n\n            callback && callback(agentInfo);\n            return agentInfo;\n        });\n    }\n    callback && callback(agent());\n    if (typeof Promise === \"undefined\" || !Promise) {\n        return null;\n    }\n    return Promise.resolve(agent());\n}\n\n\n\n/**\n * Extracts browser and operating system information from the user agent string.\n * @ko 유저 에이전트 문자열에서 브라우저와 운영체제 정보를 추출한다.\n * @function eg.agent#agent\n * @param - user agent string to parse <ko>파싱할 유저에이전트 문자열</ko>\n * @return - agent Info <ko> 에이전트 정보 </ko>\n * @example\nimport agent from \"@egjs/agent\";\n// eg.agent();\nconst { os, browser, isMobile } = agent();\n */\nfunction agent(userAgent?: string): AgentInfo {\n    if (typeof userAgent === \"undefined\" && hasUserAgentData()) {\n        return getClientHintsAgent();\n    } else {\n        return getLegacyAgent(userAgent);\n    }\n}\nexport { getLegacyAgent };\n\nexport default agent;\n\nexport * from \"./types\";\n", "import { average, throttle, TINY_NUM } from \"@daybrush/utils\";\n\nfunction add(\n    matrix: number[],\n    inverseMatrix: number[],\n    startIndex: number,\n    fromIndex: number,\n    n: number,\n    k: number,\n) {\n    for (let i = 0; i < n; ++i) {\n        const x = startIndex + i * n;\n        const fromX = fromIndex + i * n;\n        matrix[x] += matrix[fromX] * k;\n        inverseMatrix[x] += inverseMatrix[fromX] * k;\n    }\n}\n\nfunction swap(\n    matrix: number[],\n    inverseMatrix: number[],\n    startIndex: number,\n    fromIndex: number,\n    n: number,\n) {\n    for (let i = 0; i < n; ++i) {\n        const x = startIndex + i * n;\n        const fromX = fromIndex + i * n;\n        const v = matrix[x];\n        const iv = inverseMatrix[x];\n\n        matrix[x] = matrix[fromX];\n        matrix[fromX] = v;\n\n        inverseMatrix[x] = inverseMatrix[fromX];\n        inverseMatrix[fromX] = iv;\n    }\n}\n\nfunction divide(\n    matrix: number[],\n    inverseMatrix: number[],\n    startIndex: number,\n    n: number,\n    k: number,\n) {\n    for (let i = 0; i < n; ++i) {\n        const x = startIndex + i * n;\n\n        matrix[x] /= k;\n        inverseMatrix[x] /= k;\n    }\n}\n\n/**\n *\n * @namespace Matrix\n */\n/**\n * @memberof Matrix\n */\nexport function ignoreDimension(\n    matrix: number[],\n    m: number,\n    n: number = Math.sqrt(matrix.length),\n) {\n    const newMatrix = matrix.slice();\n\n    for (let i = 0; i < n; ++i) {\n        newMatrix[i * n + m - 1] = 0;\n        newMatrix[(m - 1) * n + i] = 0;\n    }\n    newMatrix[(m - 1) * (n + 1)] = 1;\n\n    return newMatrix;\n}\n\n/**\n * @memberof Matrix\n */\nexport function invert(\n    matrix: number[],\n    n: number = Math.sqrt(matrix.length),\n) {\n    const newMatrix = matrix.slice();\n    const inverseMatrix = createIdentityMatrix(n);\n\n    for (let i = 0; i < n; ++i) {\n        // diagonal\n        const identityIndex = n * i + i;\n\n        if (!throttle(newMatrix[identityIndex], TINY_NUM)) {\n            // newMatrix[identityIndex] = 0;\n            for (let j = i + 1; j < n; ++j) {\n                if (newMatrix[n * i + j]) {\n                    swap(newMatrix, inverseMatrix, i, j, n);\n                    break;\n                }\n            }\n        }\n        if (!throttle(newMatrix[identityIndex], TINY_NUM)) {\n            // no inverse matrix\n            return [];\n        }\n        divide(newMatrix, inverseMatrix, i, n, newMatrix[identityIndex]);\n        for (let j = 0; j < n; ++j) {\n            const targetStartIndex = j;\n            const targetIndex = j + i * n;\n            const target = newMatrix[targetIndex];\n\n            if (!throttle(target, TINY_NUM) || i === j) {\n                continue;\n            }\n            add(newMatrix, inverseMatrix, targetStartIndex, i, n, -target);\n        }\n    }\n\n    return inverseMatrix;\n}\n\n/**\n * @memberof Matrix\n */\nexport function transpose(matrix: number[], n: number = Math.sqrt(matrix.length)) {\n    const newMatrix: number[] = [];\n\n    for (let i = 0; i < n; ++i) {\n        for (let j = 0; j < n; ++j) {\n            newMatrix[j * n + i] = matrix[n * i + j];\n        }\n    }\n    return newMatrix;\n}\n\n/**\n * @memberof Matrix\n */\nexport function getOrigin(matrix: number[], n: number = Math.sqrt(matrix.length)) {\n    const originMatrix: number[] = [];\n    const w = matrix[n * n - 1];\n    for (let i = 0; i < n - 1; ++i) {\n        originMatrix[i] = matrix[n * (n - 1) + i] / w;\n    }\n    originMatrix[n - 1] = 0;\n    return originMatrix;\n}\n\n/**\n * @memberof Matrix\n */\nexport function fromTranslation(pos: number[], n: number) {\n    const newMatrix = createIdentityMatrix(n);\n\n    for (let i = 0; i < n - 1; ++i) {\n        newMatrix[n * (n - 1) + i] = pos[i] || 0;\n    }\n    return newMatrix;\n}\n\n/**\n * @memberof Matrix\n */\nexport function convertPositionMatrix(matrix: number[], n: number) {\n    const newMatrix = matrix.slice();\n\n    for (let i = matrix.length; i < n - 1; ++i) {\n        newMatrix[i] = 0;\n    }\n    newMatrix[n - 1] = 1;\n    return newMatrix;\n}\n\n/**\n * @memberof Matrix\n */\nexport function convertDimension(matrix: number[], n: number = Math.sqrt(matrix.length), m: number) {\n    // n < m\n    if (n === m) {\n        return matrix;\n    }\n    const newMatrix = createIdentityMatrix(m);\n\n    const length = Math.min(n, m);\n    for (let i = 0; i < length - 1; ++i) {\n        for (let j = 0; j < length - 1; ++j) {\n            newMatrix[i * m + j] = matrix[i * n + j];\n        }\n\n        newMatrix[(i + 1) * m - 1] = matrix[(i + 1) * n - 1];\n        newMatrix[(m - 1) * m + i] = matrix[(n - 1) * n + i];\n    }\n    newMatrix[m * m - 1] = matrix[n * n - 1];\n\n    return newMatrix;\n}\n\n/**\n * @memberof Matrix\n */\nexport function multiplies(n: number, ...matrixes: number[][]) {\n    let m: number[] = createIdentityMatrix(n);\n\n    matrixes.forEach(matrix => {\n        m = multiply(m, matrix, n);\n    });\n    return m;\n}\n\n/**\n * @memberof Matrix\n */\nexport function multiply(matrix: number[], matrix2: number[], n: number = Math.sqrt(matrix.length)) {\n    const newMatrix: number[] = [];\n    // 1 y: n\n    // 1 x: m\n    // 2 x: m\n    // 2 y: k\n    // n * m X m * k\n    const m = matrix.length / n;\n    const k = matrix2.length / m;\n\n    if (!m) {\n        return matrix2;\n    } else if (!k) {\n        return matrix;\n    }\n    for (let i = 0; i < n; ++i) {\n        for (let j = 0; j < k; ++j) {\n            newMatrix[j * n + i] = 0;\n            for (let l = 0; l < m; ++l) {\n                // m1 x: m(l), y: n(i)\n                // m2 x: k(j):  y: m(l)\n                // nw x: n(i), y: k(j)\n                newMatrix[j * n + i] += matrix[l * n + i] * matrix2[j * m + l];\n            }\n        }\n    }\n    // n * k\n    return newMatrix;\n}\n\n/**\n * @memberof Matrix\n */\nexport function plus(pos1: number[], pos2: number[]) {\n    const length = Math.min(pos1.length, pos2.length);\n    const nextPos = pos1.slice();\n\n    for (let i = 0; i < length; ++i) {\n        nextPos[i] = nextPos[i] + pos2[i];\n    }\n    return nextPos;\n}\n\n/**\n * @memberof Matrix\n */\nexport function minus(pos1: number[], pos2: number[]) {\n    const length = Math.min(pos1.length, pos2.length);\n    const nextPos = pos1.slice();\n\n    for (let i = 0; i < length; ++i) {\n        nextPos[i] = nextPos[i] - pos2[i];\n    }\n    return nextPos;\n}\n\n/**\n * @memberof Matrix\n */\nexport function convertCSStoMatrix(a: number[], is2d: boolean = a.length === 6) {\n    if (is2d) {\n        return [\n            a[0], a[1], 0,\n            a[2], a[3], 0,\n            a[4], a[5], 1,\n        ];\n    }\n    return a;\n}\n\n/**\n * @memberof Matrix\n */\nexport function convertMatrixtoCSS(a: number[], is2d: boolean = a.length === 9) {\n    if (is2d) {\n        return [\n            a[0], a[1],\n            a[3], a[4],\n            a[6], a[7],\n        ];\n    }\n    return a;\n}\n\n/**\n * @memberof Matrix\n */\nexport function calculate(matrix: number[], matrix2: number[], n: number = matrix2.length) {\n    const result = multiply(matrix, matrix2, n);\n    const k = result[n - 1];\n    return result.map(v => v / k);\n}\n\n/**\n * @memberof Matrix\n */\nexport function rotateX3d(matrix: number[], rad: number) {\n    return multiply(\n        matrix,\n        [\n            1, 0, 0, 0,\n            0, Math.cos(rad), Math.sin(rad), 0,\n            0, -Math.sin(rad), Math.cos(rad), 0,\n            0, 0, 0, 1,\n        ],\n        4,\n    );\n}\n\n/**\n * @memberof Matrix\n */\nexport function rotateY3d(matrix: number[], rad: number) {\n    return multiply(\n        matrix,\n        [\n            Math.cos(rad), 0, -Math.sin(rad), 0,\n            0, 1, 0, 0,\n            Math.sin(rad), 0, Math.cos(rad), 0,\n            0, 0, 0, 1,\n        ],\n        4,\n    );\n}\n\n/**\n * @memberof Matrix\n */\nexport function rotateZ3d(matrix: number[], rad: number) {\n    return multiply(\n        matrix,\n        createRotateMatrix(rad, 4),\n    );\n}\n\n/**\n * @memberof Matrix\n */\nexport function scale3d(matrix: number[], [\n    sx = 1,\n    sy = 1,\n    sz = 1,\n]: number[]) {\n    return multiply(\n        matrix,\n        [\n            sx, 0, 0, 0,\n            0, sy, 0, 0,\n            0, 0, sz, 0,\n            0, 0, 0, 1,\n        ],\n        4,\n    );\n}\n\n/**\n * @memberof Matrix\n */\nexport function rotate(pos: number[], rad: number) {\n    return calculate(\n        createRotateMatrix(rad, 3),\n        convertPositionMatrix(pos, 3),\n    );\n}\n\n/**\n * @memberof Matrix\n */\nexport function translate3d(matrix, [\n    tx = 0,\n    ty = 0,\n    tz = 0,\n]: number[]) {\n    return multiply(\n        matrix,\n        [\n            1, 0, 0, 0,\n            0, 1, 0, 0,\n            0, 0, 1, 0,\n            tx, ty, tz, 1,\n        ],\n        4,\n    );\n}\n/**\n * @memberof Matrix\n */\nexport function matrix3d(matrix1: number[], matrix2: number[]) {\n    return multiply(matrix1, matrix2, 4);\n}\n\n/**\n * @memberof Matrix\n */\nexport function createRotateMatrix(rad: number, n: number) {\n    const cos = Math.cos(rad);\n    const sin = Math.sin(rad);\n    const m = createIdentityMatrix(n);\n\n    // cos -sin\n    // sin cos\n    m[0] = cos;\n    m[1] = sin;\n    m[n] = -sin;\n    m[n + 1] = cos;\n\n    return m;\n}\n\n/**\n * @memberof Matrix\n */\nexport function createIdentityMatrix(n: number) {\n    const length = n * n;\n    const matrix: number[] = [];\n\n    for (let i = 0; i < length; ++i) {\n        matrix[i] = i % (n + 1) ? 0 : 1;\n    }\n    return matrix;\n}\n\n/**\n * @memberof Matrix\n */\nexport function createScaleMatrix(scale: number[], n: number) {\n    const m = createIdentityMatrix(n);\n    const length = Math.min(scale.length, n - 1);\n\n    for (let i = 0; i < length; ++i) {\n        m[(n + 1) * i] = scale[i];\n    }\n    return m;\n}\n\n/**\n * @memberof Matrix\n */\nexport function createOriginMatrix(origin: number[], n: number) {\n    const m = createIdentityMatrix(n);\n    const length = Math.min(origin.length, n - 1);\n\n    for (let i = 0; i < length; ++i) {\n        m[n * (n - 1) + i] = origin[i];\n    }\n    return m;\n}\n\n/**\n * @memberof Matrix\n */\nexport function createWarpMatrix(\n    pos0: number[],\n    pos1: number[],\n    pos2: number[],\n    pos3: number[],\n    nextPos0: number[],\n    nextPos1: number[],\n    nextPos2: number[],\n    nextPos3: number[],\n) {\n    const [x0, y0] = pos0;\n    const [x1, y1] = pos1;\n    const [x2, y2] = pos2;\n    const [x3, y3] = pos3;\n\n    const [u0, v0] = nextPos0;\n    const [u1, v1] = nextPos1;\n    const [u2, v2] = nextPos2;\n    const [u3, v3] = nextPos3;\n\n    const matrix = [\n        x0, 0, x1, 0, x2, 0, x3, 0,\n        y0, 0, y1, 0, y2, 0, y3, 0,\n        1, 0, 1, 0, 1, 0, 1, 0,\n        0, x0, 0, x1, 0, x2, 0, x3,\n        0, y0, 0, y1, 0, y2, 0, y3,\n        0, 1, 0, 1, 0, 1, 0, 1,\n        -u0 * x0, -v0 * x0, -u1 * x1, -v1 * x1, -u2 * x2, -v2 * x2, -u3 * x3, -v3 * x3,\n        -u0 * y0, -v0 * y0, -u1 * y1, -v1 * y1, -u2 * y2, -v2 * y2, -u3 * y3, -v3 * y3,\n    ];\n    const inverseMatrix = invert(matrix, 8);\n\n    if (!inverseMatrix.length) {\n        return [];\n    }\n    const h = multiply(inverseMatrix, [u0, v0, u1, v1, u2, v2, u3, v3], 8);\n\n    h[8] = 1;\n    return convertDimension(transpose(h), 3, 4);\n}\n\n/**\n * @memberof Matrix\n */\nexport function getCenter(points: number[][]) {\n    return [0, 1].map(i => average(points.map(pos => pos[i])));\n}\n", "/******************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    if (typeof b !== \"function\" && b !== null)\r\n        throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __esDecorate(ctor, descriptorIn, decorators, contextIn, initializers, extraInitializers) {\r\n    function accept(f) { if (f !== void 0 && typeof f !== \"function\") throw new TypeError(\"Function expected\"); return f; }\r\n    var kind = contextIn.kind, key = kind === \"getter\" ? \"get\" : kind === \"setter\" ? \"set\" : \"value\";\r\n    var target = !descriptorIn && ctor ? contextIn[\"static\"] ? ctor : ctor.prototype : null;\r\n    var descriptor = descriptorIn || (target ? Object.getOwnPropertyDescriptor(target, contextIn.name) : {});\r\n    var _, done = false;\r\n    for (var i = decorators.length - 1; i >= 0; i--) {\r\n        var context = {};\r\n        for (var p in contextIn) context[p] = p === \"access\" ? {} : contextIn[p];\r\n        for (var p in contextIn.access) context.access[p] = contextIn.access[p];\r\n        context.addInitializer = function (f) { if (done) throw new TypeError(\"Cannot add initializers after decoration has completed\"); extraInitializers.push(accept(f || null)); };\r\n        var result = (0, decorators[i])(kind === \"accessor\" ? { get: descriptor.get, set: descriptor.set } : descriptor[key], context);\r\n        if (kind === \"accessor\") {\r\n            if (result === void 0) continue;\r\n            if (result === null || typeof result !== \"object\") throw new TypeError(\"Object expected\");\r\n            if (_ = accept(result.get)) descriptor.get = _;\r\n            if (_ = accept(result.set)) descriptor.set = _;\r\n            if (_ = accept(result.init)) initializers.unshift(_);\r\n        }\r\n        else if (_ = accept(result)) {\r\n            if (kind === \"field\") initializers.unshift(_);\r\n            else descriptor[key] = _;\r\n        }\r\n    }\r\n    if (target) Object.defineProperty(target, contextIn.name, descriptor);\r\n    done = true;\r\n};\r\n\r\nexport function __runInitializers(thisArg, initializers, value) {\r\n    var useValue = arguments.length > 2;\r\n    for (var i = 0; i < initializers.length; i++) {\r\n        value = useValue ? initializers[i].call(thisArg, value) : initializers[i].call(thisArg);\r\n    }\r\n    return useValue ? value : void 0;\r\n};\r\n\r\nexport function __propKey(x) {\r\n    return typeof x === \"symbol\" ? x : \"\".concat(x);\r\n};\r\n\r\nexport function __setFunctionName(f, name, prefix) {\r\n    if (typeof name === \"symbol\") name = name.description ? \"[\".concat(name.description, \"]\") : \"\";\r\n    return Object.defineProperty(f, \"name\", { configurable: true, value: prefix ? \"\".concat(prefix, \" \", name) : name });\r\n};\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (g && (g = 0, op[0] && (_ = 0)), _) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    var desc = Object.getOwnPropertyDescriptor(m, k);\r\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\r\n        desc = { enumerable: true, get: function() { return m[k]; } };\r\n    }\r\n    Object.defineProperty(o, k2, desc);\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, o) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n}\r\n\r\nexport function __spreadArray(to, from, pack) {\r\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n        if (ar || !(i in from)) {\r\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n            ar[i] = from[i];\r\n        }\r\n    }\r\n    return to.concat(ar || Array.prototype.slice.call(from));\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: false } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, state, kind, f) {\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\r\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, state, value, kind, f) {\r\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\r\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\r\n}\r\n\r\nexport function __classPrivateFieldIn(state, receiver) {\r\n    if (receiver === null || (typeof receiver !== \"object\" && typeof receiver !== \"function\")) throw new TypeError(\"Cannot use 'in' operator on non-object\");\r\n    return typeof state === \"function\" ? receiver === state : state.has(receiver);\r\n}\r\n\r\nexport default {\r\n    __extends,\r\n    __assign,\r\n    __rest,\r\n    __decorate,\r\n    __param,\r\n    __metadata,\r\n    __awaiter,\r\n    __generator,\r\n    __createBinding,\r\n    __exportStar,\r\n    __values,\r\n    __read,\r\n    __spread,\r\n    __spreadArrays,\r\n    __spreadArray,\r\n    __await,\r\n    __asyncGenerator,\r\n    __asyncDelegator,\r\n    __asyncValues,\r\n    __makeTemplateObject,\r\n    __importStar,\r\n    __importDefault,\r\n    __classPrivateFieldGet,\r\n    __classPrivateFieldSet,\r\n    __classPrivateFieldIn,\r\n};\r\n", null, "/*\negjs-children-differ\nCopyright (c) 2019-present NAVER Corp.\nMIT license\n*/\nexport const findKeyCallback = typeof Map === \"function\"\n  ? undefined\n  : (() => {\n    let childrenCount = 0;\n\n    return (el: Element) => (el as any).__DIFF_KEY__ || ((el as any).__DIFF_KEY__ = ++childrenCount);\n  })();\n", "/*\negjs-children-differ\nCopyright (c) 2019-present NAVER Corp.\nMIT license\n*/\nimport ListDiffer, { ListFormat } from \"@egjs/list-differ\";\nimport { findKeyCallback } from \"./consts\";\n\n/**\n * A module that checks diff when child are added, removed, or changed .\n * @ko 자식 노드들에서 자식 노드가 추가되거나 삭제되거나 순서가 변경된 사항을 체크하는 모듈입니다.\n * @memberof eg\n * @extends eg.ListDiffer\n */\nclass ChildrenDiffer<T extends Element = Element> extends ListDiffer<T> {\n  /**\n   * @param - Initializing Children <ko> 초기 설정할 자식 노드들</ko>\n   */\n  constructor(\n    list: ListFormat<T> = [],\n  ) {\n    super(list, findKeyCallback);\n  }\n}\nexport default ChildrenDiffer;\n", "/*\negjs-children-differ\nCopyright (c) 2019-present NAVER Corp.\nMIT license\n*/\nimport {diff as listdiff} from \"@egjs/list-differ\";\nimport { findKeyCallback } from \"./consts\";\nimport { ChildrenDiffResult } from \"./types\";\n\n\n/**\n *\n * @memberof eg.ChildrenDiffer\n * @static\n * @function\n * @param - Previous List <ko> 이전 목록 </ko>\n * @param - List to Update <ko> 업데이트 할 목록 </ko>\n * @return - Returns the diff between `prevList` and `list` <ko> `prevList`와 `list`의 다른 점을 반환한다.</ko>\n * @example\n * import { diff } from \"@egjs/children-differ\";\n * // script => eg.ChildrenDiffer.diff\n * const result = diff([0, 1, 2, 3, 4, 5], [7, 8, 0, 4, 3, 6, 2, 1]);\n * // List before update\n * // [1, 2, 3, 4, 5]\n * console.log(result.prevList);\n * // Updated list\n * // [4, 3, 6, 2, 1]\n * console.log(result.list);\n * // Index array of values added to `list`\n * // [0, 1, 5]\n * console.log(result.added);\n * // Index array of values removed in `prevList`\n * // [5]\n * console.log(result.removed);\n * // An array of index pairs of `prevList` and `list` with different indexes from `prevList` and `list`\n * // [[0, 2], [4, 3], [3, 4], [2, 6], [1, 7]]\n * console.log(result.changed);\n * // The subset of `changed` and an array of index pairs that moved data directly. Indicate an array of absolute index pairs of `ordered`.(Formatted by: Array<[index of prevList, index of list]>)\n * // [[4, 3], [3, 4], [2, 6]]\n * console.log(result.pureChanged);\n * // An array of index pairs to be `ordered` that can synchronize `list` before adding data. (Formatted by: Array<[prevIndex, nextIndex]>)\n * // [[4, 1], [4, 2], [4, 3]]\n * console.log(result.ordered);\n * // An array of index pairs of `prevList` and `list` that have not been added/removed so data is preserved\n * // [[0, 2], [4, 3], [3, 4], [2, 6], [1, 7]]\n * console.log(result.maintained);\n */\nexport function diff<T extends Element = Element>(\n  prevList: T[],\n  list: T[],\n): ChildrenDiffResult<T> {\n  return listdiff<T>(prevList, list, findKeyCallback);\n}\n", "/*\negjs-children-differ\nCopyright (c) 2019-present NAVER Corp.\nMIT license\n*/\nimport ChildrenDiffer from \"./ChildrenDiffer\";\nexport default ChildrenDiffer;\nexport { diff } from \"./utils\";\nexport * from \"./types\";\n", "import { findIndex, isObject } from \"@daybrush/utils\";\nimport { EventListener, EventHash, EventInfo, EventOptions, OnEvent, TargetParam } from \"./types\";\n\n/**\n * Implement EventEmitter on object or component.\n */\nclass EventEmitter<Events extends {} = { [key: string]: { [key: string]: any } }> {\n\n    private _events: {\n        [name: string]: EventInfo[],\n    } = {};\n    public on<Name extends keyof Events, Param = Events[Name]>(\n        eventName: Name, listener: EventListener<Param, this>): this;\n    public on(events: EventHash<Events, this>): this;\n    /**\n     * Add a listener to the registered event.\n     * @param - Name of the event to be added\n     * @param - listener function of the event to be added\n     * @example\n     * import EventEmitter from \"@scena/event-emitter\";\n     * cosnt emitter = new EventEmitter();\n     *\n     * // Add listener in \"a\" event\n     * emitter.on(\"a\", () => {\n     * });\n     * // Add listeners\n     * emitter.on({\n     *  a: () => {},\n     *  b: () => {},\n     * });\n     */\n    public on(eventName: string | object, listener?: EventListener<Events[any], this>): this {\n        if (isObject(eventName)) {\n            for (const name in eventName) {\n                this.on<any>(name, eventName[name]);\n            }\n        } else {\n            this._addEvent(eventName, listener, {});\n        }\n        return this;\n    }\n    public off<Name extends keyof Events, Param = Events[Name]>(\n        eventName?: Name, listener?: EventListener<Param, this>): this;\n    public off(events: EventHash<Events, this>): this;\n    /**\n     * Remove listeners registered in the event target.\n     * @param - Name of the event to be removed\n     * @param - listener function of the event to be removed\n     * @example\n     * import EventEmitter from \"@scena/event-emitter\";\n     * cosnt emitter = new EventEmitter();\n     *\n     * // Remove all listeners.\n     * emitter.off();\n     *\n     * // Remove all listeners in \"A\" event.\n     * emitter.off(\"a\");\n     *\n     *\n     * // Remove \"listener\" listener in \"a\" event.\n     * emitter.off(\"a\", listener);\n     */\n    public off(eventName?: string | object, listener?: EventListener<Events[any], this>): this {\n        if (!eventName) {\n            this._events = {};\n        } else if(isObject(eventName)) {\n            for (const name in eventName) {\n                this.off<any>(name);\n            }\n        } else if (!listener) {\n            this._events[eventName] = [];\n        } else {\n            const events = this._events[eventName];\n\n            if (events) {\n                const index = findIndex(events, e => e.listener === listener);\n\n                if (index > -1) {\n                    events.splice(index, 1);\n                }\n            }\n        }\n        return this;\n    }\n    /**\n     * Add a disposable listener and Use promise to the registered event.\n     * @param - Name of the event to be added\n     * @param - disposable listener function of the event to be added\n     * @example\n     * import EventEmitter from \"@scena/event-emitter\";\n     * cosnt emitter = new EventEmitter();\n     *\n     * // Add a disposable listener in \"a\" event\n     * emitter.once(\"a\", () => {\n     * });\n     *\n     * // Use Promise\n     * emitter.once(\"a\").then(e => {\n     * });\n     */\n    public once<Name extends keyof Events & string, Param = Events[Name]>(\n        eventName: Name, listener?: EventListener<Param, this>): Promise<OnEvent<Param, this>> {\n        if (listener) {\n            this._addEvent(eventName, listener, { once: true });\n        }\n        return new Promise<OnEvent<Param, this>>(resolve => {\n            this._addEvent(eventName, resolve, { once: true });\n        });\n    }\n    public emit<Name extends keyof Events, Param = Events[Name]>(\n        eventName: {} extends Param ? Name : never): boolean;\n    public emit<Name extends keyof Events, Param = Events[Name]>(\n        eventName: Name, param: TargetParam<Param>): boolean;\n    /**\n     * Fires an event to call listeners.\n     * @param - Event name\n     * @param - Event parameter\n     * @return If false, stop the event.\n     * @example\n     *\n     * import EventEmitter from \"@scena/event-emitter\";\n     *\n     *\n     * const emitter = new EventEmitter();\n     *\n     * emitter.on(\"a\", e => {\n     * });\n     *\n     *\n     * emitter.emit(\"a\", {\n     *   a: 1,\n     * });\n     */\n    public emit(eventName: string, param: TargetParam<any> = {}): boolean {\n        const events = this._events[eventName];\n\n        if (!eventName || !events) {\n            return true;\n        }\n        let isStop = false;\n\n        param.eventType = eventName;\n        param.stop = () => {\n            isStop = true;\n        };\n        param.currentTarget = this;\n\n\n        [...events].forEach(info => {\n            info.listener(param);\n            if (info.once) {\n                this.off<any>(eventName, info.listener);\n            }\n        });\n\n        return !isStop;\n    }\n    public trigger<Name extends keyof Events, Param = Events[Name]>(eventName: {} extends TargetParam<Param> ? Name : never): boolean;\n    public trigger<Name extends keyof Events, Param = Events[Name]>(eventName: Name, param: TargetParam<Param>): boolean;\n    /**\n     * Fires an event to call listeners.\n     * @param - Event name\n     * @param - Event parameter\n     * @return If false, stop the event.\n     * @example\n     *\n     * import EventEmitter from \"@scena/event-emitter\";\n     *\n     *\n     * const emitter = new EventEmitter();\n     *\n     * emitter.on(\"a\", e => {\n     * });\n     *\n     *\n     * emitter.emit(\"a\", {\n     *   a: 1,\n     * });\n     *//**\n     * Fires an event to call listeners.\n     * @param - Event name\n     * @param - Event parameter\n     * @return If false, stop the event.\n     * @example\n     *\n     * import EventEmitter from \"@scena/event-emitter\";\n     *\n     *\n     * const emitter = new EventEmitter();\n     *\n     * emitter.on(\"a\", e => {\n     * });\n     *\n     * // emit\n     * emitter.trigger(\"a\", {\n     *   a: 1,\n     * });\n     */\n    public trigger<Name extends keyof Events>(eventName: Name, param: TargetParam<any>= {}): boolean {\n        return this.emit<any>(eventName, param);\n    }\n\n    private _addEvent(eventName: string, listener: EventListener<Events[any], this>, options: Partial<EventOptions>) {\n        const events = this._events;\n\n        events[eventName] = events[eventName] || [];\n\n        const listeners = events[eventName];\n\n        listeners.push({ listener, ...options });\n    }\n}\n\nexport default EventEmitter;\n", "import EventEmitter from \"@scena/event-emitter\";\nimport { isFunction, isString, now } from \"@daybrush/utils\";\nimport { CheckScrollOptions, DragScrollEvents, DragScrollOptions, Rect } from \"./types\";\n\nfunction getDefaultScrollPosition(e: { container: HTMLElement, direction: number[] }) {\n    let container = e.container;\n\n    if (container === document.body) {\n        return [\n            container.scrollLeft || document.documentElement.scrollLeft,\n            container.scrollTop || document.documentElement.scrollTop,\n        ];\n    }\n    return [\n        container.scrollLeft,\n        container.scrollTop,\n    ];\n}\n\nfunction checkDefaultScrollEvent(container: HTMLElement | Window, callback: () => void) {\n    container.addEventListener(\"scroll\", callback);\n\n    return () => {\n        container.removeEventListener(\"scroll\", callback);\n    }\n}\n\nfunction getContainerElement(container: DragScrollOptions[\"container\"]): HTMLElement {\n    if (!container) {\n        return null;\n    } else if (isString(container)) {\n        return document.querySelector<HTMLElement>(container);\n    } if (isFunction(container)) {\n        return container();\n    } else if (container instanceof Element) {\n        return container;\n    } else if (\"current\" in container) {\n        return container.current;\n    } else if (\"value\" in container) {\n        return container.value;\n    }\n}\n\n/**\n * @sort 1\n */\nclass DragScroll extends EventEmitter<DragScrollEvents> {\n    private _startRect: Rect | null = null;\n    private _startPos: number[] = [];\n    private _prevTime: number = 0;\n    private _timer: number = 0;\n    private _prevScrollPos: number[] = [0, 0];\n    private _isWait = false;\n    private _flag = false;\n    private _currentOptions: DragScrollOptions | null = null;\n    private _lock = false;\n    private _unregister: (() => void) | null = null;\n    /**\n     */\n    public dragStart(e: any, options: DragScrollOptions) {\n        const container = getContainerElement(options.container);\n\n        if (!container) {\n            this._flag = false;\n            return;\n        }\n        let top = 0;\n        let left = 0;\n        let width = 0;\n        let height = 0;\n\n        if (container === document.body) {\n            width = window.innerWidth;\n            height = window.innerHeight;\n        } else {\n            const rect = container.getBoundingClientRect();\n\n            top = rect.top;\n            left = rect.left;\n            width = rect.width;\n            height = rect.height;\n        }\n\n        this._flag = true;\n        this._startPos = [e.clientX, e.clientY];\n        this._startRect = { top, left, width, height };\n        this._prevScrollPos = this._getScrollPosition([0, 0], options);\n        this._currentOptions = options;\n        this._registerScrollEvent(options);\n    }\n    public drag(e: any, options: DragScrollOptions) {\n        clearTimeout(this._timer);\n        if (!this._flag) {\n            return;\n        }\n        const {\n            clientX,\n            clientY,\n        } = e;\n        const {\n            threshold = 0,\n        } = options;\n        const {\n            _startRect,\n            _startPos,\n        } = this;\n\n\n        this._currentOptions = options;\n        const direction = [0, 0];\n\n        if (_startRect.top > clientY - threshold) {\n            if (_startPos[1] > _startRect.top || clientY < _startPos[1]) {\n                direction[1] = -1;\n            }\n        } else if (_startRect.top + _startRect.height < clientY + threshold) {\n            if (_startPos[1] < _startRect.top + _startRect.height || clientY > _startPos[1]) {\n                direction[1] = 1;\n            }\n        }\n        if (_startRect.left > clientX - threshold) {\n            if (_startPos[0] > _startRect.left || clientX < _startPos[0]) {\n                direction[0] = -1;\n            }\n        } else if (_startRect.left + _startRect.width < clientX + threshold) {\n            if (_startPos[0] < _startRect.left + _startRect.width || clientX > _startPos[0]) {\n                direction[0] = 1;\n            }\n        }\n\n        if (!direction[0] && !direction[1]) {\n            return false;\n        }\n        return this._continueDrag({\n            ...options,\n            direction,\n            inputEvent: e,\n            isDrag: true,\n        });\n    }\n    /**\n     */\n    public checkScroll(options: CheckScrollOptions) {\n        if (this._isWait) {\n            return false;\n        }\n        const {\n            prevScrollPos = this._prevScrollPos,\n            direction,\n            throttleTime = 0,\n            inputEvent,\n            isDrag,\n        } = options;\n        const nextScrollPos = this._getScrollPosition(direction || [0, 0], options);\n        const offsetX = nextScrollPos[0] - prevScrollPos[0];\n        const offsetY = nextScrollPos[1] - prevScrollPos[1];\n\n        const nextDirection = direction || [\n            offsetX ? Math.abs(offsetX) / offsetX : 0,\n            offsetY ? Math.abs(offsetY) / offsetY : 0,\n        ];\n        this._prevScrollPos = nextScrollPos;\n        this._lock = false;\n\n        if (!offsetX && !offsetY) {\n            return false;\n        }\n        /**\n         * @event DragScroll#move\n         */\n        this.emit(\"move\", {\n            offsetX: nextDirection[0] ? offsetX : 0,\n            offsetY: nextDirection[1] ? offsetY : 0,\n            inputEvent,\n        });\n\n        if (throttleTime && isDrag) {\n            clearTimeout(this._timer);\n            this._timer = window.setTimeout(() => {\n                this._continueDrag(options);\n            }, throttleTime);\n        }\n        return true;\n    }\n    /**\n     *\n     */\n    public dragEnd() {\n        this._flag = false;\n        this._lock = false;\n        clearTimeout(this._timer);\n        this._unregisterScrollEvent();\n    }\n    private _getScrollPosition(direction: number[], options: DragScrollOptions) {\n        const {\n            container,\n            getScrollPosition = getDefaultScrollPosition,\n        } = options;\n        return getScrollPosition({ container: getContainerElement(container), direction });\n    }\n    private _continueDrag(options: CheckScrollOptions) {\n        const {\n            container,\n            direction,\n            throttleTime,\n            useScroll,\n            isDrag,\n            inputEvent,\n        } = options;\n\n        if (!this._flag || (isDrag && this._isWait)) {\n            return;\n        }\n        const nowTime = now();\n        const distTime = Math.max(throttleTime + this._prevTime - nowTime, 0);\n\n        if (distTime > 0) {\n            clearTimeout(this._timer);\n            this._timer = window.setTimeout(() => {\n                this._continueDrag(options);\n            }, distTime);\n\n            return false;\n        }\n        this._prevTime = nowTime;\n        const prevScrollPos = this._getScrollPosition(direction, options);\n\n        this._prevScrollPos = prevScrollPos;\n\n        if (isDrag) {\n            this._isWait = true;\n        }\n\n        // unregister native scroll event\n        if (!useScroll) {\n            this._lock = true;\n        }\n        const param = {\n            container: getContainerElement(container),\n            direction,\n            inputEvent,\n        };\n        options.requestScroll?.(param);\n        /**\n         * @event DragScroll#scroll\n         */\n        this.emit(\"scroll\", param);\n\n        this._isWait = false;\n        return useScroll || this.checkScroll({\n            ...options,\n            prevScrollPos,\n            direction,\n            inputEvent,\n        });\n    }\n\n    private _registerScrollEvent(options: DragScrollOptions) {\n        this._unregisterScrollEvent();\n        const checkScrollEvent = options.checkScrollEvent;\n\n        if (!checkScrollEvent) {\n            return;\n        }\n        const callback = checkScrollEvent === true ? checkDefaultScrollEvent : checkScrollEvent;\n        const container = getContainerElement(options.container);\n\n        if (checkScrollEvent === true && (container === document.body || container === document.documentElement)) {\n            this._unregister = checkDefaultScrollEvent(window, this._onScroll);\n        } else {\n            this._unregister = callback(container, this._onScroll);\n        }\n    }\n    private _unregisterScrollEvent() {\n        this._unregister?.();\n        this._unregister = null;\n    }\n\n    private _onScroll = () => {\n        const options = this._currentOptions;\n        if (this._lock || !options) {\n            return;\n        }\n\n        this.emit(\"scrollDrag\", {\n            next: (inputEvent: any) => {\n                this.checkScroll({\n                    container: options.container,\n                    inputEvent,\n                });\n            },\n        });\n    };\n}\n\nexport default DragScroll;\n", "import { throttle, TINY_NUM } from \"@daybrush/utils\";\n\nexport function tinyThrottle(num: number) {\n    return throttle(num, TINY_NUM);\n}\n\nexport function isSameConstants(\n    linearConstants1: number[],\n    linearConstants2: number[],\n) {\n    return linearConstants1.every((v, i) => tinyThrottle(v - linearConstants2[i]) === 0);\n}\n\nexport function isSamePoint(\n    point1: number[],\n    point2: number[],\n) {\n    return !tinyThrottle(point1[0] - point2[0]) && !tinyThrottle(point1[1] - point2[1]);\n}\n\nexport function flat<Type extends any>(arr: Type[][]): Type[] {\n    return arr.reduce<Type[]>((prev, current) => {\n        prev.push(...current);\n        return prev;\n    }, []);\n}\n", "import { sum, findIndex, getShapeDirection, getDist, throttle, TINY_NUM, find } from \"@daybrush/utils\";\nimport { OverlapPointInfo, PointInfo, Rect } from \"./types\";\nimport { flat, isSameConstants, isSamePoint, tinyThrottle } from \"./utils\";\n\n/**\n * @namespace OverlapArea\n */\n\n/**\n * Gets the size of a shape (polygon) made of points.\n * @memberof OverlapArea\n */\nexport function getAreaSize(points: number[][]): number {\n    if (points.length < 3) {\n        return 0;\n    }\n    return Math.abs(sum(points.map((point, i) => {\n        const nextPoint = points[i + 1] || points[0];\n\n        return point[0] * nextPoint[1] - nextPoint[0] * point[1];\n    }))) / 2;\n}\n\n\n/**\n * Get points that fit the rect,\n * @memberof OverlapArea\n */\nexport function fitPoints(points: number[][], rect: Rect): number[][] {\n    const { width, height, left, top } = rect;\n    const { minX, minY, maxX, maxY } = getMinMaxs(points);\n    const ratioX = width / (maxX - minX);\n    const ratioY = height / (maxY - minY);\n\n    return points.map(point => {\n        return [\n            left + (point[0] - minX) * ratioX,\n            top + (point[1] - minY) * ratioY,\n        ];\n    });\n}\n/**\n * Get the minimum and maximum points of the points.\n * @memberof OverlapArea\n */\nexport function getMinMaxs(points: number[][]): { minX: number, minY: number, maxX: number, maxY: number } {\n    const xs = points.map(point => point[0]);\n    const ys = points.map(point => point[1]);\n\n    return {\n        minX: Math.min(...xs),\n        minY: Math.min(...ys),\n        maxX: Math.max(...xs),\n        maxY: Math.max(...ys),\n    };\n}\n/**\n * Whether the point is in shape\n * @param - point pos\n * @param - shape points\n * @param - whether to check except line\n * @memberof OverlapArea\n */\nexport function isInside(pos: number[], points: number[][], excludeLine?: boolean): boolean {\n    const [x, y] = pos;\n    const {\n        minX,\n        maxX,\n    } = getMinMaxs(points);\n\n    const xLine = [[minX, y], [maxX, y]];\n    const xLinearConstants = getLinearConstants(xLine[0], xLine[1]);\n    const lines = convertLines(points);\n\n    interface IntersectionPosInfo {\n        pos: number[];\n        line: number[][];\n        type: \"intersection\" | \"point\" | \"line\";\n    }\n    const intersectionPosInfos: IntersectionPosInfo[] = [];\n\n    lines.forEach(line => {\n        const linearConstants = getLinearConstants(line[0], line[1]);\n        const standardPoint = line[0];\n\n        if (isSameConstants(xLinearConstants, linearConstants)) {\n            intersectionPosInfos.push({\n                pos: pos,\n                line,\n                type: \"line\",\n            });\n        } else {\n            const xPoints = getPointsOnLines(getIntersectionPointsByConstants(xLinearConstants, linearConstants), [xLine, line]);\n\n            xPoints.forEach(point => {\n                if (line.some(linePoint => isSamePoint(linePoint, point))) {\n                    intersectionPosInfos.push({\n                        pos: point,\n                        line,\n                        type: \"point\",\n                    });\n                } else if (tinyThrottle(standardPoint[1] - y) !== 0) {\n                    intersectionPosInfos.push({\n                        pos: point,\n                        line,\n                        type: \"intersection\",\n                    });\n                }\n            })\n        }\n    });\n\n    if (!excludeLine) {\n        // on line\n        if (find(intersectionPosInfos, p => p[0] === x)) {\n            return true;\n        }\n    }\n    let intersectionCount = 0;\n    const xMap = {};\n\n    intersectionPosInfos.forEach(({ pos, type, line }) => {\n        if (pos[0] > x) {\n            return;\n        }\n        if (type === \"intersection\") {\n            ++intersectionCount;\n        } else if (type === \"line\") {\n            return;\n        } else if (type === \"point\") {\n            const point = find(line, linePoint => linePoint[1] !== y);\n            const prevValue = xMap[pos[0]];\n            const nextValue = point[1] > y ? 1 : -1;\n\n            if (!prevValue) {\n                xMap[pos[0]] = nextValue;\n            } else if (prevValue !== nextValue) {\n                ++intersectionCount;\n            }\n        }\n    });\n    return intersectionCount % 2 === 1;\n}\n/**\n * Get distance from point to constants. [a, b, c] (ax + by + c = 0)\n * @return [a, b, c]\n * @memberof OverlapArea\n */\nexport function getDistanceFromPointToConstants(\n    [a, b, c]: [number, number, number],\n    pos: number[],\n) {\n    return (a * pos[0] + b * pos[1] + c) / (a * a + b * b);\n}\n\n/**\n * Get the coefficient of the linear function. [a, b, c] (ax + by + c = 0)\n * @return [a, b, c]\n * @memberof OverlapArea\n */\nexport function getLinearConstants(point1: number[], point2: number[]): [number, number, number] {\n    const [x1, y1] = point1;\n    const [x2, y2] = point2;\n    // ax + by + c = 0\n    // [a, b, c]\n    let dx = x2 - x1;\n    let dy = y2 - y1;\n\n    if (Math.abs(dx) < TINY_NUM) {\n        dx = 0;\n    }\n    if (Math.abs(dy) < TINY_NUM) {\n        dy = 0;\n    }\n\n    // b > 0\n    // ax + by + c = 0\n    let a = 0;\n    let b = 0;\n    let c = 0;\n    if (!dx) {\n        if (dy) {\n            // -x + 1 = 0\n            a = -1;\n            c = x1;\n        }\n    } else if (!dy) {\n        // y - 1 = 0\n        b = 1;\n        c = -y1;\n    } else {\n        // y = -a(x - x1) + y1\n        // ax + y + a * x1 - y1 = 0\n        a = -dy / dx;\n        b = 1;\n        c = -a * x1 - y1;\n    }\n\n    return [a, b, c] as [number, number, number];\n}\n/**\n * Get intersection points with linear functions.\n * @memberof OverlapArea\n */\nexport function getIntersectionPointsByConstants(\n    linearConstants1: number[],\n    linearConstants2: number[],\n): number[][] {\n    const [a1, b1, c1] = linearConstants1;\n    const [a2, b2, c2] = linearConstants2;\n\n    const isZeroA = a1 === 0 && a2 === 0;\n    const isZeroB = b1 === 0 && b2 === 0;\n    let results: number[][] = [];\n\n    if (isZeroA && isZeroB) {\n        return [];\n    } else if (isZeroA) {\n        // b1 * y + c1 = 0\n        // b2 * y + c2 = 0\n        const y1 = -c1 / b1;\n        const y2 = -c2 / b2;\n\n        if (y1 !== y2) {\n            return [];\n        } else {\n            return [\n                [-Infinity, y1],\n                [Infinity, y1],\n            ];\n        }\n    } else if (isZeroB) {\n        // a1 * x + c1 = 0\n        // a2 * x + c2 = 0\n        const x1 = -c1 / a1;\n        const x2 = -c2 / a2;\n\n        if (x1 !== x2) {\n            return [];\n        } else {\n            return [\n                [x1, -Infinity],\n                [x1, Infinity],\n            ];\n        }\n    } else if (a1 === 0) {\n        // b1 * y + c1 = 0\n        // y = - c1 / b1;\n        // a2 * x + b2 * y + c2 = 0\n        const y = -c1 / b1;\n        const x = -(b2 * y + c2) / a2;\n\n        results = [[x, y]];\n    } else if (a2 === 0) {\n        // b2 * y + c2 = 0\n        // y = - c2 / b2;\n        // a1 * x + b1 * y + c1 = 0\n        const y = -c2 / b2;\n        const x = -(b1 * y + c1) / a1;\n\n        results = [[x, y]];\n    } else if (b1 === 0) {\n        // a1 * x + c1 = 0\n        // x = - c1 / a1;\n        // a2 * x + b2 * y + c2 = 0\n        const x = - c1 / a1;\n        const y = -(a2 * x + c2) / b2;\n\n        results = [[x, y]];\n    } else if (b2 === 0) {\n        // a2 * x + c2 = 0\n        // x = - c2 / a2;\n        // a1 * x + b1 * y + c1 = 0\n        const x = - c2 / a2;\n        const y = -(a1 * x + c1) / b1;\n\n        results = [[x, y]];\n    } else {\n        // a1 * x + b1 * y + c1 = 0\n        // a2 * x + b2 * y + c2 = 0\n        // b2 * a1 * x + b2 * b1 * y + b2 * c1 = 0\n        // b1 * a2 * x + b1 * b2 * y + b1 * c2 = 0\n        // (b2 * a1 - b1 * a2)  * x = (b1 * c2 - b2 * c1)\n        const x = (b1 * c2 - b2 * c1) / (b2 * a1 - b1 * a2);\n        const y = -(a1 * x + c1) / b1;\n\n        results = [[x, y]];\n    }\n\n    return results.map(result => [result[0], result[1]]);\n}\n/**\n * Get intersection points to the two lines.\n * @memberof OverlapArea\n */\nexport function getIntersectionPoints(\n    line1: number[][],\n    line2: number[][],\n    isLimit?: boolean,\n): number[][] {\n    const points = getIntersectionPointsByConstants(\n        getLinearConstants(line1[0], line1[1]),\n        getLinearConstants(line2[0], line2[1]),\n    );\n\n    if (isLimit) {\n        return getPointsOnLines(points, [line1, line2]);\n    }\n    return points;\n}\n\nexport function isPointOnLine(\n    pos: number[],\n    line: number[][],\n) {\n    const linearConstants = getLinearConstants(line[0], line[1]);\n\n    return tinyThrottle(getDistanceFromPointToConstants(linearConstants, pos)) === 0;\n}\n\n/**\n * Get the points on the lines (between two points).\n * @memberof OverlapArea\n */\nexport function getPointsOnLines(\n    points: number[][],\n    lines: number[][][],\n): number[][] {\n    const minMaxs = lines.map(line => [0, 1].map(order => [\n        Math.min(line[0][order], line[1][order]),\n        Math.max(line[0][order], line[1][order]),\n    ]));\n    let results: number[][] = [];\n\n    if (points.length === 2) {\n        const [x, y] = points[0];\n        if (!tinyThrottle(x - points[1][0])) {\n            /// Math.max(minY1, minY2)\n            const top = Math.max(...minMaxs.map(minMax => minMax[1][0]));\n            /// Math.min(maxY1, miax2)\n            const bottom = Math.min(...minMaxs.map(minMax => minMax[1][1]));\n\n            if (tinyThrottle(top - bottom) > 0) {\n                return [];\n            }\n            results = [\n                [x, top],\n                [x, bottom],\n            ];\n        } else if (!tinyThrottle(y - points[1][1])) {\n            /// Math.max(minY1, minY2)\n            const left = Math.max(...minMaxs.map(minMax => minMax[0][0]));\n            /// Math.min(maxY1, miax2)\n            const right = Math.min(...minMaxs.map(minMax => minMax[0][1]));\n\n            if (tinyThrottle(left - right) > 0) {\n                return [];\n            }\n            results = [\n                [left, y],\n                [right, y],\n            ];\n        }\n    }\n\n    if (!results.length) {\n        results = points.filter(point => {\n            const [pointX, pointY] = point;\n\n            return minMaxs.every(minMax => {\n                return (0 <= tinyThrottle(pointX - minMax[0][0]) && 0 <= tinyThrottle(minMax[0][1] - pointX))\n                && (0 <= tinyThrottle(pointY - minMax[1][0]) && 0 <= tinyThrottle(minMax[1][1] - pointY));\n            });\n        });\n    }\n\n    return results.map(result => [tinyThrottle(result[0]), tinyThrottle(result[1])]);\n\n}\n/**\n* Convert two points into lines.\n* @function\n* @memberof OverlapArea\n*/\nexport function convertLines(points: number[][]): number[][][] {\n    return [...points.slice(1), points[0]].map((point, i) => [points[i], point]);\n}\n\nfunction getOverlapPointInfos(points1: number[][], points2: number[][]): OverlapPointInfo[] {\n    const targetPoints1 = points1.slice();\n    const targetPoints2 = points2.slice();\n\n    if (getShapeDirection(targetPoints1) === -1) {\n        targetPoints1.reverse();\n    }\n    if (getShapeDirection(targetPoints2) === -1) {\n        targetPoints2.reverse();\n    }\n    const lines1 = convertLines(targetPoints1);\n    const lines2 = convertLines(targetPoints2);\n    const linearConstantsList1 = lines1.map(line1 => getLinearConstants(line1[0], line1[1]));\n    const linearConstantsList2 = lines2.map(line2 => getLinearConstants(line2[0], line2[1]));\n\n    const overlapInfos: OverlapPointInfo[] = [];\n\n    linearConstantsList1.forEach((linearConstants1, i) => {\n        const line1 = lines1[i];\n        const linePointInfos: OverlapPointInfo[] = [];\n        linearConstantsList2.forEach((linearConstants2, j) => {\n            const intersectionPoints = getIntersectionPointsByConstants(linearConstants1, linearConstants2);\n            const points = getPointsOnLines(intersectionPoints, [line1, lines2[j]]);\n\n            linePointInfos.push(...points.map(pos => ({\n                index1: i,\n                index2: j,\n                pos,\n                type: \"intersection\" as const,\n            })));\n        });\n        linePointInfos.sort((a, b) => {\n            return getDist(line1[0], a.pos) - getDist(line1[0], b.pos);\n        });\n\n        overlapInfos.push(...linePointInfos);\n\n        if (isInside(line1[1], targetPoints2)) {\n            overlapInfos.push({\n                index1: i,\n                index2: -1,\n                pos: line1[1],\n                type: \"inside\" as const,\n            });\n        }\n    });\n\n    lines2.forEach((line2, i) => {\n        if (!isInside(line2[1], targetPoints1)) {\n            return;\n        }\n        let isNext = false;\n        let index = findIndex(overlapInfos, ({ index2 }) => {\n            if (index2 === i) {\n                isNext = true;\n                return false;\n            }\n\n            if (isNext) {\n                return true;\n            }\n            return false;\n        });\n        if (index === -1) {\n            isNext = false;\n            index = findIndex(overlapInfos, ({ index1, index2 }) => {\n                if (index1 === -1 && index2 + 1 === i) {\n                    isNext = true;\n                    return false;\n                }\n\n                if (isNext) {\n                    return true;\n                }\n                return false;\n            });\n        }\n        if (index === -1) {\n            overlapInfos.push({\n                index1: -1,\n                index2: i,\n                pos: line2[1],\n                type: \"inside\" as const,\n            });\n        } else {\n            overlapInfos.splice(index, 0, {\n                index1: -1,\n                index2: i,\n                pos: line2[1],\n                type: \"inside\" as const,\n            });\n\n        }\n    });\n    const pointMap: Record<string, boolean> = {};\n\n    return overlapInfos.filter(({ pos }) => {\n        const key = `${pos[0]}x${pos[1]}`;\n\n        if (pointMap[key]) {\n            return false;\n        }\n        pointMap[key] = true;\n        return true;\n    });\n}\n\n/**\n* Get the points of the overlapped part of two shapes.\n* @function\n* @memberof OverlapArea\n*/\nexport function getOverlapPoints(points1: number[][], points2: number[][]): number[][] {\n    const infos = getOverlapPointInfos(points1, points2);\n\n    return infos.map(({ pos }) => pos);\n}\n\nfunction isConnectedLine(line: OverlapPointInfo[]) {\n    const {\n        0: {\n            index1: prevIndex1,\n            index2: prevIndex2,\n        },\n        1: {\n            index1: nextIndex1,\n            index2: nextIndex2,\n        }\n    } = line;\n\n    if (prevIndex1 !== -1) {\n        // same line\n        if (prevIndex1 === nextIndex1) {\n            return true;\n        }\n        if (prevIndex1 + 1 === nextIndex1) {\n            return true;\n        }\n    }\n    if (prevIndex2 !== -1) {\n        // same line\n        if (prevIndex2 === nextIndex2) {\n            return true;\n        }\n        if (prevIndex2 + 1 === nextIndex2) {\n            return true;\n        }\n    }\n\n    return false;\n\n}\n/**\n* Get the areas of the overlapped part of two shapes.\n* @function\n* @memberof OverlapArea\n*/\nexport function getOverlapAreas(points1: number[][], points2: number[][]): number[][][] {\n    const infos = getOverlapPointInfos(points1, points2);\n    const areas: OverlapPointInfo[][] = [];\n    let area: OverlapPointInfo[];\n\n    getOverlapPointInfos(points1, points2).forEach((info, i, arr) => {\n        if (i === 0 || !isConnectedLine([arr[i - 1], info])) {\n            area = [info];\n            areas.push(area);\n        } else {\n            area.push(info);\n        }\n    });\n\n    return areas.map(area => area.map(({ pos }) => pos));\n}\nfunction findReversedAreas(points1: number[][], points2: number[][], index: number = 0, areas: number[][][] = []): number[][][] {\n    const isFirst = areas.length === 0;\n    const length = points1.length;\n    const nextIndex = points1[index] ? index : 0;\n    const nextPoints1 = [...points1.slice(nextIndex), ...points1.slice(0, nextIndex)];\n\n    for (let i = 0; i < length; ++i) {\n        const point1 = nextPoints1[i];\n\n        if (find(points2, point2 => point2[0] === point1[0] && point2[1] === point1[1])) {\n            continue;\n        }\n        if (areas.some(nextArea => find(nextArea, areaPoint => areaPoint[0] === point1[0] && areaPoint[1] === point1[1]))) {\n            if (isFirst) {\n                continue;\n            } else {\n                break;\n            }\n        }\n        let nextArea: number[][];\n\n        if (isFirst) {\n            nextArea = [];\n            areas.push(nextArea);\n        } else {\n            nextArea = areas[areas.length - 1];\n        }\n        nextArea.push(point1);\n\n\n        const line = [point1, points1[index + 1] || points1[0]];\n        const nextPoint2 = points2.filter(point2 => {\n            return isPointOnLine(point2, line);\n        }).sort((a, b) => {\n            return getDist(point1, a) - getDist(point1, b);\n        })[0];\n\n        if (!nextPoint2) {\n            findReversedAreas(nextPoints1, points2, i + 1, areas);\n            break;\n        } else {\n            const point2Index = points2.indexOf(nextPoint2);\n\n            findReversedAreas(points2, points1, point2Index, areas);\n            if (!isFirst) {\n                break;\n            }\n        }\n    }\n    return areas;\n}\nexport function findConnectedAreas(points1: number[][], points2: number[][]) {\n    return findReversedAreas(points1, [...points2].reverse());\n}\n/**\n* Get non-overlapping areas of two shapes based on points1.\n* @memberof OverlapArea\n*/\nexport function getUnoverlapAreas(points1: number[][], points2: number[][]): number[][][] {\n    if (!points2.length) {\n        return [[...points1]];\n    }\n    const overlapAreas = getOverlapAreas(points1, points2);\n     let unoverlapAreas = [points1];\n\n    overlapAreas.forEach(overlapArea => {\n        const nextOverlapArea = [...overlapArea].reverse();\n\n        unoverlapAreas = flat(unoverlapAreas.map(area => {\n            const connectedAreas = findReversedAreas(area, nextOverlapArea);\n            const firstConnectedArea = connectedAreas[0];\n\n            if (connectedAreas.length === 1 && nextOverlapArea.every(point => firstConnectedArea.indexOf(point) === -1)) {\n                const lastPoint = firstConnectedArea[firstConnectedArea.length - 1];\n                const firstPoint = [...nextOverlapArea].sort((a, b) => {\n                    return getDist(lastPoint, a) - getDist(lastPoint, b);\n                })[0];\n                const firstIndex = nextOverlapArea.indexOf(firstPoint);\n\n                firstConnectedArea.push(\n                    ...nextOverlapArea.slice(firstIndex),\n                    ...nextOverlapArea.slice(0, firstIndex),\n                    nextOverlapArea[firstIndex],\n                    lastPoint,\n                );\n            }\n            return connectedAreas;\n        }));\n    });\n\n    return unoverlapAreas;\n}\n/**\n* Gets the size of the overlapped part of two shapes.\n* @function\n* @memberof OverlapArea\n*/\nexport function getOverlapSize(points1: number[][], points2: number[][]): number {\n    const points = getOverlapPoints(points1, points2);\n\n    return getAreaSize(points);\n}\n", "/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __createBinding(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (p !== \"default\" && !exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, privateMap) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to get private field on non-instance\");\r\n    }\r\n    return privateMap.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, privateMap, value) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to set private field on non-instance\");\r\n    }\r\n    privateMap.set(receiver, value);\r\n    return value;\r\n}\r\n", null, null, null, "import stringHash from \"string-hash\";\nimport { getDocument, splitComma } from \"@daybrush/utils\";\nimport { InjectOptions } from \"./types\";\n\nexport function getHash(str: string) {\n    return stringHash(str).toString(36);\n}\nexport function getShadowRoot(parentElement: HTMLElement | SVGElement) {\n    if (parentElement && parentElement.getRootNode) {\n        const rootNode = parentElement.getRootNode();\n\n        if (rootNode.nodeType === 11) {\n            return rootNode as ShadowRoot;\n        }\n    }\n    return;\n}\nexport function replaceStyle(className: string, css: string, options: Partial<InjectOptions>) {\n    if (options.original) {\n        return css;\n    }\n    return css.replace(/([^};{\\s}][^};{]*|^\\s*){/mg, (_, selector) => {\n        const trimmedSelector = selector.trim();\n        return (trimmedSelector ? splitComma(trimmedSelector) : [\"\"]).map(subSelector => {\n            const trimmedSubSelector = subSelector.trim();\n            if (trimmedSubSelector.indexOf(\"@\") === 0) {\n                return trimmedSubSelector;\n            } else if (trimmedSubSelector.indexOf(\":global\") > -1) {\n                return trimmedSubSelector.replace(/\\:global/g, \"\");\n            } else if (trimmedSubSelector.indexOf(\":host\") > -1) {\n                return `${trimmedSubSelector.replace(/\\:host/g, `.${className}`)}`;\n            } else if (trimmedSubSelector) {\n                return `.${className} ${trimmedSubSelector}`;\n            } else {\n                return `.${className}`;\n            }\n        }).join(\", \") + \" {\";\n    });\n}\nexport function injectStyle(className: string, css: string, options: Partial<InjectOptions>, el: Node, shadowRoot?: Node) {\n    const doc = getDocument(el);\n    const style = doc.createElement(\"style\");\n\n    style.setAttribute(\"type\", \"text/css\");\n    style.setAttribute(\"data-styled-id\", className);\n    style.setAttribute(\"data-styled-count\", \"1\");\n\n    if (options.nonce) {\n        style.setAttribute(\"nonce\", options.nonce);\n    }\n    style.innerHTML = replaceStyle(className, css, options);\n\n    (shadowRoot || doc.head || doc.body).appendChild(style);\n    return style;\n}\n", "import { getHash, injectStyle, getShadowRoot } from \"./utils\";\nimport { StyledInjector, InjectOptions } from \"./types\";\n\n/**\n * Create an styled object that can be defined and inserted into the css.\n * @param - css styles\n */\nfunction styled(css: string): StyledInjector {\n    const injectClassName = \"rCS\" + getHash(css);\n\n    return {\n        className: injectClassName,\n        inject(el: HTMLElement | SVGElement, options: Partial<InjectOptions> = {}) {\n            const shadowRoot = getShadowRoot(el);\n            let styleElement = (shadowRoot || el.ownerDocument || document).querySelector<HTMLStyleElement>(`style[data-styled-id=\"${injectClassName}\"]`);\n\n            if (!styleElement) {\n                styleElement = injectStyle(injectClassName, css, options, el, shadowRoot);\n            } else {\n                const count = parseFloat(styleElement.getAttribute(\"data-styled-count\")) || 0;\n                styleElement.setAttribute(\"data-styled-count\", `${count + 1}`);\n            }\n            return {\n                destroy() {\n                    const injectCount = parseFloat(styleElement.getAttribute(\"data-styled-count\")) || 0;\n\n                    if (injectCount <= 1) {\n                        if (styleElement.remove) {\n                            styleElement.remove();\n                        } else {\n                            styleElement.parentNode?.removeChild(styleElement);\n                        }\n                        styleElement = null;\n                    } else {\n                        styleElement.setAttribute(\"data-styled-count\", `${injectCount - 1}`);\n                    }\n                },\n            };\n        },\n    };\n}\n\nexport * from \"./types\";\nexport default styled;\n", "/*\nCopyright (c) Daybrush\nname: croact-css-styled\nlicense: MIT\nauthor: Daybrush\nrepository: git+https://github.com/daybrush/css-styled.git\nversion: 1.1.9\n*/\nimport cssStyled from 'css-styled';\nimport { version, createElement, forwardRef, useRef, useImperativeHandle, useEffect, Component } from 'croact';\nimport { ref } from 'framework-utils';\n\n/*\nCopyright (c) 2019 Daybrush\nname: react-css-styled\nlicense: MIT\nauthor: Daybrush\nrepository: https://github.com/daybrush/css-styled/tree/master/packages/react-css-styled\nversion: 1.1.9\n*/\n\n/******************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\n/* global Reflect, Promise */\n\nvar extendStatics = function (d, b) {\n  extendStatics = Object.setPrototypeOf || {\n    __proto__: []\n  } instanceof Array && function (d, b) {\n    d.__proto__ = b;\n  } || function (d, b) {\n    for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];\n  };\n  return extendStatics(d, b);\n};\nfunction __extends(d, b) {\n  if (typeof b !== \"function\" && b !== null) throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n  extendStatics(d, b);\n  function __() {\n    this.constructor = d;\n  }\n  d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n}\nvar __assign = function () {\n  __assign = Object.assign || function __assign(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n    return t;\n  };\n  return __assign.apply(this, arguments);\n};\nfunction __rest(s, e) {\n  var t = {};\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n}\nvar StyledElement = /*#__PURE__*/function (_super) {\n  __extends(StyledElement, _super);\n  function StyledElement() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.injectResult = null;\n    _this.tag = \"div\";\n    return _this;\n  }\n  var __proto = StyledElement.prototype;\n  __proto.render = function () {\n    var _a = this.props,\n      _b = _a.className,\n      className = _b === void 0 ? \"\" : _b,\n      cspNonce = _a.cspNonce,\n      portalContainer = _a.portalContainer,\n      attributes = __rest(_a, [\"className\", \"cspNonce\", \"portalContainer\"]);\n    var cssId = this.injector.className;\n    var Tag = this.tag;\n    var portalAttributes = {};\n    if ((version || \"\").indexOf(\"simple\") > -1 && portalContainer) {\n      portalAttributes = {\n        portalContainer: portalContainer\n      };\n    }\n    return createElement(Tag, __assign(__assign({\n      \"ref\": ref(this, \"element\"),\n      \"data-styled-id\": cssId,\n      \"className\": \"\".concat(className, \" \").concat(cssId)\n    }, portalAttributes), attributes));\n  };\n  __proto.componentDidMount = function () {\n    this.injectResult = this.injector.inject(this.element, {\n      nonce: this.props.cspNonce\n    });\n  };\n  __proto.componentWillUnmount = function () {\n    this.injectResult.destroy();\n    this.injectResult = null;\n  };\n  __proto.getElement = function () {\n    return this.element;\n  };\n  return StyledElement;\n}(Component);\nfunction defaultStyled(tag, css) {\n  var injector = cssStyled(css);\n  return /*#__PURE__*/function (_super) {\n    __extends(Styled, _super);\n    function Styled() {\n      var _this = _super !== null && _super.apply(this, arguments) || this;\n      _this.injector = injector;\n      _this.tag = tag;\n      return _this;\n    }\n    return Styled;\n  }(StyledElement);\n}\nfunction styled(Tag, css) {\n  var injector = cssStyled(css);\n  var cssId = injector.className;\n  return forwardRef(function (props, ref) {\n    var _a = props.className,\n      className = _a === void 0 ? \"\" : _a,\n      cspNonce = props.cspNonce,\n      attributes = __rest(props, [\"className\", \"cspNonce\"]);\n    var targetRef = useRef();\n    useImperativeHandle(ref, function () {\n      return targetRef.current;\n    }, []);\n    useEffect(function () {\n      var injectResult = injector.inject(targetRef.current, {\n        nonce: props.cspNonce\n      });\n      return function () {\n        injectResult.destroy();\n      };\n    }, []);\n    return createElement(Tag, __assign({\n      \"ref\": targetRef,\n      \"data-styled-id\": cssId,\n      \"className\": \"\".concat(className, \" \").concat(cssId)\n    }, attributes));\n  });\n}\n\nexport default defaultStyled;\nexport { StyledElement, styled };\n", "/*\nCopyright (c) 2019 Daybrush\nname: croact-moveable\nlicense: MIT\nauthor: Daybrush\nrepository: https://github.com/daybrush/moveable/blob/master/packages/croact-moveable\nversion: 0.9.0\n*/\nimport getAgent from '@egjs/agent';\nimport { prefixNames, prefixCSS, ref, withMethods, refs } from 'framework-utils';\nimport { getRad, throttle, throttleArray, isString, calculateBoundSize, getKeys, isArray, hasClass, getDist as getDist$1, isObject, decamelize, convertUnitSize, pushSet, find, findIndex, splitSpace, isNumber, isNode, isFunction, isWindow, counter, dot, addClass, requestAnimationFrame, splitBracket, splitComma, splitUnit, cancelAnimationFrame, removeClass, getWindow, TINY_NUM as TINY_NUM$1, flat as flat$1, isUndefined, getDocumentBody, between, getDocumentElement, average } from '@daybrush/utils';\nimport { plus, minus, convertDimension, calculate, convertPositionMatrix, ignoreDimension, invert, createIdentityMatrix, createWarpMatrix, multiply, fromTranslation, createRotateMatrix, getOrigin, rotate, multiplies, createOriginMatrix, convertMatrixtoCSS, createScaleMatrix, convertCSStoMatrix } from '@scena/matrix';\nimport { parseMat, parse, toMat, calculateMatrixDist } from 'css-to-mat';\nimport ChildrenDiffer, { diff } from '@egjs/children-differ';\nimport DragScroll from '@scena/dragscroll';\nimport { getMinMaxs, fitPoints, getOverlapSize, getAreaSize, isInside, getIntersectionPointsByConstants } from 'overlap-area';\nimport * as React from 'croact';\nimport { createElement } from 'croact';\nimport Gesto from 'gesto';\nimport { styled } from 'croact-css-styled';\nimport EventEmitter from '@scena/event-emitter';\nimport { diff as diff$1 } from '@egjs/list-differ';\n\n/*\nCopyright (c) 2019 Daybrush\nname: react-moveable\nlicense: MIT\nauthor: Daybrush\nrepository: https://github.com/daybrush/moveable/blob/master/packages/react-moveable\nversion: 0.56.0\n*/\n\n/******************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\n/* global Reflect, Promise */\n\nvar extendStatics = function (d, b) {\n  extendStatics = Object.setPrototypeOf ||\n  { __proto__: [] } instanceof Array && function (d, b) {d.__proto__ = b;} ||\n  function (d, b) {for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];};\n  return extendStatics(d, b);\n};\n\nfunction __extends(d, b) {\n  if (typeof b !== \"function\" && b !== null)\n  throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n  extendStatics(d, b);\n  function __() {this.constructor = d;}\n  d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n}\n\nvar __assign = function () {\n  __assign = Object.assign || function __assign(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n    return t;\n  };\n  return __assign.apply(this, arguments);\n};\n\nfunction __rest(s, e) {\n  var t = {};\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n  t[p] = s[p];\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n  for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n    t[p[i]] = s[p[i]];\n  }\n  return t;\n}\n\nfunction __decorate(decorators, target, key, desc) {\n  var c = arguments.length,r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else\n  for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n}\n\nfunction __values(o) {\n  var s = typeof Symbol === \"function\" && Symbol.iterator,m = s && o[s],i = 0;\n  if (m) return m.call(o);\n  if (o && typeof o.length === \"number\") return {\n    next: function () {\n      if (o && i >= o.length) o = void 0;\n      return { value: o && o[i++], done: !o };\n    }\n  };\n  throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n}\n\nfunction __read(o, n) {\n  var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n  if (!m) return o;\n  var i = m.call(o),r,ar = [],e;\n  try {\n    while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n  }\n  catch (error) {e = { error: error };} finally\n  {\n    try {\n      if (r && !r.done && (m = i[\"return\"])) m.call(i);\n    } finally\n    {if (e) throw e.error;}\n  }\n  return ar;\n}\n\nfunction __spreadArray(to, from, pack) {\n  if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n    if (ar || !(i in from)) {\n      if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n      ar[i] = from[i];\n    }\n  }\n  return to.concat(ar || Array.prototype.slice.call(from));\n}\n\nfunction makeAble(name, able) {\n  return __assign({ events: [], props: [], name: name }, able);\n}\n\nvar DIRECTIONS4 = [\"n\", \"w\", \"s\", \"e\"];\nvar DIRECTIONS = [\"n\", \"w\", \"s\", \"e\", \"nw\", \"ne\", \"sw\", \"se\"];\nfunction getSVGCursor(scale, degree) {\n  return \"data:image/svg+xml;utf8,<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" width=\\\"\".concat(32 * scale, \"px\\\" height=\\\"\").concat(32 * scale, \"px\\\" viewBox=\\\"0 0 32 32\\\" ><path d=\\\"M 16,5 L 12,10 L 14.5,10 L 14.5,22 L 12,22 L 16,27 L 20,22 L 17.5,22 L 17.5,10 L 20, 10 L 16,5 Z\\\" stroke-linejoin=\\\"round\\\" stroke-width=\\\"1.2\\\" fill=\\\"black\\\" stroke=\\\"white\\\" style=\\\"transform:rotate(\").concat(degree, \"deg);transform-origin: 16px 16px\\\"></path></svg>\");\n}\nfunction getCursorCSS(degree) {\n  var x1 = getSVGCursor(1, degree);\n  // const x2 = getSVGCursor(2, degree);\n  var degree45 = Math.round(degree / 45) * 45 % 180;\n  var defaultCursor = \"ns-resize\";\n  if (degree45 === 135) {\n    defaultCursor = \"nwse-resize\";\n  } else\n  if (degree45 === 45) {\n    defaultCursor = \"nesw-resize\";\n  } else\n  if (degree45 === 90) {\n    defaultCursor = \"ew-resize\";\n  }\n  // tslint:disable-next-line: max-line-length\n  return \"cursor:\".concat(defaultCursor, \";cursor: url('\").concat(x1, \"') 16 16, \").concat(defaultCursor, \";\");\n}\nvar agent = getAgent();\nvar IS_WEBKIT = agent.browser.webkit;\nvar IS_WEBKIT605 = IS_WEBKIT && function () {\n  var navi = typeof window === \"undefined\" ? { userAgent: \"\" } : window.navigator;\n  var res = /applewebkit\\/([^\\s]+)/g.exec(navi.userAgent.toLowerCase());\n  return res ? parseFloat(res[1]) < 605 : false;\n}();\nvar browserName = agent.browser.name;\nvar browserVersion = parseInt(agent.browser.version, 10);\nvar IS_CHROME = browserName === \"chrome\";\nvar IS_CHROMIUM = agent.browser.chromium;\nvar chromiumVersion = parseInt(agent.browser.chromiumVersion, 10) || 0;\nvar IS_CHROMIUM109 = IS_CHROME && browserVersion >= 109 ||\nIS_CHROMIUM && chromiumVersion >= 109;\nvar IS_FIREFOX = browserName === \"firefox\";\nvar IS_SAFARI_ABOVE15 = parseInt(agent.browser.webkitVersion, 10) >= 612 ||\nbrowserVersion >= 15;\nvar PREFIX = \"moveable-\";\nvar directionCSS = DIRECTIONS.map(function (dir) {\n  var top = \"\";\n  var left = \"\";\n  var originX = \"center\";\n  var originY = \"center\";\n  var offset = \"calc(var(--moveable-control-padding, 20) * -1px)\";\n  if (dir.indexOf(\"n\") > -1) {\n    top = \"top: \".concat(offset, \";\");\n    originY = \"bottom\";\n  }\n  if (dir.indexOf(\"s\") > -1) {\n    top = \"top: 0px;\";\n    originY = \"top\";\n  }\n  if (dir.indexOf(\"w\") > -1) {\n    left = \"left: \".concat(offset, \";\");\n    originX = \"right\";\n  }\n  if (dir.indexOf(\"e\") > -1) {\n    left = \"left: 0px;\";\n    originX = \"left\";\n  }\n  return \".around-control[data-direction*=\\\"\".concat(dir, \"\\\"] {\\n        \").concat(left).concat(top, \"\\n        transform-origin: \").concat(originX, \" \").concat(originY, \";\\n    }\");\n}).join(\"\\n\");\nvar MOVEABLE_CSS = \"\\n{\\nposition: absolute;\\nwidth: 1px;\\nheight: 1px;\\nleft: 0;\\ntop: 0;\\nz-index: 3000;\\n--moveable-color: #4af;\\n--zoom: 1;\\n--zoompx: 1px;\\n--moveable-line-padding: 0;\\n--moveable-control-padding: 0;\\nwill-change: transform;\\noutline: 1px solid transparent;\\n}\\n.control-box {\\nz-index: 0;\\n}\\n.line, .control {\\nposition: absolute;\\nleft: 0;\\ntop: 0;\\nwill-change: transform;\\n}\\n.control {\\nwidth: 14px;\\nheight: 14px;\\nborder-radius: 50%;\\nborder: 2px solid #fff;\\nbox-sizing: border-box;\\nbackground: #4af;\\nbackground: var(--moveable-color);\\nmargin-top: -7px;\\nmargin-left: -7px;\\nborder: 2px solid #fff;\\nz-index: 10;\\n}\\n.around-control {\\nposition: absolute;\\nwill-change: transform;\\nwidth: calc(var(--moveable-control-padding, 20) * 1px);\\nheight: calc(var(--moveable-control-padding, 20) * 1px);\\nleft: calc(var(--moveable-control-padding, 20) * -0.5px);\\ntop: calc(var(--moveable-control-padding, 20) * -0.5px);\\nbox-sizing: border-box;\\nbackground: transparent;\\nz-index: 8;\\ncursor: alias;\\ntransform-origin: center center;\\n}\\n\".concat(directionCSS, \"\\n.padding {\\nposition: absolute;\\ntop: 0px;\\nleft: 0px;\\nwidth: 100px;\\nheight: 100px;\\ntransform-origin: 0 0;\\n}\\n.line {\\nwidth: 1px;\\nheight: 1px;\\nbackground: #4af;\\nbackground: var(--moveable-color);\\ntransform-origin: 0px 50%;\\n}\\n.line.edge {\\nz-index: 1;\\nbackground: transparent;\\n}\\n.line.dashed {\\nbox-sizing: border-box;\\nbackground: transparent;\\n}\\n.line.dashed.horizontal {\\nborder-top: 1px dashed #4af;\\nborder-top-color: #4af;\\nborder-top-color: var(--moveable-color);\\n}\\n.line.dashed.vertical {\\nborder-left: 1px dashed #4af;\\nborder-left-color: #4af;\\nborder-left-color: var(--moveable-color);\\n}\\n.line.vertical {\\ntransform: translateX(-50%);\\n}\\n.line.horizontal {\\ntransform: translateY(-50%);\\n}\\n.line.vertical.bold {\\nwidth: 2px;\\n}\\n.line.horizontal.bold {\\nheight: 2px;\\n}\\n\\n.control.origin {\\nborder-color: #f55;\\nbackground: #fff;\\nwidth: 12px;\\nheight: 12px;\\nmargin-top: -6px;\\nmargin-left: -6px;\\npointer-events: none;\\n}\\n\").concat([0, 15, 30, 45, 60, 75, 90, 105, 120, 135, 150, 165].map(function (degree) {return \"\\n.direction[data-rotation=\\\"\".concat(degree, \"\\\"], :global .view-control-rotation\").concat(degree, \" {\\n\").concat(getCursorCSS(degree), \"\\n}\\n\");}).join(\"\\n\"), \"\\n\\n.line.direction:before {\\ncontent: \\\"\\\";\\nposition: absolute;\\nwidth: 100%;\\nheight: calc(var(--moveable-line-padding, 0) * 1px);\\nbottom: 0;\\nleft: 0;\\n}\\n.group {\\nz-index: -1;\\n}\\n.area {\\nposition: absolute;\\n}\\n.area-pieces {\\nposition: absolute;\\ntop: 0;\\nleft: 0;\\ndisplay: none;\\n}\\n.area.avoid, .area.pass {\\npointer-events: none;\\n}\\n.area.avoid+.area-pieces {\\ndisplay: block;\\n}\\n.area-piece {\\nposition: absolute;\\n}\\n\\n\").concat(IS_WEBKIT605 ? \":global svg *:before {\\ncontent:\\\"\\\";\\ntransform-origin: inherit;\\n}\" : \"\", \"\\n\");\nvar NEARBY_POS = [\n[0, 1, 2],\n[1, 0, 3],\n[2, 0, 3],\n[3, 1, 2]];\n\nvar FLOAT_POINT_NUM = 0.0001;\nvar TINY_NUM = 0.0000001;\nvar MIN_SCALE = 0.000000001;\nvar MAX_NUM = Math.pow(10, 10);\nvar MIN_NUM = -MAX_NUM;\nvar DIRECTION_REGION_TO_DIRECTION = {\n  n: [0, -1],\n  e: [1, 0],\n  s: [0, 1],\n  w: [-1, 0],\n  nw: [-1, -1],\n  ne: [1, -1],\n  sw: [-1, 1],\n  se: [1, 1]\n};\nvar DIRECTION_INDEXES = {\n  n: [0, 1],\n  e: [1, 3],\n  s: [3, 2],\n  w: [2, 0],\n  nw: [0],\n  ne: [1],\n  sw: [2],\n  se: [3]\n};\nvar DIRECTION_ROTATIONS = {\n  n: 0,\n  s: 180,\n  w: 270,\n  e: 90,\n  nw: 315,\n  ne: 45,\n  sw: 225,\n  se: 135\n};\nvar MOVEABLE_METHODS = [\n\"isMoveableElement\",\n\"updateRect\",\n\"updateTarget\",\n\"destroy\",\n\"dragStart\",\n\"isInside\",\n\"hitTest\",\n\"setState\",\n\"getRect\",\n\"request\",\n\"isDragging\",\n\"getManager\",\n\"forceUpdate\",\n\"waitToChangeTarget\",\n\"updateSelectors\",\n\"getTargets\",\n\"stopDrag\",\n\"getControlBoxElement\",\n\"getMoveables\",\n\"getDragElement\"];\n\n\nfunction setCustomDrag(e, state, delta, isPinch, isConvert, ableName) {\n  var _a, _b;\n  if (ableName === void 0) {ableName = \"draggable\";}\n  var result = (_b = (_a = state.gestos[ableName]) === null || _a === void 0 ? void 0 : _a.move(delta, e.inputEvent)) !== null && _b !== void 0 ? _b : {};\n  var datas = result.originalDatas || result.datas;\n  var ableDatas = datas[ableName] || (datas[ableName] = {});\n  return __assign(__assign({}, isConvert ? convertDragDist(state, result) : result), { isPinch: !!isPinch, parentEvent: true, datas: ableDatas, originalDatas: e.originalDatas });\n}\nvar CustomGesto = /*#__PURE__*/function () {\n  function CustomGesto(ableName) {\n    var _a;\n    if (ableName === void 0) {ableName = \"draggable\";}\n    this.ableName = ableName;\n    this.prevX = 0;\n    this.prevY = 0;\n    this.startX = 0;\n    this.startY = 0;\n    this.isDrag = false;\n    this.isFlag = false;\n    this.datas = {\n      draggable: {}\n    };\n    this.datas = (_a = {},\n    _a[ableName] = {},\n    _a);\n  }\n  CustomGesto.prototype.dragStart = function (client, e) {\n    this.isDrag = false;\n    this.isFlag = false;\n    var originalDatas = e.originalDatas;\n    this.datas = originalDatas;\n    if (!originalDatas[this.ableName]) {\n      originalDatas[this.ableName] = {};\n    }\n    return __assign(__assign({}, this.move(client, e.inputEvent)), { type: \"dragstart\" });\n  };\n  CustomGesto.prototype.drag = function (client, inputEvent) {\n    return this.move([\n    client[0] - this.prevX,\n    client[1] - this.prevY],\n    inputEvent);\n  };\n  CustomGesto.prototype.move = function (delta, inputEvent) {\n    var clientX;\n    var clientY;\n    var isFirstDrag = false;\n    if (!this.isFlag) {\n      this.prevX = delta[0];\n      this.prevY = delta[1];\n      this.startX = delta[0];\n      this.startY = delta[1];\n      clientX = delta[0];\n      clientY = delta[1];\n      this.isFlag = true;\n    } else\n    {\n      var isPrevDrag = this.isDrag;\n      clientX = this.prevX + delta[0];\n      clientY = this.prevY + delta[1];\n      if (delta[0] || delta[1]) {\n        this.isDrag = true;\n      }\n      if (!isPrevDrag && this.isDrag) {\n        isFirstDrag = true;\n      }\n    }\n    this.prevX = clientX;\n    this.prevY = clientY;\n    return {\n      type: \"drag\",\n      clientX: clientX,\n      clientY: clientY,\n      inputEvent: inputEvent,\n      isFirstDrag: isFirstDrag,\n      isDrag: this.isDrag,\n      distX: clientX - this.startX,\n      distY: clientY - this.startY,\n      deltaX: delta[0],\n      deltaY: delta[1],\n      datas: this.datas[this.ableName],\n      originalDatas: this.datas,\n      parentEvent: true,\n      parentGesto: this\n    };\n  };\n  return CustomGesto;\n}();\n\nfunction calculateElementPosition(matrix, origin, width, height) {\n  var is3d = matrix.length === 16;\n  var n = is3d ? 4 : 3;\n  var poses = calculatePoses(matrix, width, height, n);\n  var _a = __read(poses, 4),_b = __read(_a[0], 2),x1 = _b[0],y1 = _b[1],_c = __read(_a[1], 2),x2 = _c[0],y2 = _c[1],_d = __read(_a[2], 2),x3 = _d[0],y3 = _d[1],_e = __read(_a[3], 2),x4 = _e[0],y4 = _e[1];\n  var _f = __read(calculatePosition(matrix, origin, n), 2),originX = _f[0],originY = _f[1];\n  var left = Math.min(x1, x2, x3, x4);\n  var top = Math.min(y1, y2, y3, y4);\n  var right = Math.max(x1, x2, x3, x4);\n  var bottom = Math.max(y1, y2, y3, y4);\n  x1 = x1 - left || 0;\n  x2 = x2 - left || 0;\n  x3 = x3 - left || 0;\n  x4 = x4 - left || 0;\n  y1 = y1 - top || 0;\n  y2 = y2 - top || 0;\n  y3 = y3 - top || 0;\n  y4 = y4 - top || 0;\n  originX = originX - left || 0;\n  originY = originY - top || 0;\n  var sx = matrix[0];\n  var sy = matrix[n + 1];\n  var direction = sign(sx * sy);\n  return {\n    left: left,\n    top: top,\n    right: right,\n    bottom: bottom,\n    origin: [originX, originY],\n    pos1: [x1, y1],\n    pos2: [x2, y2],\n    pos3: [x3, y3],\n    pos4: [x4, y4],\n    direction: direction\n  };\n}\n\nfunction calculatePointerDist(moveable, e) {\n  var clientX = e.clientX,clientY = e.clientY,datas = e.datas;\n  var _a = moveable.state,moveableClientRect = _a.moveableClientRect,rootMatrix = _a.rootMatrix,is3d = _a.is3d,pos1 = _a.pos1;\n  var left = moveableClientRect.left,top = moveableClientRect.top;\n  var n = is3d ? 4 : 3;\n  var _b = __read(minus(calculateInversePosition(rootMatrix, [clientX - left, clientY - top], n), pos1), 2),posX = _b[0],posY = _b[1];\n  var _c = __read(getDragDist({ datas: datas, distX: posX, distY: posY }), 2),distX = _c[0],distY = _c[1];\n  return [distX, distY];\n}\nfunction setDragStart(moveable, _a) {\n  var datas = _a.datas;\n  var _b = moveable.state,allMatrix = _b.allMatrix,beforeMatrix = _b.beforeMatrix,is3d = _b.is3d,left = _b.left,top = _b.top,origin = _b.origin,offsetMatrix = _b.offsetMatrix,targetMatrix = _b.targetMatrix,transformOrigin = _b.transformOrigin;\n  var n = is3d ? 4 : 3;\n  datas.is3d = is3d;\n  datas.matrix = allMatrix;\n  datas.targetMatrix = targetMatrix;\n  datas.beforeMatrix = beforeMatrix;\n  datas.offsetMatrix = offsetMatrix;\n  datas.transformOrigin = transformOrigin;\n  datas.inverseMatrix = invert(allMatrix, n);\n  datas.inverseBeforeMatrix = invert(beforeMatrix, n);\n  datas.absoluteOrigin = convertPositionMatrix(plus([left, top], origin), n);\n  datas.startDragBeforeDist = calculate(datas.inverseBeforeMatrix, datas.absoluteOrigin, n);\n  datas.startDragDist = calculate(datas.inverseMatrix, datas.absoluteOrigin, n);\n}\nfunction getTransformDirection(e) {\n  return calculateElementPosition(e.datas.beforeTransform, [50, 50], 100, 100).direction;\n}\nfunction resolveTransformEvent(moveable, event, functionName) {\n  var datas = event.datas,originalDatas = event.originalDatas.beforeRenderable;\n  var index = datas.transformIndex;\n  var nextTransforms = originalDatas.nextTransforms;\n  var length = nextTransforms.length;\n  var nextTransformAppendedIndexes = originalDatas.nextTransformAppendedIndexes;\n  var nextIndex = -1;\n  if (index === -1) {\n    // translate => rotate => scale\n    if (functionName === \"translate\") {\n      nextIndex = 0;\n    } else\n    if (functionName === \"rotate\") {\n      nextIndex = findIndex(nextTransforms, function (text) {return text.match(/scale\\(/g);});\n    }\n    if (nextIndex === -1) {\n      nextIndex = nextTransforms.length;\n    }\n    datas.transformIndex = nextIndex;\n  } else\n  if (find(nextTransformAppendedIndexes, function (info) {return info.index === index && info.functionName === functionName;})) {\n    nextIndex = index;\n  } else\n  {\n    nextIndex = index + nextTransformAppendedIndexes.filter(function (info) {return info.index < index;}).length;\n  }\n  var result = convertTransformInfo(nextTransforms, moveable.state, nextIndex);\n  var targetFunction = result.targetFunction;\n  var matFunctionName = functionName === \"rotate\" ? \"rotateZ\" : functionName;\n  datas.beforeFunctionTexts = result.beforeFunctionTexts;\n  datas.afterFunctionTexts = result.afterFunctionTexts;\n  datas.beforeTransform = result.beforeFunctionMatrix;\n  datas.beforeTransform2 = result.beforeFunctionMatrix2;\n  datas.targetTansform = result.targetFunctionMatrix;\n  datas.afterTransform = result.afterFunctionMatrix;\n  datas.afterTransform2 = result.afterFunctionMatrix2;\n  datas.targetAllTransform = result.allFunctionMatrix;\n  if (targetFunction.functionName === matFunctionName) {\n    datas.afterFunctionTexts.splice(0, 1);\n    datas.isAppendTransform = false;\n  } else\n  if (length > nextIndex) {\n    datas.isAppendTransform = true;\n    originalDatas.nextTransformAppendedIndexes = __spreadArray(__spreadArray([], __read(nextTransformAppendedIndexes), false), [{\n      functionName: functionName,\n      index: nextIndex,\n      isAppend: true\n    }], false);\n  }\n}\nfunction convertTransformFormat(datas, value, dist) {\n  return \"\".concat(datas.beforeFunctionTexts.join(\" \"), \" \").concat(datas.isAppendTransform ? dist : value, \" \").concat(datas.afterFunctionTexts.join(\" \"));\n}\nfunction getTransformDist(_a) {\n  var datas = _a.datas,distX = _a.distX,distY = _a.distY;\n  var _b = __read(getBeforeDragDist({ datas: datas, distX: distX, distY: distY }), 2),bx = _b[0],by = _b[1];\n  // B * [tx, ty] * A = [bx, by] * targetMatrix;\n  // [tx, ty] = B-1 * [bx, by] * targetMatrix * A-1 * [0, 0];\n  var res = getTransfromMatrix(datas, fromTranslation([bx, by], 4));\n  return calculate(res, convertPositionMatrix([0, 0, 0], 4), 4);\n}\nfunction getTransfromMatrix(datas, targetMatrix, isAfter) {\n  var beforeTransform = datas.beforeTransform,afterTransform = datas.afterTransform,beforeTransform2 = datas.beforeTransform2,afterTransform2 = datas.afterTransform2,targetAllTransform = datas.targetAllTransform;\n  // B * afterTargetMatrix * A = (targetMatrix * targetAllTransform)\n  // afterTargetMatrix = B-1 * targetMatrix * targetAllTransform * A-1\n  // nextTargetMatrix = (targetMatrix * targetAllTransform)\n  var nextTargetMatrix = isAfter ?\n  multiply(targetAllTransform, targetMatrix, 4) :\n  multiply(targetMatrix, targetAllTransform, 4);\n  // res1 = B-1 * nextTargetMatrix\n  var res1 = multiply(invert(isAfter ? beforeTransform2 : beforeTransform, 4), nextTargetMatrix, 4);\n  // res3 = res2 * A-1\n  var afterTargetMatrix = multiply(res1, invert(isAfter ? afterTransform2 : afterTransform, 4), 4);\n  return afterTargetMatrix;\n}\nfunction getBeforeDragDist(_a) {\n  var datas = _a.datas,distX = _a.distX,distY = _a.distY;\n  // TT = BT\n  var inverseBeforeMatrix = datas.inverseBeforeMatrix,is3d = datas.is3d,startDragBeforeDist = datas.startDragBeforeDist,absoluteOrigin = datas.absoluteOrigin;\n  var n = is3d ? 4 : 3;\n  // ABS_ORIGIN * [distX, distY] = BM * (ORIGIN + [tx, ty])\n  // BM -1 * ABS_ORIGIN * [distX, distY] - ORIGIN = [tx, ty]\n  return minus(calculate(inverseBeforeMatrix, plus(absoluteOrigin, [distX, distY]), n), startDragBeforeDist);\n}\nfunction getDragDist(_a, isBefore) {\n  var datas = _a.datas,distX = _a.distX,distY = _a.distY;\n  var inverseBeforeMatrix = datas.inverseBeforeMatrix,inverseMatrix = datas.inverseMatrix,is3d = datas.is3d,startDragBeforeDist = datas.startDragBeforeDist,startDragDist = datas.startDragDist,absoluteOrigin = datas.absoluteOrigin;\n  var n = is3d ? 4 : 3;\n  return minus(calculate(isBefore ? inverseBeforeMatrix : inverseMatrix, plus(absoluteOrigin, [distX, distY]), n), isBefore ? startDragBeforeDist : startDragDist);\n}\nfunction getInverseDragDist(_a, isBefore) {\n  var datas = _a.datas,distX = _a.distX,distY = _a.distY;\n  var beforeMatrix = datas.beforeMatrix,matrix = datas.matrix,is3d = datas.is3d,startDragBeforeDist = datas.startDragBeforeDist,startDragDist = datas.startDragDist,absoluteOrigin = datas.absoluteOrigin;\n  var n = is3d ? 4 : 3;\n  return minus(calculate(isBefore ? beforeMatrix : matrix, plus(isBefore ? startDragBeforeDist : startDragDist, [distX, distY]), n), absoluteOrigin);\n}\nfunction calculateTransformOrigin(transformOrigin, width, height, prevWidth, prevHeight, prevOrigin) {\n  if (prevWidth === void 0) {prevWidth = width;}\n  if (prevHeight === void 0) {prevHeight = height;}\n  if (prevOrigin === void 0) {prevOrigin = [0, 0];}\n  if (!transformOrigin) {\n    return prevOrigin;\n  }\n  return transformOrigin.map(function (pos, i) {\n    var _a = splitUnit(pos),value = _a.value,unit = _a.unit;\n    var prevSize = i ? prevHeight : prevWidth;\n    var size = i ? height : width;\n    if (pos === \"%\" || isNaN(value)) {\n      // no value but %\n      var measureRatio = prevSize ? prevOrigin[i] / prevSize : 0;\n      return size * measureRatio;\n    } else\n    if (unit !== \"%\") {\n      return value;\n    }\n    return size * value / 100;\n  });\n}\nfunction getPosIndexesByDirection(direction) {\n  var indexes = [];\n  if (direction[1] >= 0) {\n    if (direction[0] >= 0) {\n      indexes.push(3);\n    }\n    if (direction[0] <= 0) {\n      indexes.push(2);\n    }\n  }\n  if (direction[1] <= 0) {\n    if (direction[0] >= 0) {\n      indexes.push(1);\n    }\n    if (direction[0] <= 0) {\n      indexes.push(0);\n    }\n  }\n  return indexes;\n}\nfunction getPosesByDirection(poses, direction) {\n  /*\r\n  [-1, -1](pos1)       [0, -1](pos1,pos2)       [1, -1](pos2)\r\n  [-1, 0](pos1, pos3)                           [1, 0](pos2, pos4)\r\n  [-1, 1](pos3)        [0, 1](pos3, pos4)       [1, 1](pos4)\r\n  */\n  return getPosIndexesByDirection(direction).map(function (index) {return poses[index];});\n}\nfunction getPosBySingleDirection(poses, direction) {\n  var ratio = (direction + 1) / 2;\n  return [\n  dot(poses[0][0], poses[1][0], ratio, 1 - ratio),\n  dot(poses[0][1], poses[1][1], ratio, 1 - ratio)];\n\n}\nfunction getPosByDirection(poses, direction) {\n  var top = getPosBySingleDirection([poses[0], poses[1]], direction[0]);\n  var bottom = getPosBySingleDirection([poses[2], poses[3]], direction[0]);\n  return getPosBySingleDirection([top, bottom], direction[1]);\n}\nfunction getDist(startPos, matrix, width, height, n, fixedDirection) {\n  var poses = calculatePoses(matrix, width, height, n);\n  var fixedPos = getPosByDirection(poses, fixedDirection);\n  var distX = startPos[0] - fixedPos[0];\n  var distY = startPos[1] - fixedPos[1];\n  return [distX, distY];\n}\nfunction getNextMatrix(offsetMatrix, targetMatrix, origin, n) {\n  return multiply(offsetMatrix, getAbsoluteMatrix(targetMatrix, n, origin), n);\n}\nfunction getNextTransformMatrix(state, datas, transform, isAllTransform) {\n  var transformOrigin = state.transformOrigin,offsetMatrix = state.offsetMatrix,is3d = state.is3d;\n  var n = is3d ? 4 : 3;\n  var targetTransform;\n  if (isString(transform)) {\n    var beforeTransform = datas.beforeTransform,afterTransform = datas.afterTransform;\n    if (isAllTransform) {\n      targetTransform = convertDimension(parseMat(transform), 4, n);\n    } else\n    {\n      targetTransform = convertDimension(multiply(multiply(beforeTransform, parseMat([transform]), 4), afterTransform, 4), 4, n);\n    }\n  } else\n  {\n    targetTransform = transform;\n  }\n  return getNextMatrix(offsetMatrix, targetTransform, transformOrigin, n);\n}\nfunction scaleMatrix(state, scale) {\n  var transformOrigin = state.transformOrigin,offsetMatrix = state.offsetMatrix,is3d = state.is3d,targetMatrix = state.targetMatrix,targetAllTransform = state.targetAllTransform;\n  var n = is3d ? 4 : 3;\n  return getNextMatrix(offsetMatrix, multiply(targetAllTransform || targetMatrix, createScaleMatrix(scale, n), n), transformOrigin, n);\n}\nfunction fillTransformStartEvent(moveable, e) {\n  var originalDatas = getBeforeRenderableDatas(e);\n  return {\n    setTransform: function (transform, index) {\n      if (index === void 0) {index = -1;}\n      originalDatas.startTransforms = isArray(transform) ? transform : splitSpace(transform);\n      setTransformIndex(moveable, e, index);\n    },\n    setTransformIndex: function (index) {\n      setTransformIndex(moveable, e, index);\n    }\n  };\n}\nfunction setDefaultTransformIndex(moveable, e, property) {\n  var originalDatas = getBeforeRenderableDatas(e);\n  var startTransforms = originalDatas.startTransforms;\n  setTransformIndex(moveable, e, findIndex(startTransforms, function (func) {return func.indexOf(\"\".concat(property, \"(\")) === 0;}));\n}\nfunction setTransformIndex(moveable, e, index) {\n  var originalDatas = getBeforeRenderableDatas(e);\n  var datas = e.datas;\n  datas.transformIndex = index;\n  if (index === -1) {\n    return;\n  }\n  var transform = originalDatas.startTransforms[index];\n  if (!transform) {\n    return;\n  }\n  var state = moveable.state;\n  var info = parse([transform], {\n    \"x%\": function (v) {return v / 100 * state.offsetWidth;},\n    \"y%\": function (v) {return v / 100 * state.offsetHeight;}\n  });\n  datas.startValue = info[0].functionValue;\n}\nfunction fillOriginalTransform(e, transform) {\n  var originalDatas = getBeforeRenderableDatas(e);\n  originalDatas.nextTransforms = splitSpace(transform);\n  // originalDatas.nextTargetMatrix = parseMat(transform);\n}\nfunction getBeforeRenderableDatas(e) {\n  return e.originalDatas.beforeRenderable;\n}\nfunction getNextTransforms(e) {\n  var originalDatas = e.originalDatas.beforeRenderable;\n  return originalDatas.nextTransforms;\n}\nfunction getNextTransformText(e) {\n  return (getNextTransforms(e) || []).join(\" \");\n}\nfunction getNextStyle(e) {\n  return getBeforeRenderableDatas(e).nextStyle;\n}\nfunction fillTransformEvent(moveable, nextTransform, delta, isPinch, e) {\n  fillOriginalTransform(e, nextTransform);\n  var drag = Draggable.drag(moveable, setCustomDrag(e, moveable.state, delta, isPinch, false));\n  var afterTransform = drag ? drag.transform : nextTransform;\n  return __assign(__assign({ transform: nextTransform, drag: drag }, fillCSSObject({\n    transform: afterTransform\n  }, e)), { afterTransform: afterTransform });\n}\nfunction getTranslateFixedPosition(moveable, transform, fixedDirection, fixedOffset, datas, isAllTransform) {\n  var nextMatrix = getNextTransformMatrix(moveable.state, datas, transform, isAllTransform);\n  var nextFixedPosition = getDirectionOffset(moveable, fixedDirection, fixedOffset, nextMatrix);\n  return nextFixedPosition;\n}\nfunction getTranslateDist(moveable, transform, fixedDirection, fixedPosition, fixedOffset, datas, isAllTransform) {\n  var nextFixedPosition = getTranslateFixedPosition(moveable, transform, fixedDirection, fixedOffset, datas, isAllTransform);\n  var state = moveable.state;\n  var left = state.left,top = state.top;\n  var groupable = moveable.props.groupable;\n  var groupLeft = groupable ? left : 0;\n  var groupTop = groupable ? top : 0;\n  var dist = minus(fixedPosition, nextFixedPosition);\n  return minus(dist, [groupLeft, groupTop]);\n}\nfunction getScaleDist(moveable, transform, fixedDirection, fixedPosition, fixedOffset, datas, isAllTransform) {\n  var dist = getTranslateDist(moveable, transform, fixedDirection, fixedPosition, fixedOffset, datas, isAllTransform);\n  return dist;\n}\nfunction getDirectionByPos(pos, width, height) {\n  return [\n  width ? -1 + pos[0] / (width / 2) : 0,\n  height ? -1 + pos[1] / (height / 2) : 0];\n\n}\nfunction getDirectionOffset(moveable, fixedDirection, fixedOffset, nextMatrix) {\n  if (nextMatrix === void 0) {nextMatrix = moveable.state.allMatrix;}\n  var _a = moveable.state,width = _a.width,height = _a.height,is3d = _a.is3d;\n  var n = is3d ? 4 : 3;\n  var fixedOffsetPosition = [\n  width / 2 * (1 + fixedDirection[0]) + fixedOffset[0],\n  height / 2 * (1 + fixedDirection[1]) + fixedOffset[1]];\n\n  return calculatePosition(nextMatrix, fixedOffsetPosition, n);\n}\nfunction getRotateDist(moveable, rotateDist, datas) {\n  var fixedDirection = datas.fixedDirection;\n  var fixedPosition = datas.fixedPosition;\n  var fixedOffset = datas.fixedOffset;\n  return getTranslateDist(moveable, \"rotate(\".concat(rotateDist, \"deg)\"), fixedDirection, fixedPosition, fixedOffset, datas);\n}\nfunction getResizeDist(moveable, width, height, fixedPosition, transformOrigin, datas) {\n  var groupable = moveable.props.groupable;\n  var state = moveable.state;\n  var prevOrigin = state.transformOrigin,offsetMatrix = state.offsetMatrix,is3d = state.is3d,prevWidth = state.width,prevHeight = state.height,left = state.left,top = state.top;\n  var fixedDirection = datas.fixedDirection;\n  var targetMatrix = datas.nextTargetMatrix || state.targetMatrix;\n  var n = is3d ? 4 : 3;\n  var nextOrigin = calculateTransformOrigin(transformOrigin, width, height, prevWidth, prevHeight, prevOrigin);\n  var groupLeft = groupable ? left : 0;\n  var groupTop = groupable ? top : 0;\n  var nextMatrix = getNextMatrix(offsetMatrix, targetMatrix, nextOrigin, n);\n  var dist = getDist(fixedPosition, nextMatrix, width, height, n, fixedDirection);\n  return minus(dist, [groupLeft, groupTop]);\n}\nfunction getAbsolutePosition(moveable, direction) {\n  return getPosByDirection(getAbsolutePosesByState(moveable.state), direction);\n}\n\nfunction getGestoData(moveable, ableName) {\n  var targetGesto = moveable.targetGesto;\n  var controlGesto = moveable.controlGesto;\n  var data;\n  if (targetGesto === null || targetGesto === void 0 ? void 0 : targetGesto.isFlag()) {\n    data = targetGesto.getEventData()[ableName];\n  }\n  if (!data && (controlGesto === null || controlGesto === void 0 ? void 0 : controlGesto.isFlag())) {\n    data = controlGesto.getEventData()[ableName];\n  }\n  return data || {};\n}\n\nfunction getShadowRoot(parentElement) {\n  if (parentElement && parentElement.getRootNode) {\n    var rootNode = parentElement.getRootNode();\n    if (rootNode.nodeType === 11) {\n      return rootNode;\n    }\n  }\n  return;\n}\nfunction getIndividualTransforms(getStyle) {\n  var scale = getStyle(\"scale\");\n  var rotate = getStyle(\"rotate\");\n  var translate = getStyle(\"translate\");\n  var individualTransforms = [];\n  if (translate && translate !== \"0px\" && translate !== \"none\") {\n    individualTransforms.push(\"translate(\".concat(translate.split(/\\s+/).join(\",\"), \")\"));\n  }\n  if (rotate && rotate !== \"1\" && rotate !== \"none\") {\n    individualTransforms.push(\"rotate(\".concat(rotate, \")\"));\n  }\n  if (scale && scale !== \"1\" && scale !== \"none\") {\n    individualTransforms.push(\"scale(\".concat(scale.split(/\\s+/).join(\",\"), \")\"));\n  }\n  return individualTransforms;\n}\nfunction getMatrixStackInfo(target, container, checkContainer) {\n  var el = target;\n  var matrixes = [];\n  var documentElement = getDocumentElement(target) || getDocumentBody(target);\n  var requestEnd = !checkContainer && target === container || target === documentElement;\n  var isEnd = requestEnd;\n  var is3d = false;\n  var n = 3;\n  var transformOrigin;\n  var targetTransformOrigin;\n  var targetMatrix;\n  var hasFixed = false;\n  var offsetContainer = getOffsetInfo(container, container, true).offsetParent;\n  var zoom = 1;\n  while (el && !isEnd) {\n    isEnd = requestEnd;\n    var getStyle = getCachedStyle(el);\n    var position = getStyle(\"position\");\n    var transform = getElementTransform(el);\n    var isFixed = position === \"fixed\";\n    var individualTransforms = getIndividualTransforms(getStyle);\n    var matrix = convertCSStoMatrix(getTransformMatrix(transform));\n    var offsetParent = void 0;\n    var isOffsetEnd = false;\n    var isStatic = false;\n    var parentClientLeft = 0;\n    var parentClientTop = 0;\n    var fixedClientLeft = 0;\n    var fixedClientTop = 0;\n    var fixedInfo = {\n      hasTransform: false,\n      fixedContainer: null\n    };\n    if (isFixed) {\n      hasFixed = true;\n      fixedInfo = getPositionFixedInfo(el);\n      offsetContainer = fixedInfo.fixedContainer;\n    }\n    // convert 3 to 4\n    var length_1 = matrix.length;\n    if (!is3d && (length_1 === 16 || individualTransforms.length)) {\n      is3d = true;\n      n = 4;\n      convert3DMatrixes(matrixes);\n      if (targetMatrix) {\n        targetMatrix = convertDimension(targetMatrix, 3, 4);\n      }\n    }\n    if (is3d && length_1 === 9) {\n      matrix = convertDimension(matrix, 3, 4);\n    }\n    var _a = getOffsetPosInfo(el, target),tagName = _a.tagName,hasOffset = _a.hasOffset,isSVG = _a.isSVG,origin_1 = _a.origin,targetOrigin = _a.targetOrigin,offsetPos = _a.offset;\n    var _b = __read(offsetPos, 2),offsetLeft = _b[0],offsetTop = _b[1];\n    // no target with svg\n    if (tagName === \"svg\" && !el.ownerSVGElement && targetMatrix) {\n      // scale matrix for svg's SVGElements.\n      matrixes.push({\n        type: \"target\",\n        target: el,\n        matrix: getSVGMatrix(el, n)\n      });\n      matrixes.push({\n        type: \"offset\",\n        target: el,\n        matrix: createIdentityMatrix(n)\n      });\n    }\n    var targetZoom = parseFloat(getStyle(\"zoom\")) || 1;\n    if (isFixed) {\n      offsetParent = fixedInfo.fixedContainer;\n      isOffsetEnd = true;\n    } else\n    {\n      var offsetInfo = getOffsetInfo(el, container, false, true, getStyle);\n      var offsetZoom = offsetInfo.offsetZoom;\n      offsetParent = offsetInfo.offsetParent;\n      isOffsetEnd = offsetInfo.isEnd;\n      isStatic = offsetInfo.isStatic;\n      zoom *= offsetZoom;\n      if ((offsetInfo.isCustomElement || offsetZoom !== 1) && isStatic) {\n        offsetLeft -= offsetParent.offsetLeft;\n        offsetTop -= offsetParent.offsetTop;\n      } else\n      if (IS_FIREFOX || IS_CHROMIUM109) {\n        var parentSlotElement = offsetInfo.parentSlotElement;\n        if (parentSlotElement) {\n          var customOffsetParent = offsetParent;\n          var customOffsetLeft = 0;\n          var customOffsetTop = 0;\n          while (customOffsetParent) {\n            if (!getShadowRoot(customOffsetParent)) {\n              break;\n            }\n            customOffsetLeft += customOffsetParent.offsetLeft;\n            customOffsetTop += customOffsetParent.offsetTop;\n            customOffsetParent = customOffsetParent.offsetParent;\n          }\n          offsetLeft -= customOffsetLeft;\n          offsetTop -= customOffsetTop;\n        }\n      }\n    }\n    if (IS_WEBKIT && !IS_SAFARI_ABOVE15 &&\n    hasOffset && !isSVG && isStatic && (\n    position === \"relative\" || position === \"static\")) {\n      offsetLeft -= offsetParent.offsetLeft;\n      offsetTop -= offsetParent.offsetTop;\n      requestEnd = requestEnd || isOffsetEnd;\n    }\n    if (isFixed) {\n      if (hasOffset && fixedInfo.hasTransform) {\n        // border\n        fixedClientLeft = offsetParent.clientLeft;\n        fixedClientTop = offsetParent.clientTop;\n      }\n    } else\n    {\n      if (hasOffset && offsetContainer !== offsetParent) {\n        // border\n        parentClientLeft = offsetParent.clientLeft;\n        parentClientTop = offsetParent.clientTop;\n      }\n      if (hasOffset && offsetParent === documentElement) {\n        var margin = getBodyOffset(el, false);\n        offsetLeft += margin[0];\n        offsetTop += margin[1];\n      }\n    }\n    matrixes.push({\n      type: \"target\",\n      target: el,\n      matrix: getAbsoluteMatrix(matrix, n, origin_1)\n    });\n    if (individualTransforms.length) {\n      matrixes.push({\n        type: \"offset\",\n        target: el,\n        matrix: createIdentityMatrix(n)\n      });\n      matrixes.push({\n        type: \"target\",\n        target: el,\n        matrix: getAbsoluteMatrix(parseMat(individualTransforms), n, origin_1)\n      });\n    }\n    if (hasOffset) {\n      var isElementTarget = el === target;\n      var scrollLeft = isElementTarget ? 0 : el.scrollLeft;\n      var scrollTop = isElementTarget ? 0 : el.scrollTop;\n      matrixes.push({\n        type: \"offset\",\n        target: el,\n        matrix: createOriginMatrix([\n        offsetLeft - scrollLeft + parentClientLeft - fixedClientLeft,\n        offsetTop - scrollTop + parentClientTop - fixedClientTop],\n        n)\n      });\n    } else\n    {\n      // svg\n      matrixes.push({\n        type: \"offset\",\n        target: el,\n        origin: origin_1\n      });\n    }\n    // transform\uC73C\uB85C \uACC4\uC0B0\uB418\uC9C0 \uC54A\uB294 zoom\uC744 \uC704\uD55C (0, 0) \uC744 \uAE30\uC900 matrix \uCD94\uAC00.\n    if (targetZoom !== 1) {\n      matrixes.push({\n        type: \"zoom\",\n        target: el,\n        matrix: getAbsoluteMatrix(createScaleMatrix([targetZoom, targetZoom], n), n, [0, 0])\n      });\n    }\n    if (!targetMatrix) {\n      targetMatrix = matrix;\n    }\n    if (!transformOrigin) {\n      transformOrigin = origin_1;\n    }\n    if (!targetTransformOrigin) {\n      targetTransformOrigin = targetOrigin;\n    }\n    if (isEnd || isFixed) {\n      break;\n    } else\n    {\n      el = offsetParent;\n      requestEnd = isOffsetEnd;\n    }\n    if (!checkContainer || el === documentElement) {\n      isEnd = requestEnd;\n    }\n  }\n  if (!targetMatrix) {\n    targetMatrix = createIdentityMatrix(n);\n  }\n  if (!transformOrigin) {\n    transformOrigin = [0, 0];\n  }\n  if (!targetTransformOrigin) {\n    targetTransformOrigin = [0, 0];\n  }\n  return {\n    zoom: zoom,\n    offsetContainer: offsetContainer,\n    matrixes: matrixes,\n    targetMatrix: targetMatrix,\n    transformOrigin: transformOrigin,\n    targetOrigin: targetTransformOrigin,\n    is3d: is3d,\n    hasFixed: hasFixed\n  };\n}\n\nvar cacheStyleMap = null;\nvar clientRectStyleMap = null;\nvar matrixContainerInfos = null;\nfunction setStoreCache(useCache) {\n  if (useCache) {\n    if (window.Map) {\n      cacheStyleMap = new Map();\n      clientRectStyleMap = new Map();\n    }\n    matrixContainerInfos = [];\n  } else\n  {\n    cacheStyleMap = null;\n    matrixContainerInfos = null;\n    clientRectStyleMap = null;\n  }\n}\nfunction getCachedClientRect(el) {\n  var clientRect = clientRectStyleMap === null || clientRectStyleMap === void 0 ? void 0 : clientRectStyleMap.get(el);\n  if (clientRect) {\n    return clientRect;\n  }\n  var nextClientRect = getClientRect(el, true);\n  if (clientRectStyleMap) {\n    clientRectStyleMap.set(el, nextClientRect);\n  }\n  return nextClientRect;\n}\nfunction getCachedMatrixContainerInfo(target, container) {\n  if (matrixContainerInfos) {\n    var result_1 = find(matrixContainerInfos, function (info) {return info[0][0] == target && info[0][1] == container;});\n    if (result_1) {\n      return result_1[1];\n    }\n  }\n  var result = getMatrixStackInfo(target, container, true);\n  if (matrixContainerInfos) {\n    matrixContainerInfos.push([[target, container], result]);\n  }\n  return result;\n}\nfunction getCachedStyle(element) {\n  var cache = cacheStyleMap === null || cacheStyleMap === void 0 ? void 0 : cacheStyleMap.get(element);\n  if (!cache) {\n    var nextStyle_1 = getWindow(element).getComputedStyle(element);\n    if (!cacheStyleMap) {\n      return function (property) {\n        return nextStyle_1[property];\n      };\n    }\n    cache = {\n      style: nextStyle_1,\n      cached: {}\n    };\n    cacheStyleMap.set(element, cache);\n  }\n  var cached = cache.cached;\n  var style = cache.style;\n  return function (property) {\n    if (!(property in cached)) {\n      cached[property] = style[property];\n    }\n    return cached[property];\n  };\n}\n\nfunction fillChildEvents(moveable, name, e) {\n  var datas = e.originalDatas;\n  datas.groupable = datas.groupable || {};\n  var groupableDatas = datas.groupable;\n  groupableDatas.childDatas = groupableDatas.childDatas || [];\n  var childDatas = groupableDatas.childDatas;\n  return moveable.moveables.map(function (_, i) {\n    childDatas[i] = childDatas[i] || {};\n    childDatas[i][name] = childDatas[i][name] || {};\n    return __assign(__assign({}, e), { isRequestChild: true, datas: childDatas[i][name], originalDatas: childDatas[i] });\n  });\n}\nfunction triggerChildGesto(moveable, able, type, delta, e, isConvert, ableName) {\n  var isStart = !!type.match(/Start$/g);\n  var isEnd = !!type.match(/End$/g);\n  var isPinch = e.isPinch;\n  var datas = e.datas;\n  var events = fillChildEvents(moveable, able.name, e);\n  var moveables = moveable.moveables;\n  var childEvents = [];\n  var eventParams = events.map(function (ev, i) {\n    var childMoveable = moveables[i];\n    var state = childMoveable.state;\n    var gestos = state.gestos;\n    var childEvent = ev;\n    if (isStart) {\n      childEvent = new CustomGesto(ableName).dragStart(delta, ev);\n      childEvents.push(childEvent);\n    } else\n    {\n      if (!gestos[ableName]) {\n        gestos[ableName] = datas.childGestos[i];\n      }\n      if (!gestos[ableName]) {\n        return;\n      }\n      childEvent = setCustomDrag(ev, state, delta, isPinch, isConvert, ableName);\n      childEvents.push(childEvent);\n    }\n    var result = able[type](childMoveable, __assign(__assign({}, childEvent), { parentFlag: true }));\n    if (isEnd) {\n      gestos[ableName] = null;\n    }\n    return result;\n  });\n  if (isStart) {\n    datas.childGestos = moveables.map(function (child) {return child.state.gestos[ableName];});\n  }\n  return {\n    eventParams: eventParams,\n    childEvents: childEvents\n  };\n}\nfunction triggerChildAbles(moveable, able, type, e, eachEvent, callback) {\n  if (eachEvent === void 0) {eachEvent = function (_, ev) {return ev;};}\n  var isEnd = !!type.match(/End$/g);\n  var events = fillChildEvents(moveable, able.name, e);\n  var moveables = moveable.moveables;\n  var childs = events.map(function (ev, i) {\n    var childMoveable = moveables[i];\n    var childEvent = ev;\n    childEvent = eachEvent(childMoveable, ev);\n    var result = able[type](childMoveable, __assign(__assign({}, childEvent), { parentFlag: true }));\n    result && callback && callback(childMoveable, ev, result, i);\n    if (isEnd) {\n      childMoveable.state.gestos = {};\n    }\n    return result;\n  });\n  return childs;\n}\nfunction startChildDist(moveable, child, parentDatas, childEvent) {\n  var fixedDirection = parentDatas.fixedDirection;\n  var fixedPosition = parentDatas.fixedPosition;\n  var startPositions = childEvent.datas.startPositions || getAbsolutePosesByState(child.state);\n  var pos = getPosByDirection(startPositions, fixedDirection);\n  var _a = __read(calculate(createRotateMatrix(-moveable.rotation / 180 * Math.PI, 3), [pos[0] - fixedPosition[0], pos[1] - fixedPosition[1], 1], 3), 2),originalX = _a[0],originalY = _a[1];\n  childEvent.datas.originalX = originalX;\n  childEvent.datas.originalY = originalY;\n  return childEvent;\n}\n\nfunction renderDirectionControlsByInfos(moveable, ableName, renderDirections, React) {\n  var _a = moveable.getState(),renderPoses = _a.renderPoses,rotationRad = _a.rotation,direction = _a.direction;\n  var zoom = getProps(moveable.props, ableName).zoom;\n  var degRotation = absDegree(rotationRad / Math.PI * 180);\n  var directionMap = {};\n  var renderState = moveable.renderState;\n  if (!renderState.renderDirectionMap) {\n    renderState.renderDirectionMap = {};\n  }\n  var renderDirectionMap = renderState.renderDirectionMap;\n  renderDirections.forEach(function (_a) {\n    var dir = _a.dir;\n    directionMap[dir] = true;\n  });\n  var directionSign = sign(direction);\n  return renderDirections.map(function (_a) {\n    var data = _a.data,classNames = _a.classNames,dir = _a.dir;\n    var indexes = DIRECTION_INDEXES[dir];\n    if (!indexes || !directionMap[dir]) {\n      return null;\n    }\n    renderDirectionMap[dir] = true;\n    var directionRotation = (throttle(degRotation, 15) + directionSign * DIRECTION_ROTATIONS[dir] + 720) % 180;\n    var dataAttrs = {};\n    getKeys(data).forEach(function (name) {\n      dataAttrs[\"data-\".concat(name)] = data[name];\n    });\n    return React.createElement(\"div\", __assign({ className: prefix.apply(void 0, __spreadArray([\"control\", \"direction\", dir, ableName], __read(classNames), false)), \"data-rotation\": directionRotation, \"data-direction\": dir }, dataAttrs, { key: \"direction-\".concat(dir), style: getControlTransform.apply(void 0, __spreadArray([rotationRad, zoom], __read(indexes.map(function (index) {return renderPoses[index];})), false)) }));\n  });\n}\nfunction renderDirectionControls(moveable, defaultDirections, ableName, React) {\n  var _a = getProps(moveable.props, ableName),_b = _a.renderDirections,directions = _b === void 0 ? defaultDirections : _b,displayAroundControls = _a.displayAroundControls;\n  if (!directions) {\n    return [];\n  }\n  var renderDirections = directions === true ? DIRECTIONS : directions;\n  return __spreadArray(__spreadArray([], __read(displayAroundControls ? renderAroundControls(moveable, React, ableName, renderDirections) : []), false), __read(renderDirectionControlsByInfos(moveable, ableName, renderDirections.map(function (dir) {\n    return {\n      data: {},\n      classNames: [],\n      dir: dir\n    };\n  }), React)), false);\n}\nfunction renderLine(React, direction, pos1, pos2, zoom, key) {\n  var classNames = [];\n  for (var _i = 6; _i < arguments.length; _i++) {\n    classNames[_i - 6] = arguments[_i];\n  }\n  var rad = getRad(pos1, pos2);\n  var rotation = direction ? throttle(rad / Math.PI * 180, 15) % 180 : -1;\n  return React.createElement(\"div\", { key: \"line-\".concat(key), className: prefix.apply(void 0, __spreadArray([\"line\", \"direction\", direction ? \"edge\" : \"\", direction], __read(classNames), false)), \"data-rotation\": rotation, \"data-line-key\": key, \"data-direction\": direction, style: getLineStyle(pos1, pos2, zoom, rad) });\n}\nfunction renderEdgeLines(React, ableName, edge, poses, zoom) {\n  var directions = edge === true ? DIRECTIONS4 : edge;\n  return directions.map(function (direction, i) {\n    var _a = __read(DIRECTION_INDEXES[direction], 2),index1 = _a[0],index2 = _a[1];\n    if (index2 == null) {\n      return;\n    }\n    return renderLine(React, direction, poses[index1], poses[index2], zoom, \"\".concat(ableName, \"Edge\").concat(i), ableName);\n  }).filter(Boolean);\n}\nfunction getRenderDirections(ableName) {\n  return function (moveable, React) {\n    var edge = getProps(moveable.props, ableName).edge;\n    if (edge && (edge === true || edge.length)) {\n      return __spreadArray(__spreadArray([], __read(renderEdgeLines(React, ableName, edge, moveable.getState().renderPoses, moveable.props.zoom)), false), __read(renderDiagonalDirections(moveable, ableName, React)), false);\n    }\n    return renderAllDirections(moveable, ableName, React);\n  };\n}\nfunction renderAllDirections(moveable, ableName, React) {\n  return renderDirectionControls(moveable, DIRECTIONS, ableName, React);\n}\nfunction renderDiagonalDirections(moveable, ableName, React) {\n  return renderDirectionControls(moveable, [\"nw\", \"ne\", \"sw\", \"se\"], ableName, React);\n}\nfunction renderAroundControls(moveable, React, ableName, renderDirections) {\n  var renderState = moveable.renderState;\n  if (!renderState.renderDirectionMap) {\n    renderState.renderDirectionMap = {};\n  }\n  var _a = moveable.getState(),renderPoses = _a.renderPoses,rotationRad = _a.rotation,direction = _a.direction;\n  var renderDirectionMap = renderState.renderDirectionMap;\n  var zoom = moveable.props.zoom;\n  var directionSign = sign(direction);\n  var degRotation = rotationRad / Math.PI * 180;\n  return (renderDirections || getKeys(renderDirectionMap)).map(function (dir) {\n    var indexes = DIRECTION_INDEXES[dir];\n    if (!indexes) {\n      return null;\n    }\n    var directionRotation = (throttle(degRotation, 15) + directionSign * DIRECTION_ROTATIONS[dir] + 720) % 180;\n    var classNames = [\"around-control\"];\n    if (ableName) {\n      classNames.push(\"direction\", ableName);\n    }\n    return React.createElement(\"div\", { className: prefix.apply(void 0, __spreadArray([], __read(classNames), false)), \"data-rotation\": directionRotation, \"data-direction\": dir, key: \"direction-around-\".concat(dir), style: getControlTransform.apply(void 0, __spreadArray([rotationRad, zoom], __read(indexes.map(function (index) {return renderPoses[index];})), false)) });\n  });\n}\n\nfunction checkBoundPoses(bounds, verticalPoses, horizontalPoses) {\n  var _a = bounds || {},_b = _a.position,position = _b === void 0 ? \"client\" : _b,_c = _a.left,left = _c === void 0 ? -Infinity : _c,_d = _a.top,top = _d === void 0 ? -Infinity : _d,_e = _a.right,right = _e === void 0 ? Infinity : _e,_f = _a.bottom,bottom = _f === void 0 ? Infinity : _f;\n  var nextBounds = {\n    position: position,\n    left: left,\n    top: top,\n    right: right,\n    bottom: bottom\n  };\n  return {\n    vertical: checkBounds(nextBounds, verticalPoses, true),\n    horizontal: checkBounds(nextBounds, horizontalPoses, false)\n  };\n}\nfunction getBounds(moveable, externalBounds) {\n  var _a = moveable.state,_b = _a.containerClientRect,containerHeight = _b.clientHeight,containerWidth = _b.clientWidth,clientLeft = _b.clientLeft,clientTop = _b.clientTop,_c = _a.snapOffset,snapOffsetLeft = _c.left,snapOffsetTop = _c.top,snapOffsetRight = _c.right,snapOffsetBottom = _c.bottom;\n  var bounds = externalBounds || moveable.props.bounds || {};\n  var position = bounds.position || \"client\";\n  var isCSS = position === \"css\";\n  var _d = bounds.left,left = _d === void 0 ? -Infinity : _d,_e = bounds.top,top = _e === void 0 ? -Infinity : _e;\n  var _f = bounds.right,right = _f === void 0 ? isCSS ? -Infinity : Infinity : _f,_g = bounds.bottom,bottom = _g === void 0 ? isCSS ? -Infinity : Infinity : _g;\n  if (isCSS) {\n    right = containerWidth + snapOffsetRight - snapOffsetLeft - right;\n    bottom = containerHeight + snapOffsetBottom - snapOffsetTop - bottom;\n  }\n  return {\n    left: left + snapOffsetLeft - clientLeft,\n    right: right + snapOffsetLeft - clientLeft,\n    top: top + snapOffsetTop - clientTop,\n    bottom: bottom + snapOffsetTop - clientTop\n  };\n}\nfunction checkBoundKeepRatio(moveable, startPos, endPos) {\n  var _a = getBounds(moveable),left = _a.left,top = _a.top,right = _a.right,bottom = _a.bottom;\n  var _b = __read(endPos, 2),endX = _b[0],endY = _b[1];\n  var _c = __read(minus(endPos, startPos), 2),dx = _c[0],dy = _c[1];\n  if (abs(dx) < TINY_NUM) {\n    dx = 0;\n  }\n  if (abs(dy) < TINY_NUM) {\n    dy = 0;\n  }\n  var isBottom = dy > 0;\n  var isRight = dx > 0;\n  var verticalInfo = {\n    isBound: false,\n    offset: 0,\n    pos: 0\n  };\n  var horizontalInfo = {\n    isBound: false,\n    offset: 0,\n    pos: 0\n  };\n  if (dx === 0 && dy === 0) {\n    return {\n      vertical: verticalInfo,\n      horizontal: horizontalInfo\n    };\n  } else\n  if (dx === 0) {\n    if (isBottom) {\n      if (bottom < endY) {\n        horizontalInfo.pos = bottom;\n        horizontalInfo.offset = endY - bottom;\n      }\n    } else\n    {\n      if (top > endY) {\n        horizontalInfo.pos = top;\n        horizontalInfo.offset = endY - top;\n      }\n    }\n  } else\n  if (dy === 0) {\n    if (isRight) {\n      if (right < endX) {\n        verticalInfo.pos = right;\n        verticalInfo.offset = endX - right;\n      }\n    } else\n    {\n      if (left > endX) {\n        verticalInfo.pos = left;\n        verticalInfo.offset = endX - left;\n      }\n    }\n  } else\n  {\n    // y - y1 = a * (x - x1)\n    var a = dy / dx;\n    var b = endPos[1] - a * endX;\n    var y = 0;\n    var x = 0;\n    var isBound = false;\n    if (isRight && right <= endX) {\n      y = a * right + b;\n      x = right;\n      isBound = true;\n    } else\n    if (!isRight && endX <= left) {\n      y = a * left + b;\n      x = left;\n      isBound = true;\n    }\n    if (isBound) {\n      if (y < top || y > bottom) {\n        isBound = false;\n      }\n    }\n    if (!isBound) {\n      if (isBottom && bottom <= endY) {\n        y = bottom;\n        x = (y - b) / a;\n        isBound = true;\n      } else\n      if (!isBottom && endY <= top) {\n        y = top;\n        x = (y - b) / a;\n        isBound = true;\n      }\n    }\n    if (isBound) {\n      verticalInfo.isBound = true;\n      verticalInfo.pos = x;\n      verticalInfo.offset = endX - x;\n      horizontalInfo.isBound = true;\n      horizontalInfo.pos = y;\n      horizontalInfo.offset = endY - y;\n    }\n  }\n  return {\n    vertical: verticalInfo,\n    horizontal: horizontalInfo\n  };\n}\nfunction checkBounds(bounds, poses, isVertical) {\n  // 0   [100 - 200]  300\n  var startBoundPos = bounds[isVertical ? \"left\" : \"top\"];\n  var endBoundPos = bounds[isVertical ? \"right\" : \"bottom\"];\n  // 450\n  var minPos = Math.min.apply(Math, __spreadArray([], __read(poses), false));\n  var maxPos = Math.max.apply(Math, __spreadArray([], __read(poses), false));\n  var boundInfos = [];\n  if (startBoundPos + 1 > minPos) {\n    boundInfos.push({\n      direction: \"start\",\n      isBound: true,\n      offset: minPos - startBoundPos,\n      pos: startBoundPos\n    });\n  }\n  if (endBoundPos - 1 < maxPos) {\n    boundInfos.push({\n      direction: \"end\",\n      isBound: true,\n      offset: maxPos - endBoundPos,\n      pos: endBoundPos\n    });\n  }\n  if (!boundInfos.length) {\n    boundInfos.push({\n      isBound: false,\n      offset: 0,\n      pos: 0\n    });\n  }\n  return boundInfos.sort(function (a, b) {return abs(b.offset) - abs(a.offset);});\n}\nfunction isBoundRotate$1(relativePoses, boundRect, rad) {\n  var nextPoses = rad ? relativePoses.map(function (pos) {return rotate(pos, rad);}) : relativePoses;\n  return nextPoses.some(function (pos) {\n    return pos[0] < boundRect.left && abs(pos[0] - boundRect.left) > 0.1 ||\n    pos[0] > boundRect.right && abs(pos[0] - boundRect.right) > 0.1 ||\n    pos[1] < boundRect.top && abs(pos[1] - boundRect.top) > 0.1 ||\n    pos[1] > boundRect.bottom && abs(pos[1] - boundRect.bottom) > 0.1;\n  });\n}\nfunction boundRotate(vec, boundPos, index) {\n  var r = getDistSize(vec);\n  var nextPos = Math.sqrt(r * r - boundPos * boundPos) || 0;\n  return [nextPos, -nextPos].sort(function (a, b) {\n    return abs(a - vec[index ? 0 : 1]) - abs(b - vec[index ? 0 : 1]);\n  }).map(function (pos) {\n    return getRad([0, 0], index ? [pos, boundPos] : [boundPos, pos]);\n  });\n}\nfunction checkRotateBounds(moveable, prevPoses, nextPoses, origin, rotation) {\n  if (!moveable.props.bounds) {\n    return [];\n  }\n  var rad = rotation * Math.PI / 180;\n  var _a = getBounds(moveable),left = _a.left,top = _a.top,right = _a.right,bottom = _a.bottom;\n  var relativeLeft = left - origin[0];\n  var relativeRight = right - origin[0];\n  var relativeTop = top - origin[1];\n  var relativeBottom = bottom - origin[1];\n  var boundRect = {\n    left: relativeLeft,\n    top: relativeTop,\n    right: relativeRight,\n    bottom: relativeBottom\n  };\n  if (!isBoundRotate$1(nextPoses, boundRect, 0)) {\n    return [];\n  }\n  var result = [];\n  [\n  [relativeLeft, 0],\n  [relativeRight, 0],\n  [relativeTop, 1],\n  [relativeBottom, 1]].\n  forEach(function (_a) {\n    var _b = __read(_a, 2),boundPos = _b[0],index = _b[1];\n    nextPoses.forEach(function (nextPos) {\n      var relativeRad1 = getRad([0, 0], nextPos);\n      result.push.apply(result, __spreadArray([], __read(boundRotate(nextPos, boundPos, index).\n      map(function (relativeRad2) {return rad + relativeRad2 - relativeRad1;}).\n      filter(function (nextRad) {return !isBoundRotate$1(prevPoses, boundRect, nextRad);}).\n      map(function (nextRad) {return throttle(nextRad * 180 / Math.PI, TINY_NUM);})), false));\n    });\n  });\n  return result;\n}\n\nvar VERTICAL_NAMES = [\"left\", \"right\", \"center\"];\nvar HORIZONTAL_NAMES = [\"top\", \"bottom\", \"middle\"];\nvar SNAP_SKIP_NAMES_MAP = {\n  \"left\": \"start\",\n  \"right\": \"end\",\n  \"center\": \"center\",\n  \"top\": \"start\",\n  \"bottom\": \"end\",\n  \"middle\": \"center\"\n};\nvar VERTICAL_NAMES_MAP = {\n  start: \"left\",\n  end: \"right\",\n  center: \"center\"\n};\nvar HORIZONTAL_NAMES_MAP = {\n  start: \"top\",\n  end: \"bottom\",\n  center: \"middle\"\n};\nfunction getInitialBounds() {\n  return {\n    left: false,\n    top: false,\n    right: false,\n    bottom: false\n  };\n}\nfunction hasGuidelines(moveable, ableName) {\n  var _a = moveable.props,snappable = _a.snappable,bounds = _a.bounds,innerBounds = _a.innerBounds,verticalGuidelines = _a.verticalGuidelines,horizontalGuidelines = _a.horizontalGuidelines,snapGridWidth = _a.snapGridWidth,snapGridHeight = _a.snapGridHeight,_b = moveable.state,guidelines = _b.guidelines,enableSnap = _b.enableSnap;\n  if (!snappable ||\n  !enableSnap ||\n  ableName && snappable !== true && snappable.indexOf(ableName) < 0) {\n    return false;\n  }\n  if (snapGridWidth ||\n  snapGridHeight ||\n  bounds ||\n  innerBounds ||\n  guidelines && guidelines.length ||\n  verticalGuidelines && verticalGuidelines.length ||\n  horizontalGuidelines && horizontalGuidelines.length) {\n    return true;\n  }\n  return false;\n}\nfunction getSnapDirections(snapDirections) {\n  if (snapDirections === false) {\n    return {};\n  } else\n  if (snapDirections === true || !snapDirections) {\n    return { left: true, right: true, top: true, bottom: true };\n  }\n  return snapDirections;\n}\nfunction mapSnapDirectionPoses(snapDirections, snapPoses) {\n  var nextSnapDirections = getSnapDirections(snapDirections);\n  var nextSnapPoses = {};\n  for (var name_1 in nextSnapDirections) {\n    if (name_1 in snapPoses && nextSnapDirections[name_1]) {\n      nextSnapPoses[name_1] = snapPoses[name_1];\n    }\n  }\n  return nextSnapPoses;\n}\nfunction splitSnapDirectionPoses(snapDirections, snapPoses) {\n  var nextSnapPoses = mapSnapDirectionPoses(snapDirections, snapPoses);\n  var horizontalNames = HORIZONTAL_NAMES.filter(function (name) {return name in nextSnapPoses;});\n  var verticalNames = VERTICAL_NAMES.filter(function (name) {return name in nextSnapPoses;});\n  return {\n    horizontalNames: horizontalNames,\n    verticalNames: verticalNames,\n    horizontal: horizontalNames.map(function (name) {return nextSnapPoses[name];}),\n    vertical: verticalNames.map(function (name) {return nextSnapPoses[name];})\n  };\n}\nfunction calculateContainerPos(rootMatrix, containerRect, n) {\n  var clientPos = calculatePosition(rootMatrix, [containerRect.clientLeft, containerRect.clientTop], n);\n  return [\n  containerRect.left + clientPos[0],\n  containerRect.top + clientPos[1]];\n\n}\nfunction solveLineConstants(_a) {\n  var _b = __read(_a, 2),point1 = _b[0],point2 = _b[1];\n  var dx = point2[0] - point1[0];\n  var dy = point2[1] - point1[1];\n  if (Math.abs(dx) < TINY_NUM$1) {\n    dx = 0;\n  }\n  if (Math.abs(dy) < TINY_NUM$1) {\n    dy = 0;\n  }\n  // b > 0\n  // ax + by + c = 0\n  var a = 0;\n  var b = 0;\n  var c = 0;\n  if (!dx) {\n    // -x + 1 = 0\n    a = -1;\n    c = point1[0];\n  } else\n  if (!dy) {\n    // y - 1 = 0\n    b = 1;\n    c = -point1[1];\n  } else\n  {\n    // y = -a(x - x1) + y1\n    // ax + y + a * x1 - y1 = 0\n    a = -dy / dx;\n    b = 1;\n    c = a * point1[0] - point1[1];\n  }\n  return [a, b, c].map(function (v) {return throttle(v, TINY_NUM$1);});\n}\n\nvar NAME_snapRotationThreshold = \"snapRotationThreshold\";\nvar NAME_snapRotationDegrees = \"snapRotationDegrees\";\nvar NAME_snapHorizontalThreshold = \"snapHorizontalThreshold\";\nvar NAME_snapVerticalThreshold = \"snapVerticalThreshold\";\n\nfunction checkMoveableSnapPoses(moveable, posesX, posesY, dirXs, dirYs, customSnapVerticalThreshold, customSnapHorizontalThreshold) {\n  var _a;\n  if (dirXs === void 0) {dirXs = [];}\n  if (dirYs === void 0) {dirYs = [];}\n  var props = moveable.props;\n  var snapThresholdMultiples = ((_a = moveable.state.snapThresholdInfo) === null || _a === void 0 ? void 0 : _a.multiples) || [1, 1];\n  var snapHorizontalThreshold = selectValue(customSnapHorizontalThreshold, props[NAME_snapHorizontalThreshold], 5);\n  var snapVerticalThreshold = selectValue(customSnapVerticalThreshold, props[NAME_snapVerticalThreshold], 5);\n  return checkSnapPoses(moveable.state.guidelines, posesX, posesY, dirXs, dirYs, snapHorizontalThreshold, snapVerticalThreshold, snapThresholdMultiples);\n}\nfunction checkSnapPoses(guidelines, posesX, posesY, dirXs, dirYs, snapHorizontalThreshold, snapVerticalThreshold, multiples) {\n  return {\n    vertical: checkSnap(guidelines, \"vertical\", posesX, snapVerticalThreshold * multiples[0], dirXs),\n    horizontal: checkSnap(guidelines, \"horizontal\", posesY, snapHorizontalThreshold * multiples[1], dirYs)\n  };\n}\nfunction checkSnapKeepRatio(moveable, startPos, endPos) {\n  var _a = __read(endPos, 2),endX = _a[0],endY = _a[1];\n  var _b = __read(startPos, 2),startX = _b[0],startY = _b[1];\n  var _c = __read(minus(endPos, startPos), 2),dx = _c[0],dy = _c[1];\n  var isBottom = dy > 0;\n  var isRight = dx > 0;\n  dx = getTinyDist(dx);\n  dy = getTinyDist(dy);\n  var verticalInfo = {\n    isSnap: false,\n    offset: 0,\n    pos: 0\n  };\n  var horizontalInfo = {\n    isSnap: false,\n    offset: 0,\n    pos: 0\n  };\n  if (dx === 0 && dy === 0) {\n    return {\n      vertical: verticalInfo,\n      horizontal: horizontalInfo\n    };\n  }\n  var _d = checkMoveableSnapPoses(moveable, dx ? [endX] : [], dy ? [endY] : [], [], [], undefined, undefined),verticalSnapInfo = _d.vertical,horizontalSnapInfo = _d.horizontal;\n  verticalSnapInfo.posInfos.filter(function (_a) {\n    var pos = _a.pos;\n    return isRight ? pos >= startX : pos <= startX;\n  });\n  horizontalSnapInfo.posInfos.filter(function (_a) {\n    var pos = _a.pos;\n    return isBottom ? pos >= startY : pos <= startY;\n  });\n  verticalSnapInfo.isSnap = verticalSnapInfo.posInfos.length > 0;\n  horizontalSnapInfo.isSnap = horizontalSnapInfo.posInfos.length > 0;\n  var _e = getNearestSnapGuidelineInfo(verticalSnapInfo),isVerticalSnap = _e.isSnap,verticalGuideline = _e.guideline;\n  var _f = getNearestSnapGuidelineInfo(horizontalSnapInfo),isHorizontalSnap = _f.isSnap,horizontalGuideline = _f.guideline;\n  var horizontalPos = isHorizontalSnap ? horizontalGuideline.pos[1] : 0;\n  var verticalPos = isVerticalSnap ? verticalGuideline.pos[0] : 0;\n  if (dx === 0) {\n    if (isHorizontalSnap) {\n      horizontalInfo.isSnap = true;\n      horizontalInfo.pos = horizontalGuideline.pos[1];\n      horizontalInfo.offset = endY - horizontalInfo.pos;\n    }\n  } else\n  if (dy === 0) {\n    if (isVerticalSnap) {\n      verticalInfo.isSnap = true;\n      verticalInfo.pos = verticalPos;\n      verticalInfo.offset = endX - verticalPos;\n    }\n  } else\n  {\n    // y - y1 = a * (x - x1)\n    var a = dy / dx;\n    var b = endPos[1] - a * endX;\n    var y = 0;\n    var x = 0;\n    var isSnap = false;\n    if (isVerticalSnap) {\n      x = verticalPos;\n      y = a * x + b;\n      isSnap = true;\n    } else\n    if (isHorizontalSnap) {\n      y = horizontalPos;\n      x = (y - b) / a;\n      isSnap = true;\n    }\n    if (isSnap) {\n      verticalInfo.isSnap = true;\n      verticalInfo.pos = x;\n      verticalInfo.offset = endX - x;\n      horizontalInfo.isSnap = true;\n      horizontalInfo.pos = y;\n      horizontalInfo.offset = endY - y;\n    }\n  }\n  return {\n    vertical: verticalInfo,\n    horizontal: horizontalInfo\n  };\n}\nfunction getStringDirection(dir) {\n  var stringDirection = \"\";\n  if (dir === -1 || dir === \"top\" || dir === \"left\") {\n    stringDirection = \"start\";\n  } else\n  if (dir === 0 || dir === \"center\" || dir === \"middle\") {\n    stringDirection = \"center\";\n  } else\n  if (dir === 1 || dir === \"right\" || dir === \"bottom\") {\n    stringDirection = \"end\";\n  }\n  return stringDirection;\n}\nfunction checkSnaps(moveable, rect, customSnapVerticalThreshold, customSnapHorizontalThreshold) {\n  var poses = splitSnapDirectionPoses(moveable.props.snapDirections, rect);\n  var result = checkMoveableSnapPoses(moveable, poses.vertical, poses.horizontal, poses.verticalNames.map(function (name) {return getStringDirection(name);}), poses.horizontalNames.map(function (name) {return getStringDirection(name);}), customSnapVerticalThreshold, customSnapHorizontalThreshold);\n  var horizontalDirection = getStringDirection(poses.horizontalNames[result.horizontal.index]);\n  var verticalDirection = getStringDirection(poses.verticalNames[result.vertical.index]);\n  return {\n    vertical: __assign(__assign({}, result.vertical), { direction: verticalDirection }),\n    horizontal: __assign(__assign({}, result.horizontal), { direction: horizontalDirection })\n  };\n}\nfunction getNearestSnapGuidelineInfo(snapInfo) {\n  var isSnap = snapInfo.isSnap;\n  if (!isSnap) {\n    return {\n      isSnap: false,\n      offset: 0,\n      dist: -1,\n      pos: 0,\n      guideline: null\n    };\n  }\n  var posInfo = snapInfo.posInfos[0];\n  var guidelineInfo = posInfo.guidelineInfos[0];\n  var offset = guidelineInfo.offset;\n  var dist = guidelineInfo.dist;\n  var guideline = guidelineInfo.guideline;\n  return {\n    isSnap: isSnap,\n    offset: offset,\n    dist: dist,\n    pos: posInfo.pos,\n    guideline: guideline\n  };\n}\nfunction checkSnap(guidelines, targetType, targetPoses, snapThreshold, dirs) {\n  var _a, _b;\n  if (dirs === void 0) {dirs = [];}\n  if (!guidelines || !guidelines.length) {\n    return {\n      isSnap: false,\n      index: -1,\n      direction: \"\",\n      posInfos: []\n    };\n  }\n  var isVertical = targetType === \"vertical\";\n  var posType = isVertical ? 0 : 1;\n  var snapPosInfos = targetPoses.map(function (targetPos, index) {\n    var direction = dirs[index] || \"\";\n    var guidelineInfos = guidelines.map(function (guideline) {\n      var pos = guideline.pos;\n      var offset = targetPos - pos[posType];\n      return {\n        offset: offset,\n        dist: abs(offset),\n        guideline: guideline,\n        direction: direction\n      };\n    }).filter(function (_a) {\n      var guideline = _a.guideline,dist = _a.dist;\n      var type = guideline.type;\n      if (type !== targetType ||\n      dist > snapThreshold) {\n        return false;\n      }\n      return true;\n    }).sort(function (a, b) {return a.dist - b.dist;});\n    return {\n      pos: targetPos,\n      index: index,\n      guidelineInfos: guidelineInfos,\n      direction: direction\n    };\n  }).filter(function (snapPosInfo) {\n    return snapPosInfo.guidelineInfos.length > 0;\n  }).sort(function (a, b) {\n    return a.guidelineInfos[0].dist - b.guidelineInfos[0].dist;\n  });\n  var isSnap = snapPosInfos.length > 0;\n  return {\n    isSnap: isSnap,\n    index: isSnap ? snapPosInfos[0].index : -1,\n    direction: (_b = (_a = snapPosInfos[0]) === null || _a === void 0 ? void 0 : _a.direction) !== null && _b !== void 0 ? _b : \"\",\n    posInfos: snapPosInfos\n  };\n}\nfunction getSnapInfosByDirection(moveable,\n// pos1 pos2 pos3 pos4\nposes, snapDirection, customSnapVerticalThreshold, customSnapHorizontalThreshold) {\n  var dirs = [];\n  if (snapDirection[0] && snapDirection[1]) {\n    dirs = [\n    snapDirection,\n    [-snapDirection[0], snapDirection[1]],\n    [snapDirection[0], -snapDirection[1]]];\n\n  } else\n  if (!snapDirection[0] && !snapDirection[1]) {\n    [\n    [-1, -1],\n    [1, -1],\n    [1, 1],\n    [-1, 1]].\n    forEach(function (dir, i, arr) {\n      var nextDir = arr[i + 1] || arr[0];\n      dirs.push(dir);\n      dirs.push([\n      (dir[0] + nextDir[0]) / 2,\n      (dir[1] + nextDir[1]) / 2]\n      );\n    });\n  } else\n  {\n    if (moveable.props.keepRatio) {\n      dirs.push([-1, -1], [-1, 1], [1, -1], [1, 1], snapDirection);\n    } else\n    {\n      dirs.push.apply(dirs, __spreadArray([], __read(getPosesByDirection([\n      [-1, -1],\n      [1, -1],\n      [-1, -1],\n      [1, 1]],\n      snapDirection)), false));\n      if (dirs.length > 1) {\n        dirs.push([\n        (dirs[0][0] + dirs[1][0]) / 2,\n        (dirs[0][1] + dirs[1][1]) / 2]\n        );\n      }\n    }\n  }\n  var nextPoses = dirs.map(function (dir) {return getPosByDirection(poses, dir);});\n  var xs = nextPoses.map(function (pos) {return pos[0];});\n  var ys = nextPoses.map(function (pos) {return pos[1];});\n  var result = checkMoveableSnapPoses(moveable, xs, ys, dirs.map(function (dir) {return getStringDirection(dir[0]);}), dirs.map(function (dir) {return getStringDirection(dir[1]);}), customSnapVerticalThreshold, customSnapHorizontalThreshold);\n  var verticalDirection = getStringDirection(dirs.map(function (dir) {return dir[0];})[result.vertical.index]);\n  var horizontalDirection = getStringDirection(dirs.map(function (dir) {return dir[1];})[result.horizontal.index]);\n  return {\n    vertical: __assign(__assign({}, result.vertical), { direction: verticalDirection }),\n    horizontal: __assign(__assign({}, result.horizontal), { direction: horizontalDirection })\n  };\n}\nfunction checkSnapBoundPriority(a, b) {\n  var aDist = abs(a.offset);\n  var bDist = abs(b.offset);\n  if (a.isBound && b.isBound) {\n    return bDist - aDist;\n  } else\n  if (a.isBound) {\n    return -1;\n  } else\n  if (b.isBound) {\n    return 1;\n  } else\n  if (a.isSnap && b.isSnap) {\n    return bDist - aDist;\n  } else\n  if (a.isSnap) {\n    return -1;\n  } else\n  if (b.isSnap) {\n    return 1;\n  } else\n  if (aDist < TINY_NUM) {\n    return 1;\n  } else\n  if (bDist < TINY_NUM) {\n    return -1;\n  }\n  return aDist - bDist;\n}\nfunction getNearOffsetInfo(offsets, index) {\n  return offsets.slice().sort(function (a, b) {\n    var aSign = a.sign[index];\n    var bSign = b.sign[index];\n    var aOffset = a.offset[index];\n    var bOffset = b.offset[index];\n    // -1 The positions of a and b do not change.\n    // 1 The positions of a and b are reversed.\n    if (!aSign) {\n      return 1;\n    } else\n    if (!bSign) {\n      return -1;\n    }\n    return checkSnapBoundPriority({ isBound: a.isBound, isSnap: a.isSnap, offset: aOffset }, { isBound: b.isBound, isSnap: b.isSnap, offset: bOffset });\n  })[0];\n}\nfunction getCheckSnapDirections(direction, fixedDirection, keepRatio) {\n  var directions = [];\n  // const fixedDirection = [-direction[0], -direction[1]];\n  if (keepRatio) {\n    if (abs(fixedDirection[0]) !== 1 || abs(fixedDirection[1]) !== 1) {\n      directions.push([fixedDirection, [-1, -1]], [fixedDirection, [-1, 1]], [fixedDirection, [1, -1]], [fixedDirection, [1, 1]]);\n    } else\n    {\n      directions.push([fixedDirection, [direction[0], -direction[1]]], [fixedDirection, [-direction[0], direction[1]]]);\n    }\n    directions.push([fixedDirection, direction]);\n  } else\n  {\n    if (direction[0] && direction[1] || !direction[0] && !direction[1]) {\n      var endDirection_1 = direction[0] ? direction : [1, 1];\n      [1, -1].forEach(function (signX) {\n        [1, -1].forEach(function (signY) {\n          var nextDirection = [signX * endDirection_1[0], signY * endDirection_1[1]];\n          if (fixedDirection[0] === nextDirection[0] &&\n          fixedDirection[1] === nextDirection[1]) {\n            return;\n          }\n          directions.push([fixedDirection, nextDirection]);\n        });\n      });\n    } else\n    if (direction[0]) {\n      var signs = abs(fixedDirection[0]) === 1 ? [1] : [1, -1];\n      signs.forEach(function (sign) {\n        directions.push([\n        [fixedDirection[0], -1],\n        [sign * direction[0], -1]],\n        [\n        [fixedDirection[0], 0],\n        [sign * direction[0], 0]],\n        [\n        [fixedDirection[0], 1],\n        [sign * direction[0], 1]]\n        );\n      });\n    } else\n    if (direction[1]) {\n      var signs = abs(fixedDirection[1]) === 1 ? [1] : [1, -1];\n      signs.forEach(function (sign) {\n        directions.push([\n        [-1, fixedDirection[1]],\n        [-1, sign * direction[1]]],\n        [\n        [0, fixedDirection[1]],\n        [0, sign * direction[1]]],\n        [\n        [1, fixedDirection[1]],\n        [1, sign * direction[1]]]\n        );\n      });\n    }\n  }\n  return directions;\n}\n\nfunction isStartLine(dot, line) {\n  // l    o     => true\n  // o    l    => false\n  var cx = average([line[0][0], line[1][0]]);\n  var cy = average([line[0][1], line[1][1]]);\n  return {\n    vertical: cx <= dot[0],\n    horizontal: cy <= dot[1]\n  };\n}\nfunction hitTestLine(dot, _a) {\n  var _b = __read(_a, 2),pos1 = _b[0],pos2 = _b[1];\n  var dx = pos2[0] - pos1[0];\n  var dy = pos2[1] - pos1[1];\n  if (abs(dx) < TINY_NUM) {\n    dx = 0;\n  }\n  if (abs(dy) < TINY_NUM) {\n    dy = 0;\n  }\n  var test1;\n  var test2;\n  if (!dx) {\n    test1 = pos1[0];\n    test2 = dot[0];\n  } else\n  if (!dy) {\n    test1 = pos1[1];\n    test2 = dot[1];\n  } else\n  {\n    var a = dy / dx;\n    // y = a * (x - pos1) + pos1\n    test1 = a * (dot[0] - pos1[0]) + pos1[1];\n    test2 = dot[1];\n  }\n  return test1 - test2;\n}\nfunction isSameStartLine(dots, line, centerSign, error) {\n  if (error === void 0) {error = TINY_NUM;}\n  return dots.every(function (dot) {\n    var value = hitTestLine(dot, line);\n    var sign = value <= 0;\n    return sign === centerSign || abs(value) <= error;\n  });\n}\nfunction checkInnerBoundDot(pos, start, end, isStart, threshold) {\n  if (threshold === void 0) {threshold = 0;}\n  if (isStart && start - threshold <= pos ||\n  !isStart && pos <= end + threshold) {\n    // false 402 565 602 => 37 ([0, 37])\n    // true 400 524.9712603540036 600 => 124 ([124, 0])\n    // true 400 410 600 => 10 ([10, 0])\n    return {\n      isBound: true,\n      offset: isStart ? start - pos : end - pos\n    };\n  }\n  return {\n    isBound: false,\n    offset: 0\n  };\n}\nfunction checkInnerBound(moveable, _a) {\n  var line = _a.line,centerSign = _a.centerSign,verticalSign = _a.verticalSign,horizontalSign = _a.horizontalSign,lineConstants = _a.lineConstants;\n  var bounds = moveable.props.innerBounds;\n  if (!bounds) {\n    return {\n      isAllBound: false,\n      isBound: false,\n      isVerticalBound: false,\n      isHorizontalBound: false,\n      offset: [0, 0]\n    };\n  }\n  var left = bounds.left,top = bounds.top,width = bounds.width,height = bounds.height;\n  var leftLine = [[left, top], [left, top + height]];\n  var topLine = [[left, top], [left + width, top]];\n  var rightLine = [[left + width, top], [left + width, top + height]];\n  var bottomLine = [[left, top + height], [left + width, top + height]];\n  if (isSameStartLine([\n  [left, top],\n  [left + width, top],\n  [left, top + height],\n  [left + width, top + height]],\n  line, centerSign)) {\n    return {\n      isAllBound: false,\n      isBound: false,\n      isVerticalBound: false,\n      isHorizontalBound: false,\n      offset: [0, 0]\n    };\n  }\n  // test vertical\n  var topBoundInfo = checkLineBoundCollision(line, lineConstants, topLine, verticalSign);\n  var bottomBoundInfo = checkLineBoundCollision(line, lineConstants, bottomLine, verticalSign);\n  // test horizontal\n  var leftBoundInfo = checkLineBoundCollision(line, lineConstants, leftLine, horizontalSign);\n  var rightBoundInfo = checkLineBoundCollision(line, lineConstants, rightLine, horizontalSign);\n  var isAllVerticalBound = topBoundInfo.isBound && bottomBoundInfo.isBound;\n  var isVerticalBound = topBoundInfo.isBound || bottomBoundInfo.isBound;\n  var isAllHorizontalBound = leftBoundInfo.isBound && rightBoundInfo.isBound;\n  var isHorizontalBound = leftBoundInfo.isBound || rightBoundInfo.isBound;\n  var verticalOffset = maxOffset(topBoundInfo.offset, bottomBoundInfo.offset);\n  var horizontalOffset = maxOffset(leftBoundInfo.offset, rightBoundInfo.offset);\n  var offset = [0, 0];\n  var isBound = false;\n  var isAllBound = false;\n  if (abs(horizontalOffset) < abs(verticalOffset)) {\n    offset = [verticalOffset, 0];\n    isBound = isVerticalBound;\n    isAllBound = isAllVerticalBound;\n  } else\n  {\n    offset = [0, horizontalOffset];\n    isBound = isHorizontalBound;\n    isAllBound = isAllHorizontalBound;\n  }\n  return {\n    isAllBound: isAllBound,\n    isVerticalBound: isVerticalBound,\n    isHorizontalBound: isHorizontalBound,\n    isBound: isBound,\n    offset: offset\n  };\n}\nfunction checkLineBoundCollision(line, _a, boundLine, isStart, threshold, isRender) {\n  var _b = __read(_a, 2),a = _b[0],b = _b[1];\n  var dot1 = line[0];\n  // const dot2 = line[1];\n  var boundDot1 = boundLine[0];\n  var boundDot2 = boundLine[1];\n  // const dy1 = getTinyDist(dot2[1] - dot1[1]);\n  // const dx1 = getTinyDist(dot2[0] - dot1[0]);\n  var dy2 = getTinyDist(boundDot2[1] - boundDot1[1]);\n  var dx2 = getTinyDist(boundDot2[0] - boundDot1[0]);\n  var hasDx = b;\n  var hasDy = a;\n  var slope = -a / b;\n  // lineConstants\n  // ax + by + c = 0\n  // dx2 or dy2 is zero\n  if (!dx2) {\n    // vertical\n    // by + c = 0\n    if (isRender && !hasDy) {\n      // 90deg\n      return {\n        isBound: false,\n        offset: 0\n      };\n    } else\n    if (hasDx) {\n      // ax + by + c = 0\n      // const y = dy1 ? dy1 / dx1 * (boundDot1[0] - dot1[0]) + dot1[1] : dot1[1];\n      var y = slope * (boundDot1[0] - dot1[0]) + dot1[1];\n      // boundDot1[1] <= y  <= boundDot2[1]\n      return checkInnerBoundDot(y, boundDot1[1], boundDot2[1], isStart, threshold);\n    } else\n    {\n      // ax + c = 0\n      var offset = boundDot1[0] - dot1[0];\n      var isBound = abs(offset) <= (threshold || 0);\n      return {\n        isBound: isBound,\n        offset: isBound ? offset : 0\n      };\n    }\n  } else\n  if (!dy2) {\n    // horizontal\n    if (isRender && !hasDx) {\n      // 90deg\n      return {\n        isBound: false,\n        offset: 0\n      };\n    } else\n    if (hasDy) {\n      // y = a * (x - x1) + y1\n      // x = (y - y1) / a + x1\n      // const a = dy1 / dx1;\n      // const x = dx1 ? (boundDot1[1] - dot1[1]) / a + dot1[0] : dot1[0];\n      var x = (boundDot1[1] - dot1[1]) / slope + dot1[0];\n      // boundDot1[0] <= x && x <= boundDot2[0]\n      return checkInnerBoundDot(x, boundDot1[0], boundDot2[0], isStart, threshold);\n    } else\n    {\n      var offset = boundDot1[1] - dot1[1];\n      var isBound = abs(offset) <= (threshold || 0);\n      return {\n        isBound: isBound,\n        offset: isBound ? offset : 0\n      };\n    }\n  }\n  return {\n    isBound: false,\n    offset: 0\n  };\n}\nfunction getInnerBoundInfo(moveable, lineInfos, datas) {\n  return lineInfos.map(function (info) {\n    var _a = checkInnerBound(moveable, info),isBound = _a.isBound,offset = _a.offset,isVerticalBound = _a.isVerticalBound,isHorizontalBound = _a.isHorizontalBound;\n    var multiple = info.multiple;\n    var sizeOffset = getDragDist({\n      datas: datas,\n      distX: offset[0],\n      distY: offset[1]\n    }).map(function (size, i) {return size * (multiple[i] ? 2 / multiple[i] : 0);});\n    return {\n      sign: multiple,\n      isBound: isBound,\n      isVerticalBound: isVerticalBound,\n      isHorizontalBound: isHorizontalBound,\n      isSnap: false,\n      offset: sizeOffset\n    };\n  });\n}\nfunction getInnerBoundDragInfo(moveable, poses, datas) {\n  var _a;\n  var lines = getCheckInnerBoundLineInfos(moveable, poses, [0, 0], false).map(function (info) {\n    return __assign(__assign({}, info), { multiple: info.multiple.map(function (dir) {return abs(dir) * 2;}) });\n  });\n  var innerBoundInfo = getInnerBoundInfo(moveable, lines, datas);\n  var widthOffsetInfo = getNearOffsetInfo(innerBoundInfo, 0);\n  var heightOffsetInfo = getNearOffsetInfo(innerBoundInfo, 1);\n  var verticalOffset = 0;\n  var horizontalOffset = 0;\n  var isVerticalBound = widthOffsetInfo.isVerticalBound || heightOffsetInfo.isVerticalBound;\n  var isHorizontalBound = widthOffsetInfo.isHorizontalBound || heightOffsetInfo.isHorizontalBound;\n  if (isVerticalBound || isHorizontalBound) {\n    _a = __read(getInverseDragDist({\n      datas: datas,\n      distX: -widthOffsetInfo.offset[0],\n      distY: -heightOffsetInfo.offset[1]\n    }), 2), verticalOffset = _a[0], horizontalOffset = _a[1];\n  }\n  return {\n    vertical: {\n      isBound: isVerticalBound,\n      offset: verticalOffset\n    },\n    horizontal: {\n      isBound: isHorizontalBound,\n      offset: horizontalOffset\n    }\n  };\n}\nfunction getCheckSnapLineDirections(direction, keepRatio) {\n  var lineDirections = [];\n  var x = direction[0];\n  var y = direction[1];\n  if (x && y) {\n    lineDirections.push([[0, y * 2], direction, [-x, y]], [[x * 2, 0], direction, [x, -y]]);\n  } else\n  if (x) {\n    // vertcal\n    lineDirections.push([[x * 2, 0], [x, 1], [x, -1]]);\n    if (keepRatio) {\n      lineDirections.push([[0, -1], [x, -1], [-x, -1]], [[0, 1], [x, 1], [-x, 1]]);\n    }\n  } else\n  if (y) {\n    // horizontal\n    lineDirections.push([[0, y * 2], [1, y], [-1, y]]);\n    if (keepRatio) {\n      lineDirections.push([[-1, 0], [-1, y], [-1, -y]], [[1, 0], [1, y], [1, -y]]);\n    }\n  } else\n  {\n    // [0, 0] to all direction\n    lineDirections.push([[-1, 0], [-1, -1], [-1, 1]], [[1, 0], [1, -1], [1, 1]], [[0, -1], [-1, -1], [1, -1]], [[0, 1], [-1, 1], [1, 1]]);\n  }\n  return lineDirections;\n}\nfunction getCheckInnerBoundLineInfos(moveable, poses, direction, keepRatio) {\n  var _a = moveable.state,allMatrix = _a.allMatrix,is3d = _a.is3d;\n  var virtualPoses = calculatePoses(allMatrix, 100, 100, is3d ? 4 : 3);\n  var center = getPosByDirection(virtualPoses, [0, 0]);\n  return getCheckSnapLineDirections(direction, keepRatio).map(function (_a) {\n    var _b = __read(_a, 3),multiple = _b[0],dir1 = _b[1],dir2 = _b[2];\n    var virtualLine = [\n    getPosByDirection(virtualPoses, dir1),\n    getPosByDirection(virtualPoses, dir2)];\n\n    var lineConstants = solveLineConstants(virtualLine);\n    var _c = isStartLine(center, virtualLine),verticalSign = _c.vertical,horizontalSign = _c.horizontal;\n    var centerSign = hitTestLine(center, virtualLine) <= 0;\n    return {\n      multiple: multiple,\n      centerSign: centerSign,\n      verticalSign: verticalSign,\n      horizontalSign: horizontalSign,\n      lineConstants: lineConstants,\n      line: [\n      getPosByDirection(poses, dir1),\n      getPosByDirection(poses, dir2)]\n\n    };\n  });\n}\nfunction isBoundRotate(relativePoses, boundDots, center, rad) {\n  var nextPoses = rad ? relativePoses.map(function (pos) {return rotate(pos, rad);}) : relativePoses;\n  return [\n  [nextPoses[0], nextPoses[1]],\n  [nextPoses[1], nextPoses[3]],\n  [nextPoses[3], nextPoses[2]],\n  [nextPoses[2], nextPoses[0]]].\n  some(function (line) {\n    var centerSign = hitTestLine(center, line) <= 0;\n    return !isSameStartLine(boundDots, line, centerSign);\n  });\n}\nfunction getDistPointLine(_a) {\n  // x = 0, y = 0\n  // d = (ax + by + c) / root(a2 + b2)\n  var _b = __read(_a, 2),pos1 = _b[0],pos2 = _b[1];\n  var dx = pos2[0] - pos1[0];\n  var dy = pos2[1] - pos1[1];\n  if (!dx) {\n    return abs(pos1[0]);\n  }\n  if (!dy) {\n    return abs(pos1[1]);\n  }\n  // y - y1 = a(x - x1)\n  // 0 = ax -y + -a * x1 + y1\n  var a = dy / dx;\n  return abs((-a * pos1[0] + pos1[1]) / Math.sqrt(Math.pow(a, 2) + 1));\n}\nfunction solveReverseLine(_a) {\n  var _b = __read(_a, 2),pos1 = _b[0],pos2 = _b[1];\n  var dx = pos2[0] - pos1[0];\n  var dy = pos2[1] - pos1[1];\n  if (!dx) {\n    return [pos1[0], 0];\n  }\n  if (!dy) {\n    return [0, pos1[1]];\n  }\n  var a = dy / dx;\n  // y - y1 = a (x  - x1)\n  // y = ax - a * x1 + y1\n  var b = -a * pos1[0] + pos1[1];\n  // y = ax + b = -1/a x\n  // x = -b / (a + 1 / a)\n  // y = b / (1 + 1 / a^2)\n  return [\n  -b / (a + 1 / a),\n  b / (a * a + 1)];\n\n}\nfunction checkRotateInnerBounds(moveable, prevPoses, nextPoses, origin, rotation) {\n  var bounds = moveable.props.innerBounds;\n  var rad = rotation * Math.PI / 180;\n  if (!bounds) {\n    return [];\n  }\n  var left = bounds.left,top = bounds.top,width = bounds.width,height = bounds.height;\n  var relativeLeft = left - origin[0];\n  var relativeRight = left + width - origin[0];\n  var relativeTop = top - origin[1];\n  var relativeBottom = top + height - origin[1];\n  var dots = [\n  [relativeLeft, relativeTop],\n  [relativeRight, relativeTop],\n  [relativeLeft, relativeBottom],\n  [relativeRight, relativeBottom]];\n\n  var center = getPosByDirection(nextPoses, [0, 0]);\n  if (!isBoundRotate(nextPoses, dots, center, 0)) {\n    return [];\n  }\n  var result = [];\n  var dotInfos = dots.map(function (dot) {return [\n    getDistSize(dot),\n    getRad([0, 0], dot)];\n  });\n  [\n  [nextPoses[0], nextPoses[1]],\n  [nextPoses[1], nextPoses[3]],\n  [nextPoses[3], nextPoses[2]],\n  [nextPoses[2], nextPoses[0]]].\n  forEach(function (line) {\n    var lineRad = getRad([0, 0], solveReverseLine(line));\n    var lineDist = getDistPointLine(line);\n    result.push.apply(result, __spreadArray([], __read(dotInfos.\n    filter(function (_a) {\n      var _b = __read(_a, 1),dotDist = _b[0];\n      return dotDist && lineDist <= dotDist;\n    }).\n    map(function (_a) {\n      var _b = __read(_a, 2),dotDist = _b[0],dotRad = _b[1];\n      var distRad = Math.acos(dotDist ? lineDist / dotDist : 0);\n      var nextRad1 = dotRad + distRad;\n      var nextRad2 = dotRad - distRad;\n      return [\n      rad + nextRad1 - lineRad,\n      rad + nextRad2 - lineRad];\n\n    }).\n    reduce(function (prev, cur) {\n      prev.push.apply(prev, __spreadArray([], __read(cur), false));\n      return prev;\n    }, []).\n    filter(function (nextRad) {return !isBoundRotate(prevPoses, dots, center, nextRad);}).\n    map(function (nextRad) {return throttle(nextRad * 180 / Math.PI, TINY_NUM);})), false));\n  });\n  return result;\n}\nfunction checkInnerBoundPoses(moveable) {\n  var innerBounds = moveable.props.innerBounds;\n  var boundMap = getInitialBounds();\n  if (!innerBounds) {\n    return {\n      boundMap: boundMap,\n      vertical: [],\n      horizontal: []\n    };\n  }\n  var _a = moveable.getRect(),pos1 = _a.pos1,pos2 = _a.pos2,pos3 = _a.pos3,pos4 = _a.pos4;\n  var poses = [pos1, pos2, pos3, pos4];\n  var center = getPosByDirection(poses, [0, 0]);\n  var left = innerBounds.left,top = innerBounds.top,width = innerBounds.width,height = innerBounds.height;\n  var leftLine = [[left, top], [left, top + height]];\n  var topLine = [[left, top], [left + width, top]];\n  var rightLine = [[left + width, top], [left + width, top + height]];\n  var bottomLine = [[left, top + height], [left + width, top + height]];\n  var lineInfos = getCheckInnerBoundLineInfos(moveable, poses, [0, 0], false);\n  var horizontalPoses = [];\n  var verticalPoses = [];\n  lineInfos.forEach(function (lineInfo) {\n    var line = lineInfo.line,lineConstants = lineInfo.lineConstants;\n    var _a = isStartLine(center, line),isHorizontalStart = _a.horizontal,isVerticalStart = _a.vertical;\n    // test vertical\n    var topBoundInfo = checkLineBoundCollision(line, lineConstants, topLine, isVerticalStart, 1, true);\n    var bottomBoundInfo = checkLineBoundCollision(line, lineConstants, bottomLine, isVerticalStart, 1, true);\n    // test horizontal\n    var leftBoundInfo = checkLineBoundCollision(line, lineConstants, leftLine, isHorizontalStart, 1, true);\n    var rightBoundInfo = checkLineBoundCollision(line, lineConstants, rightLine, isHorizontalStart, 1, true);\n    if (topBoundInfo.isBound && !boundMap.top) {\n      horizontalPoses.push(top);\n      boundMap.top = true;\n    }\n    if (bottomBoundInfo.isBound && !boundMap.bottom) {\n      horizontalPoses.push(top + height);\n      boundMap.bottom = true;\n    }\n    if (leftBoundInfo.isBound && !boundMap.left) {\n      verticalPoses.push(left);\n      boundMap.left = true;\n    }\n    if (rightBoundInfo.isBound && !boundMap.right) {\n      verticalPoses.push(left + width);\n      boundMap.right = true;\n    }\n  });\n  return {\n    boundMap: boundMap,\n    horizontal: horizontalPoses,\n    vertical: verticalPoses\n  };\n}\n\nfunction solveEquation(pos1, pos2, snapOffset, isVertical) {\n  var dx = pos2[0] - pos1[0];\n  var dy = pos2[1] - pos1[1];\n  if (abs(dx) < TINY_NUM$1) {\n    dx = 0;\n  }\n  if (abs(dy) < TINY_NUM$1) {\n    dy = 0;\n  }\n  if (!dx) {\n    // y = 0 * x + b\n    // only horizontal\n    if (!isVertical) {\n      return [0, snapOffset];\n    }\n    return [0, 0];\n  }\n  if (!dy) {\n    // only vertical\n    if (isVertical) {\n      return [snapOffset, 0];\n    }\n    return [0, 0];\n  }\n  // y = ax + b\n  var a = dy / dx;\n  var b = pos1[1] - a * pos1[0];\n  if (isVertical) {\n    // y = a * x + b\n    var y = a * (pos2[0] + snapOffset) + b;\n    return [snapOffset, y - pos2[1]];\n  } else\n  {\n    // x = (y - b) / a\n    var x = (pos2[1] + snapOffset - b) / a;\n    return [x - pos2[0], snapOffset];\n  }\n}\nfunction solveNextOffset(pos1, pos2, offset, isVertical, datas) {\n  var sizeOffset = solveEquation(pos1, pos2, offset, isVertical);\n  if (!sizeOffset) {\n    return {\n      isOutside: false,\n      offset: [0, 0]\n    };\n  }\n  var size = getDist$1(pos1, pos2);\n  var dist1 = getDist$1(sizeOffset, pos1);\n  var dist2 = getDist$1(sizeOffset, pos2);\n  var isOutside = dist1 > size || dist2 > size;\n  var _a = __read(getDragDist({\n      datas: datas,\n      distX: sizeOffset[0],\n      distY: sizeOffset[1]\n    }), 2),widthOffset = _a[0],heightOffset = _a[1];\n  return {\n    offset: [widthOffset, heightOffset],\n    isOutside: isOutside\n  };\n}\nfunction getSnapBound(boundInfo, snapInfo) {\n  if (boundInfo.isBound) {\n    return boundInfo.offset;\n  } else\n  if (snapInfo.isSnap) {\n    return getNearestSnapGuidelineInfo(snapInfo).offset;\n  }\n  return 0;\n}\nfunction checkThrottleDragRotate(throttleDragRotate, _a, _b, _c, _d) {\n  var _e = __read(_a, 2),distX = _e[0],distY = _e[1];\n  var _f = __read(_b, 2),isVerticalBound = _f[0],isHorizontalBound = _f[1];\n  var _g = __read(_c, 2),isVerticalSnap = _g[0],isHorizontalSnap = _g[1];\n  var _h = __read(_d, 2),verticalOffset = _h[0],horizontalOffset = _h[1];\n  var offsetX = -verticalOffset;\n  var offsetY = -horizontalOffset;\n  if (throttleDragRotate && distX && distY) {\n    offsetX = 0;\n    offsetY = 0;\n    var adjustPoses = [];\n    if (isVerticalBound && isHorizontalBound) {\n      adjustPoses.push([0, horizontalOffset], [verticalOffset, 0]);\n    } else\n    if (isVerticalBound) {\n      adjustPoses.push([verticalOffset, 0]);\n    } else\n    if (isHorizontalBound) {\n      adjustPoses.push([0, horizontalOffset]);\n    } else\n    if (isVerticalSnap && isHorizontalSnap) {\n      adjustPoses.push([0, horizontalOffset], [verticalOffset, 0]);\n    } else\n    if (isVerticalSnap) {\n      adjustPoses.push([verticalOffset, 0]);\n    } else\n    if (isHorizontalSnap) {\n      adjustPoses.push([0, horizontalOffset]);\n    }\n    if (adjustPoses.length) {\n      adjustPoses.sort(function (a, b) {\n        return getDistSize(minus([distX, distY], a)) -\n        getDistSize(minus([distX, distY], b));\n      });\n      var adjustPos = adjustPoses[0];\n      if (adjustPos[0] && abs(distX) > TINY_NUM$1) {\n        offsetX = -adjustPos[0];\n        offsetY =\n        distY * abs(distX + offsetX) / abs(distX) -\n        distY;\n      } else\n      if (adjustPos[1] && abs(distY) > TINY_NUM$1) {\n        var prevDistY = distY;\n        offsetY = -adjustPos[1];\n        offsetX =\n        distX * abs(distY + offsetY) / abs(prevDistY) -\n        distX;\n      }\n      if (throttleDragRotate && isHorizontalBound && isVerticalBound) {\n        if (abs(offsetX) > TINY_NUM$1 &&\n        abs(offsetX) < abs(verticalOffset)) {\n          var scale = abs(verticalOffset) / abs(offsetX);\n          offsetX *= scale;\n          offsetY *= scale;\n        } else\n        if (abs(offsetY) > TINY_NUM$1 &&\n        abs(offsetY) < abs(horizontalOffset)) {\n          var scale = abs(horizontalOffset) / abs(offsetY);\n          offsetX *= scale;\n          offsetY *= scale;\n        } else\n        {\n          offsetX = maxOffset(-verticalOffset, offsetX);\n          offsetY = maxOffset(-horizontalOffset, offsetY);\n        }\n      }\n    }\n  } else\n  {\n    offsetX = distX || isVerticalBound ? -verticalOffset : 0;\n    offsetY = distY || isHorizontalBound ? -horizontalOffset : 0;\n  }\n  return [offsetX, offsetY];\n}\nfunction checkSnapBoundsDrag(moveable, distX, distY, throttleDragRotate, ignoreSnap, datas) {\n  if (!hasGuidelines(moveable, \"draggable\")) {\n    return [\n    {\n      isSnap: false,\n      isBound: false,\n      offset: 0\n    },\n    {\n      isSnap: false,\n      isBound: false,\n      offset: 0\n    }];\n\n  }\n  var poses = getAbsolutePoses(datas.absolutePoses, [distX, distY]);\n  var _a = getRect(poses),left = _a.left,right = _a.right,top = _a.top,bottom = _a.bottom;\n  var boundPoses = {\n    horizontal: poses.map(function (pos) {return pos[1];}),\n    vertical: poses.map(function (pos) {return pos[0];})\n  };\n  var snapDirections = getSnapDirections(moveable.props.snapDirections);\n  var snapPoses = splitSnapDirectionPoses(snapDirections, {\n    left: left,\n    right: right,\n    top: top,\n    bottom: bottom,\n    center: (left + right) / 2,\n    middle: (top + bottom) / 2\n  });\n  var _b = checkMoveableSnapBounds(moveable, ignoreSnap, snapPoses, boundPoses),verticalSnapBoundInfo = _b.vertical,horizontalSnapBoundInfo = _b.horizontal;\n  var _c = getInnerBoundDragInfo(moveable, poses, datas),verticalInnerBoundInfo = _c.vertical,horizontalInnerBoundInfo = _c.horizontal;\n  var isVerticalSnap = verticalSnapBoundInfo.isSnap;\n  var isHorizontalSnap = horizontalSnapBoundInfo.isSnap;\n  var isVerticalBound = verticalSnapBoundInfo.isBound || verticalInnerBoundInfo.isBound;\n  var isHorizontalBound = horizontalSnapBoundInfo.isBound || horizontalInnerBoundInfo.isBound;\n  var verticalOffset = maxOffset(verticalSnapBoundInfo.offset, verticalInnerBoundInfo.offset);\n  var horizontalOffset = maxOffset(horizontalSnapBoundInfo.offset, horizontalInnerBoundInfo.offset);\n  var _d = __read(checkThrottleDragRotate(throttleDragRotate, [distX, distY], [isVerticalBound, isHorizontalBound], [isVerticalSnap, isHorizontalSnap], [verticalOffset, horizontalOffset]), 2),offsetX = _d[0],offsetY = _d[1];\n  return [\n  {\n    isBound: isVerticalBound,\n    isSnap: isVerticalSnap,\n    offset: offsetX\n  },\n  {\n    isBound: isHorizontalBound,\n    isSnap: isHorizontalSnap,\n    offset: offsetY\n  }];\n\n}\nfunction checkMoveableSnapBounds(moveable, ignoreSnap, poses, boundPoses) {\n  if (boundPoses === void 0) {boundPoses = poses;}\n  var _a = checkBoundPoses(getBounds(moveable), boundPoses.vertical, boundPoses.horizontal),horizontalBoundInfos = _a.horizontal,verticalBoundInfos = _a.vertical;\n  var _b = ignoreSnap ? {\n      horizontal: { isSnap: false, index: -1 },\n      vertical: { isSnap: false, index: -1 }\n    } : checkMoveableSnapPoses(moveable, poses.vertical, poses.horizontal, undefined, undefined, undefined, undefined),horizontalSnapInfo = _b.horizontal,verticalSnapInfo = _b.vertical;\n  var horizontalOffset = getSnapBound(horizontalBoundInfos[0], horizontalSnapInfo);\n  var verticalOffset = getSnapBound(verticalBoundInfos[0], verticalSnapInfo);\n  var horizontalDist = abs(horizontalOffset);\n  var verticalDist = abs(verticalOffset);\n  return {\n    horizontal: {\n      isBound: horizontalBoundInfos[0].isBound,\n      isSnap: horizontalSnapInfo.isSnap,\n      snapIndex: horizontalSnapInfo.index,\n      offset: horizontalOffset,\n      dist: horizontalDist,\n      bounds: horizontalBoundInfos,\n      snap: horizontalSnapInfo\n    },\n    vertical: {\n      isBound: verticalBoundInfos[0].isBound,\n      isSnap: verticalSnapInfo.isSnap,\n      snapIndex: verticalSnapInfo.index,\n      offset: verticalOffset,\n      dist: verticalDist,\n      bounds: verticalBoundInfos,\n      snap: verticalSnapInfo\n    }\n  };\n}\nfunction checkSnapBounds(guideines, bounds, posesX, posesY, snapHorizontalThreshold, snapVerticalThreshold, multiples) {\n  if (multiples === void 0) {multiples = [1, 1];}\n  var _a = checkBoundPoses(bounds, posesX, posesY),horizontalBoundInfos = _a.horizontal,verticalBoundInfos = _a.vertical;\n  // options.isRequest ? {\n  //     horizontal: { isSnap: false, index: -1 } as SnapInfo,\n  //     vertical: { isSnap: false, index: -1 } as SnapInfo,\n  // } :\n  var _b = checkSnapPoses(guideines, posesX, posesY, [], [], snapHorizontalThreshold, snapVerticalThreshold, multiples),horizontalSnapInfo = _b.horizontal,verticalSnapInfo = _b.vertical;\n  var horizontalOffset = getSnapBound(horizontalBoundInfos[0], horizontalSnapInfo);\n  var verticalOffset = getSnapBound(verticalBoundInfos[0], verticalSnapInfo);\n  var horizontalDist = abs(horizontalOffset);\n  var verticalDist = abs(verticalOffset);\n  return {\n    horizontal: {\n      isBound: horizontalBoundInfos[0].isBound,\n      isSnap: horizontalSnapInfo.isSnap,\n      snapIndex: horizontalSnapInfo.index,\n      offset: horizontalOffset,\n      dist: horizontalDist,\n      bounds: horizontalBoundInfos,\n      snap: horizontalSnapInfo\n    },\n    vertical: {\n      isBound: verticalBoundInfos[0].isBound,\n      isSnap: verticalSnapInfo.isSnap,\n      snapIndex: verticalSnapInfo.index,\n      offset: verticalOffset,\n      dist: verticalDist,\n      bounds: verticalBoundInfos,\n      snap: verticalSnapInfo\n    }\n  };\n}\nfunction checkSnapRightLine(startPos, endPos, snapBoundInfo, keepRatio) {\n  var rad = getRad(startPos, endPos) / Math.PI * 180;\n  var _a = snapBoundInfo.vertical,isVerticalBound = _a.isBound,isVerticalSnap = _a.isSnap,verticalDist = _a.dist,_b = snapBoundInfo.horizontal,isHorizontalBound = _b.isBound,isHorizontalSnap = _b.isSnap,horizontalDist = _b.dist;\n  var rad180 = rad % 180;\n  var isHorizontalLine = rad180 < 3 || rad180 > 177;\n  var isVerticalLine = rad180 > 87 && rad180 < 93;\n  if (horizontalDist < verticalDist) {\n    if (isVerticalBound ||\n    isVerticalSnap &&\n    !isVerticalLine && (\n    !keepRatio || !isHorizontalLine)) {\n      return \"vertical\";\n    }\n  }\n  if (isHorizontalBound ||\n  isHorizontalSnap &&\n  !isHorizontalLine && (\n  !keepRatio || !isVerticalLine)) {\n    return \"horizontal\";\n  }\n  return \"\";\n}\nfunction getSnapBoundInfo(moveable, poses, directions, keepRatio, isRequest, datas) {\n  return directions.map(function (_a) {\n    var _b = __read(_a, 2),startDirection = _b[0],endDirection = _b[1];\n    var otherStartPos = getPosByDirection(poses, startDirection);\n    var otherEndPos = getPosByDirection(poses, endDirection);\n    var snapBoundInfo = keepRatio ?\n    checkSnapBoundsKeepRatio(moveable, otherStartPos, otherEndPos, isRequest) :\n    checkMoveableSnapBounds(moveable, isRequest, {\n      vertical: [otherEndPos[0]],\n      horizontal: [otherEndPos[1]]\n    });\n    var _c = snapBoundInfo.horizontal,\n      // dist: otherHorizontalDist,\n      otherHorizontalOffset = _c.offset,isOtherHorizontalBound = _c.isBound,isOtherHorizontalSnap = _c.isSnap,_d = snapBoundInfo.vertical,\n      // dist: otherVerticalDist,\n      otherVerticalOffset = _d.offset,isOtherVerticalBound = _d.isBound,isOtherVerticalSnap = _d.isSnap;\n    var multiple = minus(endDirection, startDirection);\n    if (!otherVerticalOffset && !otherHorizontalOffset) {\n      return {\n        isBound: isOtherVerticalBound || isOtherHorizontalBound,\n        isSnap: isOtherVerticalSnap || isOtherHorizontalSnap,\n        sign: multiple,\n        offset: [0, 0]\n      };\n    }\n    var snapLine = checkSnapRightLine(otherStartPos, otherEndPos, snapBoundInfo, keepRatio);\n    if (!snapLine) {\n      return {\n        sign: multiple,\n        isBound: false,\n        isSnap: false,\n        offset: [0, 0]\n      };\n    }\n    var isVertical = snapLine === \"vertical\";\n    var sizeOffset = [0, 0];\n    if (!keepRatio &&\n    abs(endDirection[0]) === 1 &&\n    abs(endDirection[1]) === 1 &&\n    startDirection[0] !== endDirection[0] &&\n    startDirection[1] !== endDirection[1]) {\n      sizeOffset = getDragDist({\n        datas: datas,\n        distX: -otherVerticalOffset,\n        distY: -otherHorizontalOffset\n      });\n    } else\n    {\n      sizeOffset = solveNextOffset(otherStartPos, otherEndPos, -(isVertical ? otherVerticalOffset : otherHorizontalOffset), isVertical, datas).offset;\n    }\n    sizeOffset = sizeOffset.map(function (size, i) {return size * (multiple[i] ? 2 / multiple[i] : 0);});\n    return {\n      sign: multiple,\n      isBound: isVertical ? isOtherVerticalBound : isOtherHorizontalBound,\n      isSnap: isVertical ? isOtherVerticalSnap : isOtherHorizontalSnap,\n      offset: sizeOffset\n    };\n  });\n}\nfunction getSnapBoundOffset(boundInfo, snapInfo) {\n  if (boundInfo.isBound) {\n    return boundInfo.offset;\n  } else\n  if (snapInfo.isSnap) {\n    return snapInfo.offset;\n  }\n  return 0;\n}\nfunction checkSnapBoundsKeepRatio(moveable, startPos, endPos, isRequest) {\n  var _a = checkBoundKeepRatio(moveable, startPos, endPos),horizontalBoundInfo = _a.horizontal,verticalBoundInfo = _a.vertical;\n  var _b = isRequest ? {\n      horizontal: { isSnap: false },\n      vertical: { isSnap: false }\n    } : checkSnapKeepRatio(moveable, startPos, endPos),horizontalSnapInfo = _b.horizontal,verticalSnapInfo = _b.vertical;\n  var horizontalOffset = getSnapBoundOffset(horizontalBoundInfo, horizontalSnapInfo);\n  var verticalOffset = getSnapBoundOffset(verticalBoundInfo, verticalSnapInfo);\n  var horizontalDist = abs(horizontalOffset);\n  var verticalDist = abs(verticalOffset);\n  return {\n    horizontal: {\n      isBound: horizontalBoundInfo.isBound,\n      isSnap: horizontalSnapInfo.isSnap,\n      offset: horizontalOffset,\n      dist: horizontalDist\n    },\n    vertical: {\n      isBound: verticalBoundInfo.isBound,\n      isSnap: verticalSnapInfo.isSnap,\n      offset: verticalOffset,\n      dist: verticalDist\n    }\n  };\n}\nfunction checkMaxBounds(moveable, poses, direction, fixedPosition, datas) {\n  var fixedDirection = [-direction[0], -direction[1]];\n  var _a = moveable.state,width = _a.width,height = _a.height;\n  var bounds = moveable.props.bounds;\n  var maxWidth = Infinity;\n  var maxHeight = Infinity;\n  if (bounds) {\n    var directions = [\n    [direction[0], -direction[1]],\n    [-direction[0], direction[1]]];\n\n    var _b = bounds.left,left_1 = _b === void 0 ? -Infinity : _b,_c = bounds.top,top_1 = _c === void 0 ? -Infinity : _c,_d = bounds.right,right_1 = _d === void 0 ? Infinity : _d,_e = bounds.bottom,bottom_1 = _e === void 0 ? Infinity : _e;\n    directions.forEach(function (otherDirection) {\n      var isCheckVertical = otherDirection[0] !== fixedDirection[0];\n      var isCheckHorizontal = otherDirection[1] !== fixedDirection[1];\n      var otherPos = getPosByDirection(poses, otherDirection);\n      var deg = getRad(fixedPosition, otherPos) * 360 / Math.PI;\n      if (isCheckHorizontal) {\n        var nextOtherPos = otherPos.slice();\n        if (abs(deg - 360) < 2 || abs(deg - 180) < 2) {\n          nextOtherPos[1] = fixedPosition[1];\n        }\n        var _a = solveNextOffset(fixedPosition, nextOtherPos, (fixedPosition[1] < otherPos[1] ? bottom_1 : top_1) -\n          otherPos[1], false, datas),_b = __read(_a.offset, 2),heightOffset = _b[1],isHeightOutside = _a.isOutside;\n        if (!isNaN(heightOffset)) {\n          maxHeight = height + (isHeightOutside ? 1 : -1) * abs(heightOffset);\n        }\n      }\n      if (isCheckVertical) {\n        var nextOtherPos = otherPos.slice();\n        if (abs(deg - 90) < 2 || abs(deg - 270) < 2) {\n          nextOtherPos[0] = fixedPosition[0];\n        }\n        var _c = solveNextOffset(fixedPosition, nextOtherPos, (fixedPosition[0] < otherPos[0] ? right_1 : left_1) - otherPos[0], true, datas),_d = __read(_c.offset, 1),widthOffset = _d[0],isWidthOutside = _c.isOutside;\n        if (!isNaN(widthOffset)) {\n          maxWidth = width + (isWidthOutside ? 1 : -1) * abs(widthOffset);\n        }\n      }\n    });\n  }\n  return {\n    maxWidth: maxWidth,\n    maxHeight: maxHeight\n  };\n}\n\n/**\r\n * @namespace Draggable\r\n * @memberof Moveable\r\n * @description Draggable refers to the ability to drag and move targets.\r\n */\nvar Draggable = {\n  name: \"draggable\",\n  props: [\n  \"draggable\",\n  \"throttleDrag\",\n  \"throttleDragRotate\",\n  \"hideThrottleDragRotateLine\",\n  \"startDragRotate\",\n  \"edgeDraggable\"],\n\n  events: [\n  \"dragStart\",\n  \"drag\",\n  \"dragEnd\",\n  \"dragGroupStart\",\n  \"dragGroup\",\n  \"dragGroupEnd\"],\n\n  requestStyle: function () {\n    return [\"left\", \"top\", \"right\", \"bottom\"];\n  },\n  requestChildStyle: function () {\n    return [\"left\", \"top\", \"right\", \"bottom\"];\n  },\n  render: function (moveable, React) {\n    var _a = moveable.props,hideThrottleDragRotateLine = _a.hideThrottleDragRotateLine,throttleDragRotate = _a.throttleDragRotate,zoom = _a.zoom;\n    var _b = moveable.getState(),dragInfo = _b.dragInfo,beforeOrigin = _b.beforeOrigin;\n    if (hideThrottleDragRotateLine || !throttleDragRotate || !dragInfo) {\n      return [];\n    }\n    var dist = dragInfo.dist;\n    if (!dist[0] && !dist[1]) {\n      return [];\n    }\n    var width = getDistSize(dist);\n    var rad = getRad(dist, [0, 0]);\n    return [React.createElement(\"div\", { className: prefix(\"line\", \"horizontal\", \"dragline\", \"dashed\"), key: \"dragRotateGuideline\", style: {\n        width: \"\".concat(width, \"px\"),\n        transform: \"translate(\".concat(beforeOrigin[0], \"px, \").concat(beforeOrigin[1], \"px) rotate(\").concat(rad, \"rad) scaleY(\").concat(zoom, \")\")\n      } })];\n  },\n  dragStart: function (moveable, e) {\n    var datas = e.datas,parentEvent = e.parentEvent,parentGesto = e.parentGesto;\n    var state = moveable.state;\n    var gestos = state.gestos,style = state.style;\n    if (gestos.draggable) {\n      return false;\n    }\n    gestos.draggable = parentGesto || moveable.targetGesto;\n    datas.datas = {};\n    datas.left = parseFloat(style.left || \"\") || 0;\n    datas.top = parseFloat(style.top || \"\") || 0;\n    datas.bottom = parseFloat(style.bottom || \"\") || 0;\n    datas.right = parseFloat(style.right || \"\") || 0;\n    datas.startValue = [0, 0];\n    setDragStart(moveable, e);\n    setDefaultTransformIndex(moveable, e, \"translate\");\n    startCheckSnapDrag(moveable, datas);\n    datas.prevDist = [0, 0];\n    datas.prevBeforeDist = [0, 0];\n    datas.isDrag = false;\n    datas.deltaOffset = [0, 0];\n    var params = fillParams(moveable, e, __assign({ set: function (translate) {\n        datas.startValue = translate;\n      } }, fillTransformStartEvent(moveable, e)));\n    var result = parentEvent || triggerEvent(moveable, \"onDragStart\", params);\n    if (result !== false) {\n      datas.isDrag = true;\n      moveable.state.dragInfo = {\n        startRect: moveable.getRect(),\n        dist: [0, 0]\n      };\n    } else\n    {\n      gestos.draggable = null;\n      datas.isPinch = false;\n    }\n    return datas.isDrag ? params : false;\n  },\n  drag: function (moveable, e) {\n    if (!e) {\n      return;\n    }\n    resolveTransformEvent(moveable, e, \"translate\");\n    var datas = e.datas,parentEvent = e.parentEvent,parentFlag = e.parentFlag,isPinch = e.isPinch,deltaOffset = e.deltaOffset,useSnap = e.useSnap,isRequest = e.isRequest,isGroup = e.isGroup,parentThrottleDrag = e.parentThrottleDrag;\n    var distX = e.distX,distY = e.distY;\n    var isDrag = datas.isDrag,prevDist = datas.prevDist,prevBeforeDist = datas.prevBeforeDist,startValue = datas.startValue;\n    if (!isDrag) {\n      return;\n    }\n    if (deltaOffset) {\n      distX += deltaOffset[0];\n      distY += deltaOffset[1];\n    }\n    var props = moveable.props;\n    var parentMoveable = props.parentMoveable;\n    var throttleDrag = isGroup ? 0 : props.throttleDrag || parentThrottleDrag || 0;\n    var throttleDragRotate = parentEvent ? 0 : props.throttleDragRotate || 0;\n    var dragRotateRad = 0;\n    var isVerticalSnap = false;\n    var isVerticalBound = false;\n    var isHorizontalSnap = false;\n    var isHorizontalBound = false;\n    if (!parentEvent && throttleDragRotate > 0 && (distX || distY)) {\n      var startDragRotate = props.startDragRotate || 0;\n      var deg = throttle(startDragRotate + getRad([0, 0], [distX, distY]) * 180 / Math.PI, throttleDragRotate) -\n      startDragRotate;\n      var ry = distY * Math.abs(Math.cos((deg - 90) / 180 * Math.PI));\n      var rx = distX * Math.abs(Math.cos(deg / 180 * Math.PI));\n      var r = getDistSize([rx, ry]);\n      dragRotateRad = deg * Math.PI / 180;\n      distX = r * Math.cos(dragRotateRad);\n      distY = r * Math.sin(dragRotateRad);\n    }\n    if (!isPinch && !parentEvent && !parentFlag) {\n      var _a = __read(checkSnapBoundsDrag(moveable, distX, distY, throttleDragRotate, !useSnap && isRequest || deltaOffset, datas), 2),verticalInfo = _a[0],horizontalInfo = _a[1];\n      isVerticalSnap = verticalInfo.isSnap;\n      isVerticalBound = verticalInfo.isBound;\n      isHorizontalSnap = horizontalInfo.isSnap;\n      isHorizontalBound = horizontalInfo.isBound;\n      var verticalOffset = verticalInfo.offset;\n      var horizontalOffset = horizontalInfo.offset;\n      distX += verticalOffset;\n      distY += horizontalOffset;\n    }\n    var beforeTranslate = plus(getBeforeDragDist({ datas: datas, distX: distX, distY: distY }), startValue);\n    var translate = plus(getTransformDist({ datas: datas, distX: distX, distY: distY }), startValue);\n    throttleArray(translate, TINY_NUM);\n    throttleArray(beforeTranslate, TINY_NUM);\n    if (!throttleDragRotate) {\n      if (!isVerticalSnap && !isVerticalBound) {\n        translate[0] = throttle(translate[0], throttleDrag);\n        beforeTranslate[0] = throttle(beforeTranslate[0], throttleDrag);\n      }\n      if (!isHorizontalSnap && !isHorizontalBound) {\n        translate[1] = throttle(translate[1], throttleDrag);\n        beforeTranslate[1] = throttle(beforeTranslate[1], throttleDrag);\n      }\n    }\n    var beforeDist = minus(beforeTranslate, startValue);\n    var dist = minus(translate, startValue);\n    var delta = minus(dist, prevDist);\n    var beforeDelta = minus(beforeDist, prevBeforeDist);\n    datas.prevDist = dist;\n    datas.prevBeforeDist = beforeDist;\n    datas.passDelta = delta; //distX - (datas.passDistX || 0);\n    // datas.passDeltaY = distY - (datas.passDistY || 0);\n    datas.passDist = dist; //distX;\n    // datas.passDistY = distY;\n    var left = datas.left + beforeDist[0];\n    var top = datas.top + beforeDist[1];\n    var right = datas.right - beforeDist[0];\n    var bottom = datas.bottom - beforeDist[1];\n    var nextTransform = convertTransformFormat(datas, \"translate(\".concat(translate[0], \"px, \").concat(translate[1], \"px)\"), \"translate(\".concat(dist[0], \"px, \").concat(dist[1], \"px)\"));\n    fillOriginalTransform(e, nextTransform);\n    moveable.state.dragInfo.dist = parentEvent ? [0, 0] : dist;\n    if (!parentEvent && !parentMoveable && delta.every(function (num) {return !num;}) && beforeDelta.some(function (num) {return !num;})) {\n      return;\n    }\n    var _b = moveable.state,width = _b.width,height = _b.height;\n    var params = fillParams(moveable, e, __assign({ transform: nextTransform, dist: dist, delta: delta, translate: translate, beforeDist: beforeDist, beforeDelta: beforeDelta, beforeTranslate: beforeTranslate, left: left, top: top, right: right, bottom: bottom, width: width, height: height, isPinch: isPinch }, fillCSSObject({\n      transform: nextTransform\n    }, e)));\n    !parentEvent && triggerEvent(moveable, \"onDrag\", params);\n    return params;\n  },\n  dragAfter: function (moveable, e) {\n    var datas = e.datas;\n    var deltaOffset = datas.deltaOffset;\n    if (deltaOffset[0] || deltaOffset[1]) {\n      datas.deltaOffset = [0, 0];\n      return this.drag(moveable, __assign(__assign({}, e), { deltaOffset: deltaOffset }));\n    }\n    return false;\n  },\n  dragEnd: function (moveable, e) {\n    var parentEvent = e.parentEvent,datas = e.datas;\n    moveable.state.dragInfo = null;\n    if (!datas.isDrag) {\n      return;\n    }\n    datas.isDrag = false;\n    var param = fillEndParams(moveable, e, {});\n    !parentEvent && triggerEvent(moveable, \"onDragEnd\", param);\n    return param;\n  },\n  dragGroupStart: function (moveable, e) {\n    var _a, _b;\n    var datas = e.datas,clientX = e.clientX,clientY = e.clientY;\n    var params = this.dragStart(moveable, e);\n    if (!params) {\n      return false;\n    }\n    var _c = triggerChildGesto(moveable, this, \"dragStart\", [\n      clientX || 0,\n      clientY || 0],\n      e, false, \"draggable\"),childEvents = _c.childEvents,eventParams = _c.eventParams;\n    var nextParams = __assign(__assign({}, params), { targets: moveable.props.targets, events: eventParams });\n    var result = triggerEvent(moveable, \"onDragGroupStart\", nextParams);\n    datas.isDrag = result !== false;\n    // find data.startValue and based on first child moveable\n    var startValue = (_b = (_a = childEvents[0]) === null || _a === void 0 ? void 0 : _a.datas.startValue) !== null && _b !== void 0 ? _b : [0, 0];\n    datas.throttleOffset = [startValue[0] % 1, startValue[1] % 1];\n    return datas.isDrag ? params : false;\n  },\n  dragGroup: function (moveable, e) {\n    var datas = e.datas;\n    if (!datas.isDrag) {\n      return;\n    }\n    var params = this.drag(moveable, __assign(__assign({}, e), { parentThrottleDrag: moveable.props.throttleDrag }));\n    var passDelta = e.datas.passDelta;\n    var eventParams = triggerChildGesto(moveable, this, \"drag\", passDelta, e, false, \"draggable\").eventParams;\n    if (!params) {\n      return;\n    }\n    var nextParams = __assign({ targets: moveable.props.targets, events: eventParams }, params);\n    triggerEvent(moveable, \"onDragGroup\", nextParams);\n    return nextParams;\n  },\n  dragGroupEnd: function (moveable, e) {\n    var isDrag = e.isDrag,datas = e.datas;\n    if (!datas.isDrag) {\n      return;\n    }\n    this.dragEnd(moveable, e);\n    var eventParams = triggerChildGesto(moveable, this, \"dragEnd\", [0, 0], e, false, \"draggable\").eventParams;\n    triggerEvent(moveable, \"onDragGroupEnd\", fillEndParams(moveable, e, {\n      targets: moveable.props.targets,\n      events: eventParams\n    }));\n    return isDrag;\n  },\n  /**\r\n   * @method Moveable.Draggable#request\r\n   * @param {object} [e] - the draggable's request parameter\r\n   * @param {number} [e.x] - x position\r\n   * @param {number} [e.y] - y position\r\n   * @param {number} [e.deltaX] - X number to move\r\n   * @param {number} [e.deltaY] - Y number to move\r\n   * @return {Moveable.Requester} Moveable Requester\r\n   * @example\r\n    * // Instantly Request (requestStart - request - requestEnd)\r\n   * // Use Relative Value\r\n   * moveable.request(\"draggable\", { deltaX: 10, deltaY: 10 }, true);\r\n   * // Use Absolute Value\r\n   * moveable.request(\"draggable\", { x: 200, y: 100 }, true);\r\n   *\r\n   * // requestStart\r\n   * const requester = moveable.request(\"draggable\");\r\n   *\r\n   * // request\r\n   * // Use Relative Value\r\n   * requester.request({ deltaX: 10, deltaY: 10 });\r\n   * requester.request({ deltaX: 10, deltaY: 10 });\r\n   * requester.request({ deltaX: 10, deltaY: 10 });\r\n   * // Use Absolute Value\r\n   * moveable.request(\"draggable\", { x: 200, y: 100 });\r\n   * moveable.request(\"draggable\", { x: 220, y: 100 });\r\n   * moveable.request(\"draggable\", { x: 240, y: 100 });\r\n   *\r\n   * // requestEnd\r\n   * requester.requestEnd();\r\n   */\n\n  request: function (moveable) {\n    var datas = {};\n    var rect = moveable.getRect();\n    var distX = 0;\n    var distY = 0;\n    var useSnap = false;\n    return {\n      isControl: false,\n      requestStart: function (e) {\n        useSnap = e.useSnap;\n        return { datas: datas, useSnap: useSnap };\n      },\n      request: function (e) {\n        if (\"x\" in e) {\n          distX = e.x - rect.left;\n        } else\n        if (\"deltaX\" in e) {\n          distX += e.deltaX;\n        }\n        if (\"y\" in e) {\n          distY = e.y - rect.top;\n        } else\n        if (\"deltaY\" in e) {\n          distY += e.deltaY;\n        }\n        return { datas: datas, distX: distX, distY: distY, useSnap: useSnap };\n      },\n      requestEnd: function () {\n        return { datas: datas, isDrag: true, useSnap: useSnap };\n      }\n    };\n  },\n  unset: function (moveable) {\n    moveable.state.gestos.draggable = null;\n    moveable.state.dragInfo = null;\n  }\n};\n/**\r\n * Whether or not target can be dragged. (default: false)\r\n * @name Moveable.Draggable#draggable\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body);\r\n *\r\n * moveable.draggable = true;\r\n */\n/**\r\n * throttle of x, y when drag.\r\n * @name Moveable.Draggable#throttleDrag\r\n * @default 0\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body);\r\n *\r\n * moveable.throttleDrag = 1;\r\n */\n/**\r\n* throttle of angle of x, y when drag.\r\n* @name Moveable.Draggable#throttleDragRotate\r\n* @example\r\n* import Moveable from \"moveable\";\r\n*\r\n* const moveable = new Moveable(document.body);\r\n*\r\n* moveable.throttleDragRotate = 45;\r\n*/\n/**\r\n* start angle of throttleDragRotate of x, y when drag.\r\n* @name Moveable.Draggable#startDragRotate\r\n* @example\r\n* import Moveable from \"moveable\";\r\n*\r\n* const moveable = new Moveable(document.body);\r\n*\r\n* // 45, 135, 225, 315\r\n* moveable.throttleDragRotate = 90;\r\n* moveable.startDragRotate = 45;\r\n*/\n/**\r\n * When the drag starts, the dragStart event is called.\r\n * @memberof Moveable.Draggable\r\n * @event dragStart\r\n * @param {Moveable.Draggable.OnDragStart} - Parameters for the dragStart event\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body, { draggable: true });\r\n * moveable.on(\"dragStart\", ({ target }) => {\r\n *     console.log(target);\r\n * });\r\n */\n/**\r\n * When dragging, the drag event is called.\r\n * @memberof Moveable.Draggable\r\n * @event drag\r\n * @param {Moveable.Draggable.OnDrag} - Parameters for the drag event\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body, { draggable: true });\r\n * moveable.on(\"drag\", ({ target, transform }) => {\r\n *     target.style.transform = transform;\r\n * });\r\n */\n/**\r\n * When the drag finishes, the dragEnd event is called.\r\n * @memberof Moveable.Draggable\r\n * @event dragEnd\r\n * @param {Moveable.Draggable.OnDragEnd} - Parameters for the dragEnd event\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body, { draggable: true });\r\n * moveable.on(\"dragEnd\", ({ target, isDrag }) => {\r\n *     console.log(target, isDrag);\r\n * });\r\n */\n/**\r\n* When the group drag starts, the `dragGroupStart` event is called.\r\n* @memberof Moveable.Draggable\r\n* @event dragGroupStart\r\n* @param {Moveable.Draggable.OnDragGroupStart} - Parameters for the `dragGroupStart` event\r\n* @example\r\n* import Moveable from \"moveable\";\r\n*\r\n* const moveable = new Moveable(document.body, {\r\n*     target: [].slice.call(document.querySelectorAll(\".target\")),\r\n*     draggable: true\r\n* });\r\n* moveable.on(\"dragGroupStart\", ({ targets }) => {\r\n*     console.log(\"onDragGroupStart\", targets);\r\n* });\r\n*/\n/**\r\n* When the group drag, the `dragGroup` event is called.\r\n* @memberof Moveable.Draggable\r\n* @event dragGroup\r\n* @param {Moveable.Draggable.OnDragGroup} - Parameters for the `dragGroup` event\r\n* @example\r\n* import Moveable from \"moveable\";\r\n*\r\n* const moveable = new Moveable(document.body, {\r\n*     target: [].slice.call(document.querySelectorAll(\".target\")),\r\n*     draggable: true\r\n* });\r\n* moveable.on(\"dragGroup\", ({ targets, events }) => {\r\n*     console.log(\"onDragGroup\", targets);\r\n*     events.forEach(ev => {\r\n*          // drag event\r\n*          console.log(\"onDrag left, top\", ev.left, ev.top);\r\n*          // ev.target!.style.left = `${ev.left}px`;\r\n*          // ev.target!.style.top = `${ev.top}px`;\r\n*          console.log(\"onDrag translate\", ev.dist);\r\n*          ev.target!.style.transform = ev.transform;)\r\n*     });\r\n* });\r\n*/\n/**\r\n * When the group drag finishes, the `dragGroupEnd` event is called.\r\n * @memberof Moveable.Draggable\r\n * @event dragGroupEnd\r\n * @param {Moveable.Draggable.OnDragGroupEnd} - Parameters for the `dragGroupEnd` event\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body, {\r\n *     target: [].slice.call(document.querySelectorAll(\".target\")),\r\n *     draggable: true\r\n * });\r\n * moveable.on(\"dragGroupEnd\", ({ targets, isDrag }) => {\r\n *     console.log(\"onDragGroupEnd\", targets, isDrag);\r\n * });\r\n */\n\nfunction getFixedDirectionInfo(startPositions, fixedDirection) {\n  var fixedPosition = getPosByDirection(startPositions, fixedDirection);\n  var fixedOffset = [0, 0];\n  return {\n    fixedPosition: fixedPosition,\n    fixedDirection: fixedDirection,\n    fixedOffset: fixedOffset\n  };\n}\nfunction getOffsetFixedDirectionInfo(state, fixedDirection) {\n  // for start\n  var allMatrix = state.allMatrix,is3d = state.is3d,width = state.width,height = state.height;\n  var n = is3d ? 4 : 3;\n  var nextFixedOffset = [\n  width / 2 * (1 + fixedDirection[0]),\n  height / 2 * (1 + fixedDirection[1])];\n\n  var fixedPosition = calculatePosition(allMatrix, nextFixedOffset, n);\n  var fixedOffset = [0, 0];\n  return {\n    fixedPosition: fixedPosition,\n    fixedDirection: fixedDirection,\n    fixedOffset: fixedOffset\n  };\n}\nfunction getOffsetFixedPositionInfo(state, offsetFixedPosition) {\n  // for start\n  var allMatrix = state.allMatrix,is3d = state.is3d,width = state.width,height = state.height;\n  var n = is3d ? 4 : 3;\n  var fixedDirection = getDirectionByPos(offsetFixedPosition, width, height);\n  var nextFixedPosition = calculatePosition(allMatrix, offsetFixedPosition, n);\n  var fixedOffset = [\n  width ? 0 : offsetFixedPosition[0],\n  height ? 0 : offsetFixedPosition[1]];\n\n  return {\n    fixedPosition: nextFixedPosition,\n    fixedDirection: fixedDirection,\n    fixedOffset: fixedOffset\n  };\n}\n\n/**\r\n * @namespace Resizable\r\n * @memberof Moveable\r\n * @description Resizable indicates whether the target's width and height can be increased or decreased.\r\n */\nvar directionCondition$2 = getDirectionCondition(\"resizable\");\nvar Resizable = {\n  name: \"resizable\",\n  ableGroup: \"size\",\n  canPinch: true,\n  props: [\n  \"resizable\",\n  \"throttleResize\",\n  \"renderDirections\",\n  \"displayAroundControls\",\n  \"keepRatio\",\n  \"resizeFormat\",\n  \"keepRatioFinally\",\n  \"edge\",\n  \"checkResizableError\"],\n\n  events: [\n  \"resizeStart\",\n  \"beforeResize\",\n  \"resize\",\n  \"resizeEnd\",\n  \"resizeGroupStart\",\n  \"beforeResizeGroup\",\n  \"resizeGroup\",\n  \"resizeGroupEnd\"],\n\n  render: getRenderDirections(\"resizable\"),\n  dragControlCondition: directionCondition$2,\n  viewClassName: getDirectionViewClassName(\"resizable\"),\n  dragControlStart: function (moveable, e) {\n    var _a;\n    var inputEvent = e.inputEvent,isPinch = e.isPinch,isGroup = e.isGroup,parentDirection = e.parentDirection,parentGesto = e.parentGesto,datas = e.datas,parentFixedDirection = e.parentFixedDirection,parentEvent = e.parentEvent;\n    var direction = getTotalDirection(parentDirection, isPinch, inputEvent, datas);\n    var state = moveable.state;\n    var target = state.target,width = state.width,height = state.height,gestos = state.gestos;\n    if (!direction || !target) {\n      return false;\n    }\n    if (gestos.resizable) {\n      return false;\n    }\n    gestos.resizable = parentGesto || moveable.controlGesto;\n    !isPinch && setDragStart(moveable, e);\n    datas.datas = {};\n    datas.direction = direction;\n    datas.startOffsetWidth = width;\n    datas.startOffsetHeight = height;\n    datas.prevWidth = 0;\n    datas.prevHeight = 0;\n    datas.minSize = [0, 0];\n    datas.startWidth = state.inlineCSSWidth || state.cssWidth;\n    datas.startHeight = state.inlineCSSHeight || state.cssHeight;\n    datas.maxSize = [Infinity, Infinity];\n    if (!isGroup) {\n      datas.minSize = [\n      state.minOffsetWidth,\n      state.minOffsetHeight];\n\n      datas.maxSize = [\n      state.maxOffsetWidth,\n      state.maxOffsetHeight];\n\n    }\n    var transformOrigin = moveable.props.transformOrigin || \"% %\";\n    datas.transformOrigin = transformOrigin && isString(transformOrigin) ?\n    transformOrigin.split(\" \") :\n    transformOrigin;\n    datas.startOffsetMatrix = state.offsetMatrix;\n    datas.startTransformOrigin = state.transformOrigin;\n    datas.isWidth = (_a = e === null || e === void 0 ? void 0 : e.parentIsWidth) !== null && _a !== void 0 ? _a : !direction[0] && !direction[1] || direction[0] || !direction[1];\n    function setRatio(ratio) {\n      datas.ratio = ratio && isFinite(ratio) ? ratio : 0;\n    }\n    datas.startPositions = getAbsolutePosesByState(moveable.state);\n    function setFixedDirection(fixedDirection) {\n      var result = getFixedDirectionInfo(datas.startPositions, fixedDirection);\n      datas.fixedDirection = result.fixedDirection;\n      datas.fixedPosition = result.fixedPosition;\n      datas.fixedOffset = result.fixedOffset;\n    }\n    function setFixedPosition(fixedPosition) {\n      var result = getOffsetFixedPositionInfo(moveable.state, fixedPosition);\n      datas.fixedDirection = result.fixedDirection;\n      datas.fixedPosition = result.fixedPosition;\n      datas.fixedOffset = result.fixedOffset;\n    }\n    function setMin(minSize) {\n      datas.minSize = [\n      convertUnitSize(\"\".concat(minSize[0]), 0) || 0,\n      convertUnitSize(\"\".concat(minSize[1]), 0) || 0];\n\n    }\n    function setMax(maxSize) {\n      var nextMaxSize = [\n      maxSize[0] || Infinity,\n      maxSize[1] || Infinity];\n\n      if (!isNumber(nextMaxSize[0]) || isFinite(nextMaxSize[0])) {\n        nextMaxSize[0] = convertUnitSize(\"\".concat(nextMaxSize[0]), 0) || Infinity;\n      }\n      if (!isNumber(nextMaxSize[1]) || isFinite(nextMaxSize[1])) {\n        nextMaxSize[1] = convertUnitSize(\"\".concat(nextMaxSize[1]), 0) || Infinity;\n      }\n      datas.maxSize = nextMaxSize;\n    }\n    setRatio(width / height);\n    setFixedDirection(parentFixedDirection || [-direction[0], -direction[1]]);\n    datas.setFixedDirection = setFixedDirection;\n    datas.setFixedPosition = setFixedPosition;\n    datas.setMin = setMin;\n    datas.setMax = setMax;\n    var params = fillParams(moveable, e, {\n      direction: direction,\n      startRatio: datas.ratio,\n      set: function (_a) {\n        var _b = __read(_a, 2),startWidth = _b[0],startHeight = _b[1];\n        datas.startWidth = startWidth;\n        datas.startHeight = startHeight;\n      },\n      setMin: setMin,\n      setMax: setMax,\n      setRatio: setRatio,\n      setFixedDirection: setFixedDirection,\n      setFixedPosition: setFixedPosition,\n      setOrigin: function (origin) {\n        datas.transformOrigin = origin;\n      },\n      dragStart: Draggable.dragStart(moveable, new CustomGesto().dragStart([0, 0], e))\n    });\n    var result = parentEvent || triggerEvent(moveable, \"onResizeStart\", params);\n    datas.startFixedDirection = datas.fixedDirection;\n    datas.startFixedPosition = datas.fixedPosition;\n    if (result !== false) {\n      datas.isResize = true;\n      moveable.state.snapRenderInfo = {\n        request: e.isRequest,\n        direction: direction\n      };\n    }\n    return datas.isResize ? params : false;\n  },\n  dragControl: function (moveable, e) {\n    var _a;\n    var datas = e.datas,parentFlag = e.parentFlag,isPinch = e.isPinch,parentKeepRatio = e.parentKeepRatio,dragClient = e.dragClient,parentDist = e.parentDist,useSnap = e.useSnap,isRequest = e.isRequest,isGroup = e.isGroup,parentEvent = e.parentEvent,resolveMatrix = e.resolveMatrix;\n    var isResize = datas.isResize,transformOrigin = datas.transformOrigin,startWidth = datas.startWidth,startHeight = datas.startHeight,prevWidth = datas.prevWidth,prevHeight = datas.prevHeight,minSize = datas.minSize,maxSize = datas.maxSize,ratio = datas.ratio,startOffsetWidth = datas.startOffsetWidth,startOffsetHeight = datas.startOffsetHeight,isWidth = datas.isWidth;\n    if (!isResize) {\n      return;\n    }\n    if (resolveMatrix) {\n      var is3d = moveable.state.is3d;\n      var startOffsetMatrix = datas.startOffsetMatrix,startTransformOrigin = datas.startTransformOrigin;\n      var n = is3d ? 4 : 3;\n      var targetMatrix = parseMat(getNextTransforms(e));\n      var targetN = Math.sqrt(targetMatrix.length);\n      if (n !== targetN) {\n        targetMatrix = convertDimension(targetMatrix, targetN, n);\n      }\n      var nextAllMatrix = getNextMatrix(startOffsetMatrix, targetMatrix, startTransformOrigin, n);\n      var poses = calculatePoses(nextAllMatrix, startOffsetWidth, startOffsetHeight, n);\n      datas.startPositions = poses;\n      datas.nextTargetMatrix = targetMatrix;\n      datas.nextAllMatrix = nextAllMatrix;\n    }\n    var props = getProps(moveable.props, \"resizable\");\n    var resizeFormat = props.resizeFormat,_b = props.throttleResize,throttleResize = _b === void 0 ? parentFlag ? 0 : 1 : _b,parentMoveable = props.parentMoveable,keepRatioFinally = props.keepRatioFinally;\n    var direction = datas.direction;\n    var sizeDirection = direction;\n    var distWidth = 0;\n    var distHeight = 0;\n    if (!direction[0] && !direction[1]) {\n      sizeDirection = [1, 1];\n    }\n    var keepRatio = ratio && (parentKeepRatio != null ? parentKeepRatio : props.keepRatio) || false;\n    function getNextBoundingSize() {\n      var fixedDirection = datas.fixedDirection;\n      var nextSize = getOffsetSizeDist(sizeDirection, keepRatio, datas, e);\n      distWidth = nextSize.distWidth;\n      distHeight = nextSize.distHeight;\n      var nextWidth = sizeDirection[0] - fixedDirection[0] || keepRatio ?\n      Math.max(startOffsetWidth + distWidth, TINY_NUM) : startOffsetWidth;\n      var nextHeight = sizeDirection[1] - fixedDirection[1] || keepRatio ?\n      Math.max(startOffsetHeight + distHeight, TINY_NUM) : startOffsetHeight;\n      if (keepRatio && startOffsetWidth && startOffsetHeight) {\n        // startOffsetWidth : startOffsetHeight = nextWidth : nextHeight\n        if (isWidth) {\n          nextHeight = nextWidth / ratio;\n        } else\n        {\n          nextWidth = nextHeight * ratio;\n        }\n      }\n      return [nextWidth, nextHeight];\n    }\n    var _c = __read(getNextBoundingSize(), 2),boundingWidth = _c[0],boundingHeight = _c[1];\n    if (!parentEvent) {\n      datas.setFixedDirection(datas.fixedDirection);\n      triggerEvent(moveable, \"onBeforeResize\", fillParams(moveable, e, {\n        startFixedDirection: datas.startFixedDirection,\n        startFixedPosition: datas.startFixedPosition,\n        setFixedDirection: function (nextFixedDirection) {\n          var _a;\n          datas.setFixedDirection(nextFixedDirection);\n          _a = __read(getNextBoundingSize(), 2), boundingWidth = _a[0], boundingHeight = _a[1];\n          return [boundingWidth, boundingHeight];\n        },\n        setFixedPosition: function (nextFixedPosition) {\n          var _a;\n          datas.setFixedPosition(nextFixedPosition);\n          _a = __read(getNextBoundingSize(), 2), boundingWidth = _a[0], boundingHeight = _a[1];\n          return [boundingWidth, boundingHeight];\n        },\n        boundingWidth: boundingWidth,\n        boundingHeight: boundingHeight,\n        setSize: function (size) {\n          var _a;\n          _a = __read(size, 2), boundingWidth = _a[0], boundingHeight = _a[1];\n        }\n      }, true));\n    }\n    var fixedPosition = dragClient;\n    if (!dragClient) {\n      if (!parentFlag && isPinch) {\n        fixedPosition = getAbsolutePosition(moveable, [0, 0]);\n      } else\n      {\n        fixedPosition = datas.fixedPosition;\n      }\n    }\n    var snapDist = [0, 0];\n    if (!isPinch) {\n      snapDist = checkSnapResize(moveable, boundingWidth, boundingHeight, direction, fixedPosition, !useSnap && isRequest, datas);\n    }\n    if (parentDist) {\n      !parentDist[0] && (snapDist[0] = 0);\n      !parentDist[1] && (snapDist[1] = 0);\n    }\n    function computeSize() {\n      var _a;\n      if (resizeFormat) {\n        _a = __read(resizeFormat([boundingWidth, boundingHeight]), 2), boundingWidth = _a[0], boundingHeight = _a[1];\n      }\n      boundingWidth = throttle(boundingWidth, throttleResize);\n      boundingHeight = throttle(boundingHeight, throttleResize);\n    }\n    if (keepRatio) {\n      if (sizeDirection[0] && sizeDirection[1] && snapDist[0] && snapDist[1]) {\n        if (abs(snapDist[0]) > abs(snapDist[1])) {\n          snapDist[1] = 0;\n        } else\n        {\n          snapDist[0] = 0;\n        }\n      }\n      var isNoSnap = !snapDist[0] && !snapDist[1];\n      if (isNoSnap) {\n        // pre-compute before maintaining the ratio\n        computeSize();\n      }\n      if (sizeDirection[0] && !sizeDirection[1] ||\n      snapDist[0] && !snapDist[1] ||\n      isNoSnap && isWidth) {\n        boundingWidth += snapDist[0];\n        boundingHeight = boundingWidth / ratio;\n      } else\n      if (!sizeDirection[0] && sizeDirection[1] ||\n      !snapDist[0] && snapDist[1] ||\n      isNoSnap && !isWidth) {\n        boundingHeight += snapDist[1];\n        boundingWidth = boundingHeight * ratio;\n      }\n    } else\n    {\n      boundingWidth += snapDist[0];\n      boundingHeight += snapDist[1];\n      boundingWidth = Math.max(0, boundingWidth);\n      boundingHeight = Math.max(0, boundingHeight);\n    }\n    _a = __read(calculateBoundSize([boundingWidth, boundingHeight], minSize, maxSize, keepRatio ? ratio : false), 2), boundingWidth = _a[0], boundingHeight = _a[1];\n    computeSize();\n    if (keepRatio && (isGroup || keepRatioFinally)) {\n      if (isWidth) {\n        boundingHeight = boundingWidth / ratio;\n      } else\n      {\n        boundingWidth = boundingHeight * ratio;\n      }\n    }\n    distWidth = boundingWidth - startOffsetWidth;\n    distHeight = boundingHeight - startOffsetHeight;\n    var delta = [distWidth - prevWidth, distHeight - prevHeight];\n    datas.prevWidth = distWidth;\n    datas.prevHeight = distHeight;\n    var inverseDelta = getResizeDist(moveable, boundingWidth, boundingHeight, fixedPosition, transformOrigin, datas);\n    if (!parentMoveable && delta.every(function (num) {return !num;}) && inverseDelta.every(function (num) {return !num;})) {\n      return;\n    }\n    var drag = Draggable.drag(moveable, setCustomDrag(e, moveable.state, inverseDelta, !!isPinch, false, \"draggable\"));\n    var transform = drag.transform;\n    var nextWidth = startWidth + distWidth;\n    var nextHeight = startHeight + distHeight;\n    var params = fillParams(moveable, e, __assign({ width: nextWidth, height: nextHeight, offsetWidth: Math.round(boundingWidth), offsetHeight: Math.round(boundingHeight), startRatio: ratio, boundingWidth: boundingWidth, boundingHeight: boundingHeight, direction: direction, dist: [distWidth, distHeight], delta: delta, isPinch: !!isPinch, drag: drag }, fillAfterTransform({\n      style: {\n        width: \"\".concat(nextWidth, \"px\"),\n        height: \"\".concat(nextHeight, \"px\")\n      },\n      transform: transform\n    }, drag, e)));\n    !parentEvent && triggerEvent(moveable, \"onResize\", params);\n    return params;\n  },\n  dragControlAfter: function (moveable, e) {\n    var datas = e.datas;\n    var isResize = datas.isResize,startOffsetWidth = datas.startOffsetWidth,startOffsetHeight = datas.startOffsetHeight,prevWidth = datas.prevWidth,prevHeight = datas.prevHeight;\n    if (!isResize || moveable.props.checkResizableError === false) {\n      return;\n    }\n    var _a = moveable.state,width = _a.width,height = _a.height;\n    var errorWidth = width - (startOffsetWidth + prevWidth);\n    var errorHeight = height - (startOffsetHeight + prevHeight);\n    var isErrorWidth = abs(errorWidth) > 3;\n    var isErrorHeight = abs(errorHeight) > 3;\n    if (isErrorWidth) {\n      datas.startWidth += errorWidth;\n      datas.startOffsetWidth += errorWidth;\n      datas.prevWidth += errorWidth;\n    }\n    if (isErrorHeight) {\n      datas.startHeight += errorHeight;\n      datas.startOffsetHeight += errorHeight;\n      datas.prevHeight += errorHeight;\n    }\n    if (isErrorWidth || isErrorHeight) {\n      return this.dragControl(moveable, e);\n    }\n  },\n  dragControlEnd: function (moveable, e) {\n    var datas = e.datas,parentEvent = e.parentEvent;\n    if (!datas.isResize) {\n      return;\n    }\n    datas.isResize = false;\n    var params = fillEndParams(moveable, e, {});\n    !parentEvent && triggerEvent(moveable, \"onResizeEnd\", params);\n    return params;\n  },\n  dragGroupControlCondition: directionCondition$2,\n  dragGroupControlStart: function (moveable, e) {\n    var datas = e.datas;\n    var params = this.dragControlStart(moveable, __assign(__assign({}, e), { isGroup: true }));\n    if (!params) {\n      return false;\n    }\n    var originalEvents = fillChildEvents(moveable, \"resizable\", e);\n    var parentStartOffsetWidth = datas.startOffsetWidth,parentStartOffsetHeight = datas.startOffsetHeight;\n    function updateGroupMin() {\n      var originalMinSize = datas.minSize;\n      originalEvents.forEach(function (ev) {\n        var _a = ev.datas,childMinSize = _a.minSize,childStartOffsetWidth = _a.startOffsetWidth,childStartOffsetHeight = _a.startOffsetHeight;\n        var parentMinWidth = parentStartOffsetWidth * (\n        childStartOffsetWidth ? childMinSize[0] / childStartOffsetWidth : 0);\n        var parentMinHeight = parentStartOffsetHeight * (\n        childStartOffsetHeight ? childMinSize[1] / childStartOffsetHeight : 0);\n        originalMinSize[0] = Math.max(originalMinSize[0], parentMinWidth);\n        originalMinSize[1] = Math.max(originalMinSize[1], parentMinHeight);\n      });\n    }\n    function updateGroupMax() {\n      var originalMaxSize = datas.maxSize;\n      originalEvents.forEach(function (ev) {\n        var _a = ev.datas,childMaxSize = _a.maxSize,childStartOffsetWidth = _a.startOffsetWidth,childStartOffsetHeight = _a.startOffsetHeight;\n        var parentMaxWidth = parentStartOffsetWidth * (\n        childStartOffsetWidth ? childMaxSize[0] / childStartOffsetWidth : 0);\n        var parentMaxHeight = parentStartOffsetHeight * (\n        childStartOffsetHeight ? childMaxSize[1] / childStartOffsetHeight : 0);\n        originalMaxSize[0] = Math.min(originalMaxSize[0], parentMaxWidth);\n        originalMaxSize[1] = Math.min(originalMaxSize[1], parentMaxHeight);\n      });\n    }\n    var events = triggerChildAbles(moveable, this, \"dragControlStart\", e, function (child, ev) {\n      return startChildDist(moveable, child, datas, ev);\n    });\n    updateGroupMin();\n    updateGroupMax();\n    var setFixedDirection = function (fixedDirection) {\n      params.setFixedDirection(fixedDirection);\n      events.forEach(function (ev, i) {\n        ev.setFixedDirection(fixedDirection);\n        startChildDist(moveable, ev.moveable, datas, originalEvents[i]);\n      });\n    };\n    datas.setFixedDirection = setFixedDirection;\n    var nextParams = __assign(__assign({}, params), { targets: moveable.props.targets, events: events.map(function (ev) {\n        return __assign(__assign({}, ev), { setMin: function (minSize) {\n            ev.setMin(minSize);\n            updateGroupMin();\n          }, setMax: function (maxSize) {\n            ev.setMax(maxSize);\n            updateGroupMax();\n          } });\n      }), setFixedDirection: setFixedDirection, setMin: function (minSize) {\n        params.setMin(minSize);\n        updateGroupMin();\n      }, setMax: function (maxSize) {\n        params.setMax(maxSize);\n        updateGroupMax();\n      } });\n    var result = triggerEvent(moveable, \"onResizeGroupStart\", nextParams);\n    datas.isResize = result !== false;\n    return datas.isResize ? params : false;\n  },\n  dragGroupControl: function (moveable, e) {\n    var datas = e.datas;\n    if (!datas.isResize) {\n      return;\n    }\n    var props = getProps(moveable.props, \"resizable\");\n    catchEvent(moveable, \"onBeforeResize\", function (parentEvent) {\n      triggerEvent(moveable, \"onBeforeResizeGroup\", fillParams(moveable, e, __assign(__assign({}, parentEvent), { targets: props.targets }), true));\n    });\n    var params = this.dragControl(moveable, __assign(__assign({}, e), { isGroup: true }));\n    if (!params) {\n      return;\n    }\n    var boundingWidth = params.boundingWidth,boundingHeight = params.boundingHeight,dist = params.dist;\n    var keepRatio = props.keepRatio;\n    var parentScale = [\n    boundingWidth / (boundingWidth - dist[0]),\n    boundingHeight / (boundingHeight - dist[1])];\n\n    var fixedPosition = datas.fixedPosition;\n    var events = triggerChildAbles(moveable, this, \"dragControl\", e, function (_, ev) {\n      var _a = __read(calculate(createRotateMatrix(moveable.rotation / 180 * Math.PI, 3), [\n        ev.datas.originalX * parentScale[0],\n        ev.datas.originalY * parentScale[1],\n        1],\n        3), 2),clientX = _a[0],clientY = _a[1];\n      return __assign(__assign({}, ev), { parentDist: null, parentScale: parentScale, dragClient: plus(fixedPosition, [clientX, clientY]), parentKeepRatio: keepRatio });\n    });\n    var nextParams = __assign({ targets: props.targets, events: events }, params);\n    triggerEvent(moveable, \"onResizeGroup\", nextParams);\n    return nextParams;\n  },\n  dragGroupControlEnd: function (moveable, e) {\n    var isDrag = e.isDrag,datas = e.datas;\n    if (!datas.isResize) {\n      return;\n    }\n    this.dragControlEnd(moveable, e);\n    var events = triggerChildAbles(moveable, this, \"dragControlEnd\", e);\n    var nextParams = fillEndParams(moveable, e, {\n      targets: moveable.props.targets,\n      events: events\n    });\n    triggerEvent(moveable, \"onResizeGroupEnd\", nextParams);\n    return isDrag;\n  },\n  /**\r\n   * @method Moveable.Resizable#request\r\n   * @param {Moveable.Resizable.ResizableRequestParam} e - the Resizable's request parameter\r\n   * @return {Moveable.Requester} Moveable Requester\r\n   * @example\r\n    * // Instantly Request (requestStart - request - requestEnd)\r\n   * // Use Relative Value\r\n   * moveable.request(\"resizable\", { deltaWidth: 10, deltaHeight: 10 }, true);\r\n   *\r\n   * // Use Absolute Value\r\n   * moveable.request(\"resizable\", { offsetWidth: 100, offsetHeight: 100 }, true);\r\n   *\r\n   * // requestStart\r\n   * const requester = moveable.request(\"resizable\");\r\n   *\r\n   * // request\r\n   * // Use Relative Value\r\n   * requester.request({ deltaWidth: 10, deltaHeight: 10 });\r\n   * requester.request({ deltaWidth: 10, deltaHeight: 10 });\r\n   * requester.request({ deltaWidth: 10, deltaHeight: 10 });\r\n   *\r\n   * // Use Absolute Value\r\n   * moveable.request(\"resizable\", { offsetWidth: 100, offsetHeight: 100 });\r\n   * moveable.request(\"resizable\", { offsetWidth: 110, offsetHeight: 100 });\r\n   * moveable.request(\"resizable\", { offsetWidth: 120, offsetHeight: 100 });\r\n   *\r\n   * // requestEnd\r\n   * requester.requestEnd();\r\n   */\n\n  request: function (moveable) {\n    var datas = {};\n    var distWidth = 0;\n    var distHeight = 0;\n    var useSnap = false;\n    var rect = moveable.getRect();\n    return {\n      isControl: true,\n      requestStart: function (e) {\n        var _a;\n        useSnap = e.useSnap;\n        return {\n          datas: datas,\n          parentDirection: e.direction || [1, 1],\n          parentIsWidth: (_a = e === null || e === void 0 ? void 0 : e.horizontal) !== null && _a !== void 0 ? _a : true,\n          useSnap: useSnap\n        };\n      },\n      request: function (e) {\n        if (\"offsetWidth\" in e) {\n          distWidth = e.offsetWidth - rect.offsetWidth;\n        } else\n        if (\"deltaWidth\" in e) {\n          distWidth += e.deltaWidth;\n        }\n        if (\"offsetHeight\" in e) {\n          distHeight = e.offsetHeight - rect.offsetHeight;\n        } else\n        if (\"deltaHeight\" in e) {\n          distHeight += e.deltaHeight;\n        }\n        return {\n          datas: datas,\n          parentDist: [distWidth, distHeight],\n          parentKeepRatio: e.keepRatio,\n          useSnap: useSnap\n        };\n      },\n      requestEnd: function () {\n        return { datas: datas, isDrag: true, useSnap: useSnap };\n      }\n    };\n  },\n  unset: function (moveable) {\n    moveable.state.gestos.resizable = null;\n  }\n};\n/**\r\n * Whether or not target can be resized.\r\n * @name Moveable.Resizable#resizable\r\n * @default false\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body, {\r\n *     resizable: false,\r\n * });\r\n *\r\n * moveable.resizable = true;\r\n */\n/**\r\n * throttle of width, height when resize. If throttleResize is set to less than 1, the target may shake.\r\n * @name Moveable.Resizable#throttleResize\r\n * @default 1\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body, {\r\n *   resizable: true,\r\n *   throttleResize: 1,\r\n * });\r\n *\r\n * moveable.throttleResize = 0;\r\n */\n/**\r\n * When resize or scale, keeps a ratio of the width, height.\r\n * @name Moveable.Resizable#keepRatio\r\n * @default false\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body, {\r\n *   resizable: true,\r\n * });\r\n *\r\n * moveable.keepRatio = true;\r\n */\n/**\r\n * Set directions to show the control box.\r\n * @name Moveable.Resizable#renderDirections\r\n * @default [\"n\", \"nw\", \"ne\", \"s\", \"se\", \"sw\", \"e\", \"w\"]\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body, {\r\n *   resizable: true,\r\n *   renderDirections: [\"n\", \"nw\", \"ne\", \"s\", \"se\", \"sw\", \"e\", \"w\"],\r\n * });\r\n *\r\n * moveable.renderDirections = [\"nw\", \"ne\", \"sw\", \"se\"];\r\n */\n/**\r\n * Function to convert size for resize\r\n * @name Moveable.Resizable#resizeFormat\r\n * @default oneself\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body, {\r\n *   resizable: true,\r\n *   resizeFormat: v => v,\r\n * });\r\n *\r\n * moveable.resizeFormat = (size: number[]) => ([Math.trunc(size[0]), Math.trunc(size[1])];\r\n */\n/**\r\n * When the resize starts, the resizeStart event is called.\r\n * @memberof Moveable.Resizable\r\n * @event resizeStart\r\n * @param {Moveable.Resizable.OnResizeStart} - Parameters for the resizeStart event\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body, { resizable: true });\r\n * moveable.on(\"resizeStart\", ({ target }) => {\r\n *     console.log(target);\r\n * });\r\n */\n/**\r\n * When resizing, `beforeResize` is called before `resize` occurs. In `beforeResize`, you can get and set the pre-value before resizing.\r\n * @memberof Moveable.Resizable\r\n * @event beforeResize\r\n * @param {Moveable.Resizable.OnBeforeResize} - Parameters for the `beforeResize` event\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body, { resizable: true });\r\n * moveable.on(\"beforeResize\", ({ setFixedDirection }) => {\r\n *     if (shiftKey) {\r\n *        setFixedDirection([0, 0]);\r\n *     }\r\n * });\r\n * moveable.on(\"resize\", ({ target, width, height, drag }) => {\r\n *     target.style.width = `${width}px`;\r\n *     target.style.height = `${height}px`;\r\n *     target.style.transform = drag.transform;\r\n * });\r\n */\n/**\r\n * When resizing, the resize event is called.\r\n * @memberof Moveable.Resizable\r\n * @event resize\r\n * @param {Moveable.Resizable.OnResize} - Parameters for the resize event\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body, { resizable: true });\r\n * moveable.on(\"resize\", ({ target, width, height }) => {\r\n *     target.style.width = `${e.width}px`;\r\n *     target.style.height = `${e.height}px`;\r\n * });\r\n */\n/**\r\n * When the resize finishes, the resizeEnd event is called.\r\n * @memberof Moveable.Resizable\r\n * @event resizeEnd\r\n * @param {Moveable.Resizable.OnResizeEnd} - Parameters for the resizeEnd event\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body, { resizable: true });\r\n * moveable.on(\"resizeEnd\", ({ target, isDrag }) => {\r\n *     console.log(target, isDrag);\r\n * });\r\n */\n/**\r\n* When the group resize starts, the `resizeGroupStart` event is called.\r\n* @memberof Moveable.Resizable\r\n* @event resizeGroupStart\r\n* @param {Moveable.Resizable.OnResizeGroupStart} - Parameters for the `resizeGroupStart` event\r\n* @example\r\n* import Moveable from \"moveable\";\r\n*\r\n* const moveable = new Moveable(document.body, {\r\n*     target: [].slice.call(document.querySelectorAll(\".target\")),\r\n*     resizable: true\r\n* });\r\n* moveable.on(\"resizeGroupStart\", ({ targets }) => {\r\n*     console.log(\"onResizeGroupStart\", targets);\r\n* });\r\n*/\n/**\r\n* When the group resize, the `resizeGroup` event is called.\r\n* @memberof Moveable.Resizable\r\n* @event resizeGroup\r\n* @param {Moveable.Resizable.onResizeGroup} - Parameters for the `resizeGroup` event\r\n* @example\r\n* import Moveable from \"moveable\";\r\n*\r\n* const moveable = new Moveable(document.body, {\r\n*     target: [].slice.call(document.querySelectorAll(\".target\")),\r\n*     resizable: true\r\n* });\r\n* moveable.on(\"resizeGroup\", ({ targets, events }) => {\r\n*     console.log(\"onResizeGroup\", targets);\r\n*     events.forEach(ev => {\r\n*         const offset = [\r\n*             direction[0] < 0 ? -ev.delta[0] : 0,\r\n*             direction[1] < 0 ? -ev.delta[1] : 0,\r\n*         ];\r\n*         // ev.drag is a drag event that occurs when the group resize.\r\n*         const left = offset[0] + ev.drag.beforeDist[0];\r\n*         const top = offset[1] + ev.drag.beforeDist[1];\r\n*         const width = ev.width;\r\n*         const top = ev.top;\r\n*     });\r\n* });\r\n*/\n/**\r\n * When the group resize finishes, the `resizeGroupEnd` event is called.\r\n * @memberof Moveable.Resizable\r\n * @event resizeGroupEnd\r\n * @param {Moveable.Resizable.OnResizeGroupEnd} - Parameters for the `resizeGroupEnd` event\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body, {\r\n *     target: [].slice.call(document.querySelectorAll(\".target\")),\r\n *     resizable: true\r\n * });\r\n * moveable.on(\"resizeGroupEnd\", ({ targets, isDrag }) => {\r\n *     console.log(\"onResizeGroupEnd\", targets, isDrag);\r\n * });\r\n */\n\n/**\r\n * @namespace Rotatable\r\n * @memberof Moveable\r\n * @description Rotatable indicates whether the target can be rotated.\r\n */\nfunction setRotateStartInfo(moveable, datas, clientX, clientY, rect) {\n  var groupable = moveable.props.groupable;\n  var state = moveable.state;\n  var n = state.is3d ? 4 : 3;\n  var origin = datas.origin;\n  var nextOrigin = calculatePosition(moveable.state.rootMatrix,\n  // TO-DO #710\n  minus([origin[0], origin[1]], groupable ? [0, 0] : [state.left, state.top]), n);\n  var startAbsoluteOrigin = plus([rect.left, rect.top], nextOrigin);\n  datas.startAbsoluteOrigin = startAbsoluteOrigin;\n  datas.prevDeg = getRad(startAbsoluteOrigin, [clientX, clientY]) / Math.PI * 180;\n  datas.defaultDeg = datas.prevDeg;\n  datas.prevSnapDeg = 0;\n  datas.loop = 0;\n  datas.startDist = getDist$1(startAbsoluteOrigin, [clientX, clientY]);\n}\nfunction getAbsoluteDist(deg, direction, datas) {\n  var defaultDeg = datas.defaultDeg,prevDeg = datas.prevDeg;\n  var normalizedPrevDeg = prevDeg % 360;\n  var loop = Math.floor(prevDeg / 360);\n  if (normalizedPrevDeg < 0) {\n    normalizedPrevDeg += 360;\n  }\n  if (normalizedPrevDeg > deg && normalizedPrevDeg > 270 && deg < 90) {\n    // 360 => 0\n    ++loop;\n  } else\n  if (normalizedPrevDeg < deg && normalizedPrevDeg < 90 && deg > 270) {\n    // 0 => 360\n    --loop;\n  }\n  var dist = direction * (loop * 360 + deg - defaultDeg);\n  datas.prevDeg = defaultDeg + dist;\n  return dist;\n}\nfunction getAbsoluteDistByClient(clientX, clientY, direction, datas) {\n  return getAbsoluteDist(getRad(datas.startAbsoluteOrigin, [clientX, clientY]) / Math.PI * 180, direction, datas);\n}\nfunction getRotateInfo(moveable, moveableRect, datas, dist, startValue, checkSnap) {\n  var _a = moveable.props.throttleRotate,throttleRotate = _a === void 0 ? 0 : _a;\n  var prevSnapDeg = datas.prevSnapDeg;\n  var snapRotation = 0;\n  var isSnap = false;\n  if (checkSnap) {\n    var result = checkSnapRotate(moveable, moveableRect, dist, startValue + dist);\n    isSnap = result.isSnap;\n    snapRotation = startValue + result.dist;\n  }\n  if (!isSnap) {\n    snapRotation = throttle(startValue + dist, throttleRotate);\n  }\n  var snapDeg = snapRotation - startValue;\n  datas.prevSnapDeg = snapDeg;\n  return [snapDeg - prevSnapDeg, snapDeg, snapRotation];\n}\nfunction getRotationPositions(rotationPosition, _a, direction) {\n  var _b = __read(_a, 4),pos1 = _b[0],pos2 = _b[1],pos3 = _b[2],pos4 = _b[3];\n  if (rotationPosition === \"none\") {\n    return [];\n  }\n  if (isArray(rotationPosition)) {\n    return rotationPosition.map(function (child) {return getRotationPositions(child, [pos1, pos2, pos3, pos4], direction)[0];});\n  }\n  var _c = __read((rotationPosition || \"top\").split(\"-\"), 2),dir1 = _c[0],dir2 = _c[1];\n  var radPoses = [pos1, pos2];\n  if (dir1 === \"left\") {\n    radPoses = [pos3, pos1];\n  } else\n  if (dir1 === \"right\") {\n    radPoses = [pos2, pos4];\n  } else\n  if (dir1 === \"bottom\") {\n    radPoses = [pos4, pos3];\n  }\n  var pos = [\n  (radPoses[0][0] + radPoses[1][0]) / 2,\n  (radPoses[0][1] + radPoses[1][1]) / 2];\n\n  var rad = getRotationRad(radPoses, direction);\n  if (dir2) {\n    var isStart = dir2 === \"top\" || dir2 === \"left\";\n    var isReverse = dir1 === \"bottom\" || dir1 === \"left\";\n    pos = radPoses[isStart && !isReverse || !isStart && isReverse ? 0 : 1];\n  }\n  return [[pos, rad]];\n}\nfunction dragControlCondition(moveable, e) {\n  if (e.isRequest) {\n    return e.requestAble === \"rotatable\";\n  }\n  var target = e.inputEvent.target;\n  if (hasClass(target, prefix(\"rotation-control\")) ||\n  moveable.props.rotateAroundControls && hasClass(target, prefix(\"around-control\")) ||\n  hasClass(target, prefix(\"control\")) && hasClass(target, prefix(\"rotatable\"))) {\n    return true;\n  }\n  var rotationTarget = moveable.props.rotationTarget;\n  if (rotationTarget) {\n    return getRefTargets(rotationTarget, true).some(function (element) {\n      if (!element) {\n        return false;\n      }\n      return target === element || target.contains(element);\n    });\n  }\n  return false;\n}\nvar css = \".rotation {\\nposition: absolute;\\nheight: 40px;\\nwidth: 1px;\\ntransform-origin: 50% 100%;\\nheight: calc(40px * var(--zoom));\\ntop: auto;\\nleft: 0;\\nbottom: 100%;\\nwill-change: transform;\\n}\\n.rotation .rotation-line {\\ndisplay: block;\\nwidth: 100%;\\nheight: 100%;\\ntransform-origin: 50% 50%;\\n}\\n.rotation .rotation-control {\\nborder-color: #4af;\\nborder-color: var(--moveable-color);\\nbackground:#fff;\\ncursor: alias;\\n}\\n:global .view-rotation-dragging, .rotatable.direction.control {\\ncursor: alias;\\n}\\n.rotatable.direction.control.move {\\ncursor: move;\\n}\\n\";\nvar Rotatable = {\n  name: \"rotatable\",\n  canPinch: true,\n  props: [\n  \"rotatable\",\n  \"rotationPosition\",\n  \"throttleRotate\",\n  \"renderDirections\",\n  \"rotationTarget\",\n  \"rotateAroundControls\",\n  \"edge\",\n  \"resolveAblesWithRotatable\",\n  \"displayAroundControls\"],\n\n  events: [\n  \"rotateStart\",\n  \"beforeRotate\",\n  \"rotate\",\n  \"rotateEnd\",\n  \"rotateGroupStart\",\n  \"beforeRotateGroup\",\n  \"rotateGroup\",\n  \"rotateGroupEnd\"],\n\n  css: [css],\n  viewClassName: function (moveable) {\n    if (!moveable.isDragging(\"rotatable\")) {\n      return \"\";\n    }\n    return prefix(\"view-rotation-dragging\");\n  },\n  render: function (moveable, React) {\n    var _a = getProps(moveable.props, \"rotatable\"),rotatable = _a.rotatable,rotationPosition = _a.rotationPosition,zoom = _a.zoom,renderDirections = _a.renderDirections,rotateAroundControls = _a.rotateAroundControls,resolveAblesWithRotatable = _a.resolveAblesWithRotatable;\n    var _b = moveable.getState(),renderPoses = _b.renderPoses,direction = _b.direction;\n    if (!rotatable) {\n      return null;\n    }\n    var positions = getRotationPositions(rotationPosition, renderPoses, direction);\n    var jsxs = [];\n    positions.forEach(function (_a, i) {\n      var _b = __read(_a, 2),pos = _b[0],rad = _b[1];\n      jsxs.push(React.createElement(\"div\", { key: \"rotation\".concat(i), className: prefix(\"rotation\"), style: {\n          // tslint:disable-next-line: max-line-length\n          transform: \"translate(-50%) translate(\".concat(pos[0], \"px, \").concat(pos[1], \"px) rotate(\").concat(rad, \"rad)\")\n        } },\n      React.createElement(\"div\", { className: prefix(\"line rotation-line\"), style: {\n          transform: \"scaleX(\".concat(zoom, \")\")\n        } }),\n      React.createElement(\"div\", { className: prefix(\"control rotation-control\"), style: {\n          transform: \"translate(0.5px) scale(\".concat(zoom, \")\")\n        } })));\n    });\n    if (renderDirections) {\n      var ables = getKeys(resolveAblesWithRotatable || {});\n      var resolveMap_1 = {};\n      ables.forEach(function (name) {\n        resolveAblesWithRotatable[name].forEach(function (direction) {\n          resolveMap_1[direction] = name;\n        });\n      });\n      var directionControlInfos = [];\n      if (isArray(renderDirections)) {\n        directionControlInfos = renderDirections.map(function (dir) {\n          var able = resolveMap_1[dir];\n          return {\n            data: able ? { resolve: able } : {},\n            classNames: able ? [\"move\"] : [],\n            dir: dir\n          };\n        });\n      }\n      jsxs.push.apply(jsxs, __spreadArray([], __read(renderDirectionControlsByInfos(moveable, \"rotatable\", directionControlInfos, React)), false));\n    }\n    if (rotateAroundControls) {\n      jsxs.push.apply(jsxs, __spreadArray([], __read(renderAroundControls(moveable, React)), false));\n    }\n    return jsxs;\n  },\n  dragControlCondition: dragControlCondition,\n  dragControlStart: function (moveable, e) {\n    var _a;\n    var _b;\n    var datas = e.datas,clientX = e.clientX,clientY = e.clientY,parentRotate = e.parentRotate,parentFlag = e.parentFlag,isPinch = e.isPinch,isRequest = e.isRequest;\n    var state = moveable.state;\n    var target = state.target,left = state.left,top = state.top,direction = state.direction,beforeDirection = state.beforeDirection,targetTransform = state.targetTransform,moveableClientRect = state.moveableClientRect,offsetMatrix = state.offsetMatrix,targetMatrix = state.targetMatrix,allMatrix = state.allMatrix,width = state.width,height = state.height;\n    if (!isRequest && !target) {\n      return false;\n    }\n    var rect = moveable.getRect();\n    datas.rect = rect;\n    datas.transform = targetTransform;\n    datas.left = left;\n    datas.top = top;\n    var setFixedPosition = function (fixedPosition) {\n      var result = getOffsetFixedPositionInfo(moveable.state, fixedPosition);\n      datas.fixedDirection = result.fixedDirection;\n      datas.fixedOffset = result.fixedOffset;\n      datas.fixedPosition = result.fixedPosition;\n      if (resizeStart) {\n        resizeStart.setFixedPosition(fixedPosition);\n      }\n    };\n    var setFixedDirection = function (fixedDirection) {\n      var result = getOffsetFixedDirectionInfo(moveable.state, fixedDirection);\n      datas.fixedDirection = result.fixedDirection;\n      datas.fixedOffset = result.fixedOffset;\n      datas.fixedPosition = result.fixedPosition;\n      if (resizeStart) {\n        resizeStart.setFixedDirection(fixedDirection);\n      }\n    };\n    var startClientX = clientX;\n    var startClientY = clientY;\n    if (isRequest || isPinch || parentFlag) {\n      var externalRotate = parentRotate || 0;\n      datas.beforeInfo = {\n        origin: rect.beforeOrigin,\n        prevDeg: externalRotate,\n        defaultDeg: externalRotate,\n        prevSnapDeg: 0,\n        startDist: 0\n      };\n      datas.afterInfo = __assign(__assign({}, datas.beforeInfo), { origin: rect.origin });\n      datas.absoluteInfo = __assign(__assign({}, datas.beforeInfo), { origin: rect.origin, startValue: externalRotate });\n    } else\n    {\n      var inputTarget = (_b = e.inputEvent) === null || _b === void 0 ? void 0 : _b.target;\n      if (inputTarget) {\n        var regionDirection = inputTarget.getAttribute(\"data-direction\") || \"\";\n        var controlDirection = DIRECTION_REGION_TO_DIRECTION[regionDirection];\n        if (controlDirection) {\n          datas.isControl = true;\n          datas.isAroundControl = hasClass(inputTarget, prefix(\"around-control\"));\n          datas.controlDirection = controlDirection;\n          var resolve = inputTarget.getAttribute(\"data-resolve\");\n          if (resolve) {\n            datas.resolveAble = resolve;\n          }\n          var clientPoses = calculateMoveableClientPositions(state.rootMatrix, state.renderPoses, moveableClientRect);\n          _a = __read(getPosByDirection(clientPoses, controlDirection), 2), startClientX = _a[0], startClientY = _a[1];\n        }\n      }\n      datas.beforeInfo = { origin: rect.beforeOrigin };\n      datas.afterInfo = { origin: rect.origin };\n      datas.absoluteInfo = {\n        origin: rect.origin,\n        startValue: rect.rotation\n      };\n      var originalFixedPosition_1 = setFixedPosition;\n      setFixedPosition = function (fixedPosition) {\n        var n = state.is3d ? 4 : 3;\n        var _a = __read(plus(getOrigin(targetMatrix, n), fixedPosition), 2),originX = _a[0],originY = _a[1];\n        var fixedBeforeOrigin = calculate(offsetMatrix, convertPositionMatrix([originX, originY], n));\n        var fixedAfterOrigin = calculate(allMatrix, convertPositionMatrix([fixedPosition[0], fixedPosition[1]], n));\n        originalFixedPosition_1(fixedPosition);\n        var posDelta = state.posDelta;\n        datas.beforeInfo.origin = minus(fixedBeforeOrigin, posDelta);\n        datas.afterInfo.origin = minus(fixedAfterOrigin, posDelta);\n        datas.absoluteInfo.origin = minus(fixedAfterOrigin, posDelta);\n        setRotateStartInfo(moveable, datas.beforeInfo, startClientX, startClientY, moveableClientRect);\n        setRotateStartInfo(moveable, datas.afterInfo, startClientX, startClientY, moveableClientRect);\n        setRotateStartInfo(moveable, datas.absoluteInfo, startClientX, startClientY, moveableClientRect);\n      };\n      setFixedDirection = function (fixedDirection) {\n        var fixedPosition = getPosByDirection([\n        [0, 0],\n        [width, 0],\n        [0, height],\n        [width, height]],\n        fixedDirection);\n        setFixedPosition(fixedPosition);\n      };\n    }\n    datas.startClientX = startClientX;\n    datas.startClientY = startClientY;\n    datas.direction = direction;\n    datas.beforeDirection = beforeDirection;\n    datas.startValue = 0;\n    datas.datas = {};\n    setDefaultTransformIndex(moveable, e, \"rotate\");\n    var dragStart = false;\n    var resizeStart = false;\n    if (datas.isControl && datas.resolveAble) {\n      var resolveAble = datas.resolveAble;\n      if (resolveAble === \"resizable\") {\n        resizeStart = Resizable.dragControlStart(moveable, __assign(__assign({}, new CustomGesto(\"resizable\").dragStart([0, 0], e)), { parentPosition: datas.controlPosition, parentFixedPosition: datas.fixedPosition }));\n      }\n    }\n    if (!resizeStart) {\n      dragStart = Draggable.dragStart(moveable, new CustomGesto().dragStart([0, 0], e));\n    }\n    setFixedPosition(getTotalOrigin(moveable));\n    var params = fillParams(moveable, e, __assign(__assign({ set: function (rotatation) {\n        datas.startValue = rotatation * Math.PI / 180;\n      }, setFixedDirection: setFixedDirection, setFixedPosition: setFixedPosition }, fillTransformStartEvent(moveable, e)), { dragStart: dragStart, resizeStart: resizeStart }));\n    var result = triggerEvent(moveable, \"onRotateStart\", params);\n    datas.isRotate = result !== false;\n    state.snapRenderInfo = {\n      request: e.isRequest\n    };\n    return datas.isRotate ? params : false;\n  },\n  dragControl: function (moveable, e) {\n    var _a, _b, _c;\n    var datas = e.datas,clientDistX = e.clientDistX,clientDistY = e.clientDistY,parentRotate = e.parentRotate,parentFlag = e.parentFlag,isPinch = e.isPinch,groupDelta = e.groupDelta,resolveMatrix = e.resolveMatrix;\n    var beforeDirection = datas.beforeDirection,beforeInfo = datas.beforeInfo,afterInfo = datas.afterInfo,absoluteInfo = datas.absoluteInfo,isRotate = datas.isRotate,startValue = datas.startValue,rect = datas.rect,startClientX = datas.startClientX,startClientY = datas.startClientY;\n    if (!isRotate) {\n      return;\n    }\n    resolveTransformEvent(moveable, e, \"rotate\");\n    var targetDirection = getTransformDirection(e);\n    var direction = beforeDirection * targetDirection;\n    var parentMoveable = moveable.props.parentMoveable;\n    var beforeDelta = 0;\n    var beforeDist;\n    var beforeRotation;\n    var delta = 0;\n    var dist;\n    var rotation;\n    var absoluteDelta = 0;\n    var absoluteDist;\n    var absoluteRotation;\n    var startRotation = 180 / Math.PI * startValue;\n    var absoluteStartRotation = absoluteInfo.startValue;\n    var isSnap = false;\n    var nextClientX = startClientX + clientDistX;\n    var nextClientY = startClientY + clientDistY;\n    if (!parentFlag && \"parentDist\" in e) {\n      var parentDist = e.parentDist;\n      beforeDist = parentDist;\n      dist = parentDist;\n      absoluteDist = parentDist;\n    } else\n    if (isPinch || parentFlag) {\n      beforeDist = getAbsoluteDist(parentRotate, beforeDirection, beforeInfo);\n      dist = getAbsoluteDist(parentRotate, direction, afterInfo);\n      absoluteDist = getAbsoluteDist(parentRotate, direction, absoluteInfo);\n    } else\n    {\n      beforeDist = getAbsoluteDistByClient(nextClientX, nextClientY, beforeDirection, beforeInfo);\n      dist = getAbsoluteDistByClient(nextClientX, nextClientY, direction, afterInfo);\n      absoluteDist = getAbsoluteDistByClient(nextClientX, nextClientY, direction, absoluteInfo);\n      isSnap = true;\n    }\n    beforeRotation = startRotation + beforeDist;\n    rotation = startRotation + dist;\n    absoluteRotation = absoluteStartRotation + absoluteDist;\n    triggerEvent(moveable, \"onBeforeRotate\", fillParams(moveable, e, {\n      beforeRotation: beforeRotation,\n      rotation: rotation,\n      absoluteRotation: absoluteRotation,\n      setRotation: function (nextRotation) {\n        dist = nextRotation - startRotation;\n        beforeDist = dist;\n        absoluteDist = dist;\n      }\n    }, true));\n    _a = __read(getRotateInfo(moveable, rect, beforeInfo, beforeDist, startRotation, isSnap), 3), beforeDelta = _a[0], beforeDist = _a[1], beforeRotation = _a[2];\n    _b = __read(getRotateInfo(moveable, rect, afterInfo, dist, startRotation, isSnap), 3), delta = _b[0], dist = _b[1], rotation = _b[2];\n    _c = __read(getRotateInfo(moveable, rect, absoluteInfo, absoluteDist, absoluteStartRotation, isSnap), 3), absoluteDelta = _c[0], absoluteDist = _c[1], absoluteRotation = _c[2];\n    if (!absoluteDelta && !delta && !beforeDelta && !parentMoveable && !resolveMatrix) {\n      return;\n    }\n    var nextTransform = convertTransformFormat(datas, \"rotate(\".concat(rotation, \"deg)\"), \"rotate(\".concat(dist, \"deg)\"));\n    if (resolveMatrix) {\n      datas.fixedPosition = getTranslateFixedPosition(moveable, datas.targetAllTransform, datas.fixedDirection, datas.fixedOffset, datas);\n    }\n    var inverseDist = getRotateDist(moveable, dist, datas);\n    var inverseDelta = minus(plus(groupDelta || [0, 0], inverseDist), datas.prevInverseDist || [0, 0]);\n    datas.prevInverseDist = inverseDist;\n    datas.requestValue = null;\n    var dragEvent = fillTransformEvent(moveable, nextTransform, inverseDelta, isPinch, e);\n    var transformEvent = dragEvent;\n    var parentDistance = getDist$1([nextClientX, nextClientY], absoluteInfo.startAbsoluteOrigin) - absoluteInfo.startDist;\n    var resize = undefined;\n    if (datas.resolveAble === \"resizable\") {\n      var resizeEvent = Resizable.dragControl(moveable, __assign(__assign({}, setCustomDrag(e, moveable.state, [e.deltaX, e.deltaY], !!isPinch, false, \"resizable\")), { resolveMatrix: true, parentDistance: parentDistance }));\n      if (resizeEvent) {\n        resize = resizeEvent;\n        transformEvent = fillAfterTransform(transformEvent, resizeEvent, e);\n      }\n    }\n    var params = fillParams(moveable, e, __assign(__assign({ delta: delta, dist: dist, rotate: rotation, rotation: rotation, beforeDist: beforeDist, beforeDelta: beforeDelta, beforeRotate: beforeRotation, beforeRotation: beforeRotation, absoluteDist: absoluteDist, absoluteDelta: absoluteDelta, absoluteRotate: absoluteRotation, absoluteRotation: absoluteRotation, isPinch: !!isPinch, resize: resize }, dragEvent), transformEvent));\n    triggerEvent(moveable, \"onRotate\", params);\n    return params;\n  },\n  dragControlEnd: function (moveable, e) {\n    var datas = e.datas;\n    if (!datas.isRotate) {\n      return;\n    }\n    datas.isRotate = false;\n    var params = fillEndParams(moveable, e, {});\n    triggerEvent(moveable, \"onRotateEnd\", params);\n    return params;\n  },\n  dragGroupControlCondition: dragControlCondition,\n  dragGroupControlStart: function (moveable, e) {\n    var datas = e.datas;\n    var _a = moveable.state,parentLeft = _a.left,parentTop = _a.top,parentBeforeOrigin = _a.beforeOrigin;\n    var params = this.dragControlStart(moveable, e);\n    if (!params) {\n      return false;\n    }\n    params.set(datas.beforeDirection * moveable.rotation);\n    var events = triggerChildAbles(moveable, this, \"dragControlStart\", e, function (child, ev) {\n      var _a = child.state,left = _a.left,top = _a.top,beforeOrigin = _a.beforeOrigin;\n      var childClient = plus(minus([left, top], [parentLeft, parentTop]), minus(beforeOrigin, parentBeforeOrigin));\n      ev.datas.startGroupClient = childClient;\n      ev.datas.groupClient = childClient;\n      return __assign(__assign({}, ev), { parentRotate: 0 });\n    });\n    var nextParams = __assign(__assign({}, params), { targets: moveable.props.targets, events: events });\n    var result = triggerEvent(moveable, \"onRotateGroupStart\", nextParams);\n    datas.isRotate = result !== false;\n    return datas.isRotate ? params : false;\n  },\n  dragGroupControl: function (moveable, e) {\n    var datas = e.datas;\n    if (!datas.isRotate) {\n      return;\n    }\n    catchEvent(moveable, \"onBeforeRotate\", function (parentEvent) {\n      triggerEvent(moveable, \"onBeforeRotateGroup\", fillParams(moveable, e, __assign(__assign({}, parentEvent), { targets: moveable.props.targets }), true));\n    });\n    var params = this.dragControl(moveable, e);\n    if (!params) {\n      return;\n    }\n    var direction = datas.beforeDirection;\n    var parentRotate = params.beforeDist;\n    var rad = parentRotate / 180 * Math.PI;\n    var events = triggerChildAbles(moveable, this, \"dragControl\", e, function (_, ev) {\n      var startGroupClient = ev.datas.startGroupClient;\n      var _a = __read(ev.datas.groupClient, 2),prevClientX = _a[0],prevClientY = _a[1];\n      var _b = __read(rotate(startGroupClient, rad * direction), 2),clientX = _b[0],clientY = _b[1];\n      var delta = [clientX - prevClientX, clientY - prevClientY];\n      ev.datas.groupClient = [clientX, clientY];\n      return __assign(__assign({}, ev), { parentRotate: parentRotate, groupDelta: delta });\n    });\n    moveable.rotation = direction * params.beforeRotation;\n    var nextParams = __assign({ targets: moveable.props.targets, events: events, set: function (rotation) {\n        moveable.rotation = rotation;\n      }, setGroupRotation: function (rotation) {\n        moveable.rotation = rotation;\n      } }, params);\n    triggerEvent(moveable, \"onRotateGroup\", nextParams);\n    return nextParams;\n  },\n  dragGroupControlEnd: function (moveable, e) {\n    var isDrag = e.isDrag,datas = e.datas;\n    if (!datas.isRotate) {\n      return;\n    }\n    this.dragControlEnd(moveable, e);\n    var events = triggerChildAbles(moveable, this, \"dragControlEnd\", e);\n    var nextParams = fillEndParams(moveable, e, {\n      targets: moveable.props.targets,\n      events: events\n    });\n    triggerEvent(moveable, \"onRotateGroupEnd\", nextParams);\n    return isDrag;\n  },\n  /**\r\n   * @method Moveable.Rotatable#request\r\n   * @param {object} [e] - the Resizable's request parameter\r\n   * @param {number} [e.deltaRotate=0] -  delta number of rotation\r\n   * @param {number} [e.rotate=0] - absolute number of moveable's rotation\r\n   * @return {Moveable.Requester} Moveable Requester\r\n   * @example\r\n    * // Instantly Request (requestStart - request - requestEnd)\r\n   * moveable.request(\"rotatable\", { deltaRotate: 10 }, true);\r\n   *\r\n   * * moveable.request(\"rotatable\", { rotate: 10 }, true);\r\n   *\r\n   * // requestStart\r\n   * const requester = moveable.request(\"rotatable\");\r\n   *\r\n   * // request\r\n   * requester.request({ deltaRotate: 10 });\r\n   * requester.request({ deltaRotate: 10 });\r\n   * requester.request({ deltaRotate: 10 });\r\n   *\r\n   * requester.request({ rotate: 10 });\r\n   * requester.request({ rotate: 20 });\r\n   * requester.request({ rotate: 30 });\r\n   *\r\n   * // requestEnd\r\n   * requester.requestEnd();\r\n   */\n\n  request: function (moveable) {\n    var datas = {};\n    var distRotate = 0;\n    var startRotation = moveable.getRotation();\n    return {\n      isControl: true,\n      requestStart: function () {\n        return { datas: datas };\n      },\n      request: function (e) {\n        if (\"deltaRotate\" in e) {\n          distRotate += e.deltaRotate;\n        } else\n        if (\"rotate\" in e) {\n          distRotate = e.rotate - startRotation;\n        }\n        return { datas: datas, parentDist: distRotate };\n      },\n      requestEnd: function () {\n        return { datas: datas, isDrag: true };\n      }\n    };\n  }\n};\n/**\r\n * Whether or not target can be rotated. (default: false)\r\n * @name Moveable.Rotatable#rotatable\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body);\r\n *\r\n * moveable.rotatable = true;\r\n */\n/**\r\n * You can specify the position of the rotation. (default: \"top\")\r\n * @name Moveable.Rotatable#rotationPosition\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body, {\r\n *   rotationPosition: \"top\",\r\n * });\r\n *\r\n * moveable.rotationPosition = \"bottom\"\r\n */\n/**\r\n * throttle of angle(degree) when rotate.\r\n * @name Moveable.Rotatable#throttleRotate\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body);\r\n *\r\n * moveable.throttleRotate = 1;\r\n */\n/**\r\n * When the rotate starts, the rotateStart event is called.\r\n * @memberof Moveable.Rotatable\r\n * @event rotateStart\r\n * @param {Moveable.Rotatable.OnRotateStart} - Parameters for the rotateStart event\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body, { rotatable: true });\r\n * moveable.on(\"rotateStart\", ({ target }) => {\r\n *     console.log(target);\r\n * });\r\n */\n/**\r\n* When rotating, the rotate event is called.\r\n* @memberof Moveable.Rotatable\r\n* @event rotate\r\n* @param {Moveable.Rotatable.OnRotate} - Parameters for the rotate event\r\n* @example\r\n* import Moveable from \"moveable\";\r\n*\r\n* const moveable = new Moveable(document.body, { rotatable: true });\r\n* moveable.on(\"rotate\", ({ target, transform, dist }) => {\r\n*     target.style.transform = transform;\r\n* });\r\n*/\n/**\r\n * When the rotate finishes, the rotateEnd event is called.\r\n * @memberof Moveable.Rotatable\r\n * @event rotateEnd\r\n * @param {Moveable.Rotatable.OnRotateEnd} - Parameters for the rotateEnd event\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body, { rotatable: true });\r\n * moveable.on(\"rotateEnd\", ({ target, isDrag }) => {\r\n *     console.log(target, isDrag);\r\n * });\r\n */\n/**\r\n * When the group rotate starts, the `rotateGroupStart` event is called.\r\n * @memberof Moveable.Rotatable\r\n * @event rotateGroupStart\r\n * @param {Moveable.Rotatable.OnRotateGroupStart} - Parameters for the `rotateGroupStart` event\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body, {\r\n *     target: [].slice.call(document.querySelectorAll(\".target\")),\r\n *     rotatable: true\r\n * });\r\n * moveable.on(\"rotateGroupStart\", ({ targets }) => {\r\n *     console.log(\"onRotateGroupStart\", targets);\r\n * });\r\n */\n/**\r\n* When the group rotate, the `rotateGroup` event is called.\r\n* @memberof Moveable.Rotatable\r\n* @event rotateGroup\r\n* @param {Moveable.Rotatable.OnRotateGroup} - Parameters for the `rotateGroup` event\r\n* @example\r\n* import Moveable from \"moveable\";\r\n*\r\n* const moveable = new Moveable(document.body, {\r\n*     target: [].slice.call(document.querySelectorAll(\".target\")),\r\n*     rotatable: true\r\n* });\r\n* moveable.on(\"rotateGroup\", ({ targets, events }) => {\r\n*     console.log(\"onRotateGroup\", targets);\r\n*     events.forEach(ev => {\r\n*         const target = ev.target;\r\n*         // ev.drag is a drag event that occurs when the group rotate.\r\n*         const left = ev.drag.beforeDist[0];\r\n*         const top = ev.drag.beforeDist[1];\r\n*         const deg = ev.beforeDist;\r\n*     });\r\n* });\r\n*/\n/**\r\n * When the group rotate finishes, the `rotateGroupEnd` event is called.\r\n * @memberof Moveable.Rotatable\r\n * @event rotateGroupEnd\r\n * @param {Moveable.Rotatable.OnRotateGroupEnd} - Parameters for the `rotateGroupEnd` event\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body, {\r\n *     target: [].slice.call(document.querySelectorAll(\".target\")),\r\n *     rotatable: true\r\n * });\r\n * moveable.on(\"rotateGroupEnd\", ({ targets, isDrag }) => {\r\n *     console.log(\"onRotateGroupEnd\", targets, isDrag);\r\n * });\r\n */\n\nfunction renderGuideline(info, React) {\n  var _a;\n  var direction = info.direction,classNames = info.classNames,size = info.size,pos = info.pos,zoom = info.zoom,key = info.key;\n  var isHorizontal = direction === \"horizontal\";\n  var scaleType = isHorizontal ? \"Y\" : \"X\";\n  // const scaleType2 = isHorizontal ? \"Y\" : \"X\";\n  return React.createElement(\"div\", {\n    key: key,\n    className: classNames.join(\" \"),\n    style: (_a = {},\n    _a[isHorizontal ? \"width\" : \"height\"] = \"\".concat(size),\n    _a.transform = \"translate(\".concat(pos[0], \", \").concat(pos[1], \") translate\").concat(scaleType, \"(-50%) scale\").concat(scaleType, \"(\").concat(zoom, \")\"),\n    _a)\n  });\n}\nfunction renderInnerGuideline(info, React) {\n  return renderGuideline(__assign(__assign({}, info), { classNames: __spreadArray([\n    prefix(\"line\", \"guideline\", info.direction)],\n    __read(info.classNames), false).filter(function (className) {return className;}), size: info.size || \"\".concat(info.sizeValue, \"px\"), pos: info.pos || info.posValue.map(function (v) {return \"\".concat(throttle(v, 0.1), \"px\");}) }), React);\n}\nfunction renderSnapPoses(moveable, direction, snapPoses, minPos, targetPos, size, index, React) {\n  var zoom = moveable.props.zoom;\n  return snapPoses.map(function (_a, i) {\n    var type = _a.type,pos = _a.pos;\n    var renderPos = [0, 0];\n    renderPos[index] = minPos;\n    renderPos[index ? 0 : 1] = -targetPos + pos;\n    return renderInnerGuideline({\n      key: \"\".concat(direction, \"TargetGuideline\").concat(i),\n      classNames: [prefix(\"target\", \"bold\", type)],\n      posValue: renderPos,\n      sizeValue: size,\n      zoom: zoom,\n      direction: direction\n    }, React);\n  });\n}\nfunction renderGuidelines(moveable, type, guidelines, targetPos, targetRect, React) {\n  var _a = moveable.props,zoom = _a.zoom,isDisplayInnerSnapDigit = _a.isDisplayInnerSnapDigit;\n  var mainNames = type === \"horizontal\" ? VERTICAL_NAMES_MAP : HORIZONTAL_NAMES_MAP;\n  var targetStart = targetRect[mainNames.start];\n  var targetEnd = targetRect[mainNames.end];\n  return guidelines.filter(function (_a) {\n    var hide = _a.hide,elementRect = _a.elementRect;\n    if (hide) {\n      return false;\n    }\n    if (isDisplayInnerSnapDigit && elementRect) {\n      // inner\n      var rect = elementRect.rect;\n      if (rect[mainNames.start] <= targetStart && targetEnd <= rect[mainNames.end]) {\n        return false;\n      }\n    }\n    return true;\n  }).map(function (guideline, i) {\n    var pos = guideline.pos,size = guideline.size,element = guideline.element,className = guideline.className;\n    var renderPos = [\n    -targetPos[0] + pos[0],\n    -targetPos[1] + pos[1]];\n\n    return renderInnerGuideline({\n      key: \"\".concat(type, \"-default-guideline-\").concat(i),\n      classNames: element ? [prefix(\"bold\"), className] : [prefix(\"normal\"), className],\n      direction: type,\n      posValue: renderPos,\n      sizeValue: size,\n      zoom: zoom\n    }, React);\n  });\n}\nfunction renderDigitLine(moveable, type, lineType, index, gap, renderPos, className, React) {\n  var _a;\n  var _b = moveable.props,_c = _b.snapDigit,snapDigit = _c === void 0 ? 0 : _c,_d = _b.isDisplaySnapDigit,isDisplaySnapDigit = _d === void 0 ? true : _d,_e = _b.snapDistFormat,snapDistFormat = _e === void 0 ? function (v, type) {\n      // Type can be used render different values.\n      if (type === 'vertical') {\n        return v;\n      }\n      return v;\n    } : _e,zoom = _b.zoom;\n  var scaleType = type === \"horizontal\" ? \"X\" : \"Y\";\n  var sizeName = type === \"vertical\" ? \"height\" : \"width\";\n  var absGap = Math.abs(gap);\n  var snapSize = isDisplaySnapDigit ?\n  parseFloat(absGap.toFixed(snapDigit)) :\n  0;\n  return React.createElement(\"div\", { key: \"\".concat(type, \"-\").concat(lineType, \"-guideline-\").concat(index), className: prefix(\"guideline-group\", type), style: (_a = {\n      left: \"\".concat(renderPos[0], \"px\"),\n      top: \"\".concat(renderPos[1], \"px\")\n    },\n    _a[sizeName] = \"\".concat(absGap, \"px\"),\n    _a) },\n  renderInnerGuideline({\n    direction: type,\n    classNames: [prefix(lineType), className],\n    size: \"100%\",\n    posValue: [0, 0],\n    sizeValue: absGap,\n    zoom: zoom\n  }, React),\n  React.createElement(\"div\", { className: prefix(\"size-value\", \"gap\"), style: {\n      transform: \"translate\".concat(scaleType, \"(-50%) scale(\").concat(zoom, \")\")\n    } }, snapSize > 0 ? snapDistFormat(snapSize, type) : \"\"));\n}\nfunction groupByElementGuidelines(type, guidelines, targetRect, isDisplayInnerSnapDigit) {\n  var index = type === \"vertical\" ? 0 : 1;\n  var otherIndex = type === \"vertical\" ? 1 : 0;\n  var names = index ? VERTICAL_NAMES_MAP : HORIZONTAL_NAMES_MAP;\n  var targetStart = targetRect[names.start];\n  var targetEnd = targetRect[names.end];\n  return groupBy(guidelines, function (guideline) {\n    return guideline.pos[index];\n  }).map(function (nextGuidelines) {\n    var start = [];\n    var end = [];\n    var inner = [];\n    nextGuidelines.forEach(function (guideline) {\n      var _a, _b;\n      var element = guideline.element;\n      var rect = guideline.elementRect.rect;\n      if (rect[names.end] < targetStart) {\n        start.push(guideline);\n      } else\n      if (targetEnd < rect[names.start]) {\n        end.push(guideline);\n      } else\n      if (rect[names.start] <= targetStart && targetEnd <= rect[names.end] && isDisplayInnerSnapDigit) {\n        var pos = guideline.pos;\n        var elementRect1 = { element: element, rect: __assign(__assign({}, rect), (_a = {}, _a[names.end] = rect[names.start], _a)) };\n        var elementRect2 = { element: element, rect: __assign(__assign({}, rect), (_b = {}, _b[names.start] = rect[names.end], _b)) };\n        var nextPos1 = [0, 0];\n        var nextPos2 = [0, 0];\n        nextPos1[index] = pos[index];\n        nextPos1[otherIndex] = pos[otherIndex];\n        nextPos2[index] = pos[index];\n        nextPos2[otherIndex] = pos[otherIndex] + guideline.size;\n        start.push({\n          type: type,\n          pos: nextPos1,\n          size: 0,\n          elementRect: elementRect1,\n          direction: \"\",\n          elementDirection: \"end\"\n        });\n        end.push({\n          type: type,\n          pos: nextPos2,\n          size: 0,\n          elementRect: elementRect2,\n          direction: \"\",\n          elementDirection: \"start\"\n        });\n        // inner.push(guideline);\n      }\n    });\n    start.sort(function (a, b) {\n      return b.pos[otherIndex] - a.pos[otherIndex];\n    });\n    end.sort(function (a, b) {\n      return a.pos[otherIndex] - b.pos[otherIndex];\n    });\n    return {\n      total: nextGuidelines,\n      start: start,\n      end: end,\n      inner: inner\n    };\n  });\n}\nfunction renderDashedGuidelines(moveable, guidelines, targetPos, targetRect, React) {\n  var isDisplayInnerSnapDigit = moveable.props.isDisplayInnerSnapDigit;\n  var rendered = [];\n  [\"vertical\", \"horizontal\"].forEach(function (type) {\n    var nextGuidelines = guidelines.filter(function (guideline) {return guideline.type === type;});\n    var index = type === \"vertical\" ? 1 : 0;\n    var otherIndex = index ? 0 : 1;\n    var groups = groupByElementGuidelines(type, nextGuidelines, targetRect, isDisplayInnerSnapDigit);\n    var mainNames = index ? HORIZONTAL_NAMES_MAP : VERTICAL_NAMES_MAP;\n    var sideNames = index ? VERTICAL_NAMES_MAP : HORIZONTAL_NAMES_MAP;\n    var targetStart = targetRect[mainNames.start];\n    var targetEnd = targetRect[mainNames.end];\n    groups.forEach(function (_a) {\n      var total = _a.total,start = _a.start,end = _a.end,inner = _a.inner;\n      var sidePos = targetPos[otherIndex] + total[0].pos[otherIndex] - targetRect[sideNames.start];\n      var prevRect = targetRect;\n      start.forEach(function (guideline) {\n        var nextRect = guideline.elementRect.rect;\n        var size = prevRect[mainNames.start] - nextRect[mainNames.end];\n        if (size > 0) {\n          var renderPos = [0, 0];\n          renderPos[index] = targetPos[index] + prevRect[mainNames.start] - targetStart - size;\n          renderPos[otherIndex] = sidePos;\n          rendered.push(renderDigitLine(moveable, type, \"dashed\", rendered.length, size, renderPos, guideline.className, React));\n        }\n        prevRect = nextRect;\n      });\n      prevRect = targetRect;\n      end.forEach(function (guideline) {\n        var nextRect = guideline.elementRect.rect;\n        var size = nextRect[mainNames.start] - prevRect[mainNames.end];\n        if (size > 0) {\n          var renderPos = [0, 0];\n          renderPos[index] = targetPos[index] + prevRect[mainNames.end] - targetStart;\n          renderPos[otherIndex] = sidePos;\n          rendered.push(renderDigitLine(moveable, type, \"dashed\", rendered.length, size, renderPos, guideline.className, React));\n        }\n        prevRect = nextRect;\n      });\n      inner.forEach(function (guideline) {\n        var nextRect = guideline.elementRect.rect;\n        var size1 = targetStart - nextRect[mainNames.start];\n        var size2 = nextRect[mainNames.end] - targetEnd;\n        var renderPos1 = [0, 0];\n        var renderPos2 = [0, 0];\n        renderPos1[index] = targetPos[index] - size1;\n        renderPos1[otherIndex] = sidePos;\n        renderPos2[index] = targetPos[index] + targetEnd - targetStart;\n        renderPos2[otherIndex] = sidePos;\n        rendered.push(renderDigitLine(moveable, type, \"dashed\", rendered.length, size1, renderPos1, guideline.className, React));\n        rendered.push(renderDigitLine(moveable, type, \"dashed\", rendered.length, size2, renderPos2, guideline.className, React));\n      });\n    });\n  });\n  return rendered;\n}\nfunction renderGapGuidelines(moveable, guidelines, targetPos, targetRect, React) {\n  var rendered = [];\n  [\"horizontal\", \"vertical\"].forEach(function (type) {\n    var nextGuidelines = guidelines.filter(function (guideline) {return guideline.type === type;}).slice(0, 1);\n    var index = type === \"vertical\" ? 0 : 1;\n    var otherIndex = index ? 0 : 1;\n    var mainNames = index ? HORIZONTAL_NAMES_MAP : VERTICAL_NAMES_MAP;\n    var sideNames = index ? VERTICAL_NAMES_MAP : HORIZONTAL_NAMES_MAP;\n    var targetStart = targetRect[mainNames.start];\n    var targetEnd = targetRect[mainNames.end];\n    var targetSideStart = targetRect[sideNames.start];\n    var targetSideEnd = targetRect[sideNames.end];\n    nextGuidelines.forEach(function (_a) {\n      var gap = _a.gap,gapRects = _a.gapRects;\n      var sideStartPos = Math.max.apply(Math, __spreadArray([targetSideStart], __read(gapRects.map(function (_a) {\n        var rect = _a.rect;\n        return rect[sideNames.start];\n      })), false));\n      var sideEndPos = Math.min.apply(Math, __spreadArray([targetSideEnd], __read(gapRects.map(function (_a) {\n        var rect = _a.rect;\n        return rect[sideNames.end];\n      })), false));\n      var sideCenterPos = (sideStartPos + sideEndPos) / 2;\n      if (sideStartPos === sideEndPos || sideCenterPos === (targetSideStart + targetSideEnd) / 2) {\n        return;\n      }\n      gapRects.forEach(function (_a) {\n        var rect = _a.rect,className = _a.className;\n        var renderPos = [targetPos[0], targetPos[1]];\n        if (rect[mainNames.end] < targetStart) {\n          renderPos[index] += rect[mainNames.end] - targetStart;\n        } else\n        if (targetEnd < rect[mainNames.start]) {\n          renderPos[index] += rect[mainNames.start] - targetStart - gap;\n        } else\n        {\n          return;\n        }\n        renderPos[otherIndex] += sideCenterPos - targetSideStart;\n        rendered.push(renderDigitLine(moveable, index ? \"vertical\" : \"horizontal\", \"gap\", rendered.length, gap, renderPos, className, React));\n      });\n    });\n  });\n  return rendered;\n}\n\nfunction getTotalGuidelines(moveable) {\n  var _a, _b;\n  var state = moveable.state;\n  var containerClientRect = state.containerClientRect,hasFixed = state.hasFixed;\n  var overflow = containerClientRect.overflow,containerHeight = containerClientRect.scrollHeight,containerWidth = containerClientRect.scrollWidth,containerClientHeight = containerClientRect.clientHeight,containerClientWidth = containerClientRect.clientWidth,clientLeft = containerClientRect.clientLeft,clientTop = containerClientRect.clientTop;\n  var _c = moveable.props,_d = _c.snapGap,snapGap = _d === void 0 ? true : _d,verticalGuidelines = _c.verticalGuidelines,horizontalGuidelines = _c.horizontalGuidelines,_e = _c.snapThreshold,snapThreshold = _e === void 0 ? 5 : _e,_f = _c.maxSnapElementGuidelineDistance,maxSnapElementGuidelineDistance = _f === void 0 ? Infinity : _f,isDisplayGridGuidelines = _c.isDisplayGridGuidelines;\n  var _g = getRect(getAbsolutePosesByState(moveable.state)),top = _g.top,left = _g.left,bottom = _g.bottom,right = _g.right;\n  var targetRect = { top: top, left: left, bottom: bottom, right: right, center: (left + right) / 2, middle: (top + bottom) / 2 };\n  var elementGuidelines = getElementGuidelines(moveable);\n  var totalGuidelines = __spreadArray([], __read(elementGuidelines), false);\n  var snapThresholdMultiples = ((_b = (_a = state.snapThresholdInfo) === null || _a === void 0 ? void 0 : _a.multiples) !== null && _b !== void 0 ? _b : [1, 1]).map(function (n) {return n * snapThreshold;});\n  if (snapGap) {\n    totalGuidelines.push.apply(totalGuidelines, __spreadArray([], __read(getGapGuidelines(moveable, targetRect, snapThresholdMultiples)), false));\n  }\n  var snapOffset = __assign({}, state.snapOffset || {\n    left: 0,\n    top: 0,\n    bottom: 0,\n    right: 0\n  });\n  totalGuidelines.push.apply(totalGuidelines, __spreadArray([], __read(getGridGuidelines(moveable, overflow ? containerWidth : containerClientWidth, overflow ? containerHeight : containerClientHeight, clientLeft, clientTop, snapOffset, isDisplayGridGuidelines)), false));\n  if (hasFixed) {\n    var left_1 = containerClientRect.left,top_1 = containerClientRect.top;\n    snapOffset.left += left_1;\n    snapOffset.top += top_1;\n    snapOffset.right += left_1;\n    snapOffset.bottom += top_1;\n  }\n  totalGuidelines.push.apply(totalGuidelines, __spreadArray([], __read(getDefaultGuidelines(horizontalGuidelines || false, verticalGuidelines || false, overflow ? containerWidth : containerClientWidth, overflow ? containerHeight : containerClientHeight, clientLeft, clientTop, snapOffset)), false));\n  totalGuidelines = totalGuidelines.filter(function (_a) {\n    var element = _a.element,elementRect = _a.elementRect,type = _a.type;\n    if (!element || !elementRect) {\n      return true;\n    }\n    var rect = elementRect.rect;\n    return checkBetweenRects(targetRect, rect, type, maxSnapElementGuidelineDistance);\n  });\n  return totalGuidelines;\n}\nfunction getGapGuidelines(moveable, targetRect, snapThresholds) {\n  var _a = moveable.props,_b = _a.maxSnapElementGuidelineDistance,maxSnapElementGuidelineDistance = _b === void 0 ? Infinity : _b,_c = _a.maxSnapElementGapDistance,maxSnapElementGapDistance = _c === void 0 ? Infinity : _c;\n  var elementRects = moveable.state.elementRects;\n  var gapGuidelines = [];\n  [\n  [\"vertical\", VERTICAL_NAMES_MAP, HORIZONTAL_NAMES_MAP],\n  [\"horizontal\", HORIZONTAL_NAMES_MAP, VERTICAL_NAMES_MAP]].\n  forEach(function (_a) {\n    var _b = __read(_a, 3),type = _b[0],mainNames = _b[1],sideNames = _b[2];\n    var targetStart = targetRect[mainNames.start];\n    var targetEnd = targetRect[mainNames.end];\n    var targetCenter = targetRect[mainNames.center];\n    var targetStart2 = targetRect[sideNames.start];\n    var targetEnd2 = targetRect[sideNames.end];\n    // element : moveable\n    var snapThresholdMap = {\n      left: snapThresholds[0],\n      top: snapThresholds[1]\n    };\n    function getDist(elementRect) {\n      var rect = elementRect.rect;\n      var snapThreshold = snapThresholdMap[mainNames.start];\n      if (rect[mainNames.end] < targetStart + snapThreshold) {\n        return targetStart - rect[mainNames.end];\n      } else\n      if (targetEnd - snapThreshold < rect[mainNames.start]) {\n        return rect[mainNames.start] - targetEnd;\n      } else\n      {\n        return -1;\n      }\n    }\n    var nextElementRects = elementRects.filter(function (elementRect) {\n      var rect = elementRect.rect;\n      if (rect[sideNames.start] > targetEnd2 || rect[sideNames.end] < targetStart2) {\n        return false;\n      }\n      return getDist(elementRect) > 0;\n    }).sort(function (a, b) {\n      return getDist(a) - getDist(b);\n    });\n    var groups = [];\n    nextElementRects.forEach(function (snapRect1) {\n      nextElementRects.forEach(function (snapRect2) {\n        if (snapRect1 === snapRect2) {\n          return;\n        }\n        var rect1 = snapRect1.rect;\n        var rect2 = snapRect2.rect;\n        var rect1Start = rect1[sideNames.start];\n        var rect1End = rect1[sideNames.end];\n        var rect2Start = rect2[sideNames.start];\n        var rect2End = rect2[sideNames.end];\n        if (rect1Start > rect2End || rect2Start > rect1End) {\n          return;\n        }\n        groups.push([snapRect1, snapRect2]);\n      });\n    });\n    groups.forEach(function (_a) {\n      var _b = __read(_a, 2),snapRect1 = _b[0],snapRect2 = _b[1];\n      var rect1 = snapRect1.rect;\n      var rect2 = snapRect2.rect;\n      var rect1Start = rect1[mainNames.start];\n      var rect1End = rect1[mainNames.end];\n      var rect2Start = rect2[mainNames.start];\n      var rect2End = rect2[mainNames.end];\n      var snapThreshold = snapThresholdMap[mainNames.start];\n      var gap = 0;\n      var pos = 0;\n      var isStart = false;\n      var isCenter = false;\n      var isEnd = false;\n      if (rect1End <= targetStart && targetEnd <= rect2Start) {\n        // (l)element1(r) : (l)target(r) : (l)element2(r)\n        isCenter = true;\n        gap = (rect2Start - rect1End - (targetEnd - targetStart)) / 2;\n        pos = rect1End + gap + (targetEnd - targetStart) / 2;\n        if (abs(pos - targetCenter) > snapThreshold) {\n          return;\n        }\n      } else\n      if (rect1End < rect2Start && rect2End < targetStart + snapThreshold) {\n        // (l)element1(r) : (l)element2(r) : (l)target\n        isStart = true;\n        gap = rect2Start - rect1End;\n        pos = rect2End + gap;\n        if (abs(pos - targetStart) > snapThreshold) {\n          return;\n        }\n      } else\n      if (rect1End < rect2Start && targetEnd - snapThreshold < rect1Start) {\n        // target(r) : (l)element1(r) : (l)element2(r)\n        isEnd = true;\n        gap = rect2Start - rect1End;\n        pos = rect1Start - gap;\n        if (abs(pos - targetEnd) > snapThreshold) {\n          return;\n        }\n      } else\n      {\n        return;\n      }\n      if (!gap) {\n        return;\n      }\n      if (!checkBetweenRects(targetRect, rect2, type, maxSnapElementGuidelineDistance)) {\n        return;\n      }\n      if (gap > maxSnapElementGapDistance) {\n        return;\n      }\n      gapGuidelines.push({\n        type: type,\n        pos: type === \"vertical\" ? [pos, 0] : [0, pos],\n        element: snapRect2.element,\n        size: 0,\n        className: snapRect2.className,\n        isStart: isStart,\n        isCenter: isCenter,\n        isEnd: isEnd,\n        gap: gap,\n        hide: true,\n        gapRects: [snapRect1, snapRect2],\n        direction: \"\",\n        elementDirection: \"\"\n      });\n    });\n  });\n  return gapGuidelines;\n}\nfunction startGridGroupGuidelines(moveable, clientLeft, clientTop, snapOffset) {\n  var _a, _b;\n  var props = moveable.props;\n  var state = moveable.state;\n  var snapGridAll = props.snapGridAll;\n  var _c = props.snapGridWidth,snapGridWidth = _c === void 0 ? 0 : _c,_d = props.snapGridHeight,snapGridHeight = _d === void 0 ? 0 : _d;\n  var snapRenderInfo = state.snapRenderInfo;\n  var hasDirection = snapRenderInfo && (((_a = snapRenderInfo.direction) === null || _a === void 0 ? void 0 : _a[0]) || ((_b = snapRenderInfo.direction) === null || _b === void 0 ? void 0 : _b[1]));\n  var moveables = moveable.moveables;\n  // snap group's all child to grid.\n  if (snapGridAll &&\n  moveables &&\n  hasDirection && (\n  snapGridWidth || snapGridHeight)) {\n    if (state.snapThresholdInfo) {\n      return;\n    }\n    state.snapThresholdInfo = {\n      multiples: [1, 1],\n      offset: [0, 0]\n    };\n    var rect_1 = moveable.getRect();\n    var children_1 = rect_1.children;\n    var direction = snapRenderInfo.direction;\n    if (children_1) {\n      var result = direction.map(function (dir, i) {\n        var _a = i === 0 ? {\n            snapSize: snapGridWidth,\n            posName: \"left\",\n            sizeName: \"width\",\n            clientOffset: snapOffset.left - clientLeft\n          } : {\n            snapSize: snapGridHeight,\n            posName: \"top\",\n            sizeName: \"height\",\n            clientOffset: snapOffset.top - clientTop\n          },snapSize = _a.snapSize,posName = _a.posName,sizeName = _a.sizeName,clientOffset = _a.clientOffset;\n        if (!snapSize) {\n          return {\n            dir: dir,\n            multiple: 1,\n            snapSize: snapSize,\n            snapOffset: 0\n          };\n        }\n        var rectSize = rect_1[sizeName];\n        var rectPos = rect_1[posName];\n        // \uC0AC\uC774\uC988\uBCF4\uB2E4 \uB9CC\uC57D \uC791\uB2E4\uBA74 \uC5B4\uB5BB\uAC8C \uD574\uC57C\uB418\uC8E0?\n        var childSizes = flat$1(children_1.map(function (child) {\n          return [\n          child[posName] - rectPos,\n          child[sizeName],\n          rectSize - child[sizeName] - child[posName] + rectPos];\n\n        })).filter(function (v) {return v;}).sort(function (a, b) {\n          return a - b;\n        });\n        var firstChildSize = childSizes[0];\n        var childSnapSizes = childSizes.map(function (size) {return throttle(size / firstChildSize, 0.1) * snapSize;});\n        var n = 1;\n        var rectRatio = throttle(rectSize / firstChildSize, 0.1);\n        for (n = 1; n <= 10; ++n) {\n          if (childSnapSizes.every(function (childSize) {\n            return childSize * n % 1 === 0;\n          })) {\n            break;\n          }\n        }\n        // dir 1 (fixed -1)\n        // dir 0 (fixed 0)\n        // dir -1 (fixed 1)\n        var ratio = (-dir + 1) / 2;\n        var offsetPos = dot(rectPos - clientOffset, rectPos - clientOffset + rectSize, ratio, 1 - ratio);\n        return {\n          multiple: rectRatio * n,\n          dir: dir,\n          snapSize: snapSize,\n          snapOffset: Math.round(offsetPos / snapSize)\n        };\n      });\n      var multiples = result.map(function (r) {return r.multiple || 1;});\n      state.snapThresholdInfo.multiples = multiples;\n      state.snapThresholdInfo.offset = result.map(function (r) {return r.snapOffset;});\n      result.forEach(function (r, i) {\n        if (r.snapSize) ;\n      });\n    }\n  } else\n  {\n    state.snapThresholdInfo = null;\n  }\n}\nfunction getGridGuidelines(moveable, containerWidth, containerHeight, clientLeft, clientTop, snapOffset, isDisplayGridGuidelines) {\n  if (clientLeft === void 0) {clientLeft = 0;}\n  if (clientTop === void 0) {clientTop = 0;}\n  var props = moveable.props;\n  var state = moveable.state;\n  var _a = props.snapGridWidth,snapGridWidth = _a === void 0 ? 0 : _a,_b = props.snapGridHeight,snapGridHeight = _b === void 0 ? 0 : _b;\n  var guidelines = [];\n  var snapOffsetLeft = snapOffset.left,snapOffsetTop = snapOffset.top;\n  var startOffset = [0, 0];\n  startGridGroupGuidelines(moveable, clientLeft, clientTop, snapOffset);\n  var snapThresholdInfo = state.snapThresholdInfo;\n  var defaultSnapGridWidth = snapGridWidth;\n  var defaultSnapGridHeight = snapGridHeight;\n  if (snapThresholdInfo) {\n    snapGridWidth *= snapThresholdInfo.multiples[0] || 1;\n    snapGridHeight *= snapThresholdInfo.multiples[1] || 1;\n    startOffset = snapThresholdInfo.offset;\n  }\n  if (snapGridHeight) {\n    var pushGuideline = function (pos) {\n      guidelines.push({\n        type: \"horizontal\",\n        pos: [\n        snapOffsetLeft,\n        throttle(startOffset[1] * defaultSnapGridHeight + pos - clientTop + snapOffsetTop, 0.1)],\n\n        className: prefix(\"grid-guideline\"),\n        size: containerWidth,\n        hide: !isDisplayGridGuidelines,\n        direction: \"\",\n        grid: true\n      });\n    };\n    for (var pos = 0; pos <= containerHeight * 2; pos += snapGridHeight) {\n      pushGuideline(pos);\n    }\n    for (var pos = -snapGridHeight; pos >= -containerHeight; pos -= snapGridHeight) {\n      pushGuideline(pos);\n    }\n  }\n  if (snapGridWidth) {\n    var pushGuideline = function (pos) {\n      guidelines.push({\n        type: \"vertical\",\n        pos: [\n        throttle(startOffset[0] * defaultSnapGridWidth + pos - clientLeft + snapOffsetLeft, 0.1),\n        snapOffsetTop],\n\n        className: prefix(\"grid-guideline\"),\n        size: containerHeight,\n        hide: !isDisplayGridGuidelines,\n        direction: \"\",\n        grid: true\n      });\n    };\n    for (var pos = 0; pos <= containerWidth * 2; pos += snapGridWidth) {\n      pushGuideline(pos);\n    }\n    for (var pos = -snapGridWidth; pos >= -containerWidth; pos -= snapGridWidth) {\n      pushGuideline(pos);\n    }\n  }\n  return guidelines;\n}\nfunction checkBetweenRects(rect1, rect2, type, distance) {\n  if (type === \"horizontal\") {\n    return abs(rect1.right - rect2.left) <= distance ||\n    abs(rect1.left - rect2.right) <= distance ||\n    rect1.left <= rect2.right && rect2.left <= rect1.right;\n  } else\n  if (type === \"vertical\") {\n    return abs(rect1.bottom - rect2.top) <= distance ||\n    abs(rect1.top - rect2.bottom) <= distance ||\n    rect1.top <= rect2.bottom && rect2.top <= rect1.bottom;\n  }\n  return true;\n}\nfunction getElementGuidelines(moveable) {\n  var state = moveable.state;\n  var _a = moveable.props.elementGuidelines,elementGuidelines = _a === void 0 ? [] : _a;\n  if (!elementGuidelines.length) {\n    state.elementRects = [];\n    return [];\n  }\n  var prevValues = (state.elementRects || []).filter(function (snapRect) {return !snapRect.refresh;});\n  var nextElementGuidelines = elementGuidelines.map(function (el) {\n    if (isObject(el) && \"element\" in el) {\n      return __assign(__assign({}, el), { element: getRefTarget(el.element, true) });\n    }\n    return {\n      element: getRefTarget(el, true)\n    };\n  }).filter(function (value) {\n    return value.element;\n  });\n  var _b = diff(prevValues.map(function (v) {return v.element;}), nextElementGuidelines.map(function (v) {return v.element;})),maintained = _b.maintained,added = _b.added;\n  var nextValues = [];\n  maintained.forEach(function (_a) {\n    var _b = __read(_a, 2),prevIndex = _b[0],nextIndex = _b[1];\n    nextValues[nextIndex] = prevValues[prevIndex];\n  });\n  getSnapElementRects(moveable, added.map(function (index) {return nextElementGuidelines[index];})).map(function (rect, i) {\n    nextValues[added[i]] = rect;\n  });\n  state.elementRects = nextValues;\n  var elementSnapDirections = getSnapDirections(moveable.props.elementSnapDirections);\n  var nextGuidelines = [];\n  nextValues.forEach(function (snapRect) {\n    var element = snapRect.element,_a = snapRect.top,topValue = _a === void 0 ? elementSnapDirections.top : _a,_b = snapRect.left,leftValue = _b === void 0 ? elementSnapDirections.left : _b,_c = snapRect.right,rightValue = _c === void 0 ? elementSnapDirections.right : _c,_d = snapRect.bottom,bottomValue = _d === void 0 ? elementSnapDirections.bottom : _d,_e = snapRect.center,centerValue = _e === void 0 ? elementSnapDirections.center : _e,_f = snapRect.middle,middleValue = _f === void 0 ? elementSnapDirections.middle : _f,className = snapRect.className,rect = snapRect.rect;\n    var _g = splitSnapDirectionPoses({\n        top: topValue,\n        right: rightValue,\n        left: leftValue,\n        bottom: bottomValue,\n        center: centerValue,\n        middle: middleValue\n      }, rect),horizontal = _g.horizontal,vertical = _g.vertical,horizontalNames = _g.horizontalNames,verticalNames = _g.verticalNames;\n    var rectTop = rect.top;\n    var rectLeft = rect.left;\n    var width = rect.right - rectLeft;\n    var height = rect.bottom - rectTop;\n    var sizes = [width, height];\n    vertical.forEach(function (pos, i) {\n      nextGuidelines.push({\n        type: \"vertical\",\n        element: element,\n        pos: [\n        throttle(pos, 0.1),\n        rectTop],\n        size: height,\n        sizes: sizes,\n        className: className,\n        elementRect: snapRect,\n        elementDirection: SNAP_SKIP_NAMES_MAP[verticalNames[i]] || verticalNames[i],\n        direction: \"\"\n      });\n    });\n    horizontal.forEach(function (pos, i) {\n      nextGuidelines.push({\n        type: \"horizontal\",\n        element: element,\n        pos: [\n        rectLeft,\n        throttle(pos, 0.1)],\n\n        size: width,\n        sizes: sizes,\n        className: className,\n        elementRect: snapRect,\n        elementDirection: SNAP_SKIP_NAMES_MAP[horizontalNames[i]] || horizontalNames[i],\n        direction: \"\"\n      });\n    });\n  });\n  return nextGuidelines;\n}\nfunction getObjectGuidelines(guidelines, containerSize) {\n  return guidelines ? guidelines.map(function (info) {\n    var posGuideline = isObject(info) ? info : { pos: info };\n    var pos = posGuideline.pos;\n    if (isNumber(pos)) {\n      return posGuideline;\n    } else\n    {\n      return __assign(__assign({}, posGuideline), { pos: convertUnitSize(pos, containerSize) });\n    }\n  }) : [];\n}\nfunction getDefaultGuidelines(horizontalGuidelines, verticalGuidelines, width, height, clientLeft, clientTop, snapOffset) {\n  if (clientLeft === void 0) {clientLeft = 0;}\n  if (clientTop === void 0) {clientTop = 0;}\n  if (snapOffset === void 0) {snapOffset = { left: 0, top: 0, right: 0, bottom: 0 };}\n  var guidelines = [];\n  var snapOffsetLeft = snapOffset.left,snapOffsetTop = snapOffset.top,snapOffsetBottom = snapOffset.bottom,snapOffsetRight = snapOffset.right;\n  var snapWidth = width + snapOffsetRight - snapOffsetLeft;\n  var snapHeight = height + snapOffsetBottom - snapOffsetTop;\n  getObjectGuidelines(horizontalGuidelines, snapHeight).forEach(function (posInfo) {\n    guidelines.push({\n      type: \"horizontal\",\n      pos: [\n      snapOffsetLeft,\n      throttle(posInfo.pos - clientTop + snapOffsetTop, 0.1)],\n\n      size: snapWidth,\n      className: posInfo.className,\n      direction: \"\"\n    });\n  });\n  getObjectGuidelines(verticalGuidelines, snapWidth).forEach(function (posInfo) {\n    guidelines.push({\n      type: \"vertical\",\n      pos: [\n      throttle(posInfo.pos - clientLeft + snapOffsetLeft, 0.1),\n      snapOffsetTop],\n\n      size: snapHeight,\n      className: posInfo.className,\n      direction: \"\"\n    });\n  });\n  return guidelines;\n}\nfunction getSnapElementRects(moveable, values) {\n  if (!values.length) {\n    return [];\n  }\n  var groupable = moveable.props.groupable;\n  var state = moveable.state;\n  var containerClientRect = state.containerClientRect,\n    // targetClientRect: {\n    //     top: clientTop,\n    //     left: clientLeft,\n    // },\n    rootMatrix = state.rootMatrix,is3d = state.is3d,offsetDelta = state.offsetDelta;\n  var n = is3d ? 4 : 3;\n  var _a = __read(calculateContainerPos(rootMatrix, containerClientRect, n), 2),containerLeft = _a[0],containerTop = _a[1];\n  // const poses = getAbsolutePosesByState(state);\n  // const {\n  //     minX: targetLeft,\n  //     minY: targetTop,\n  // } = getMinMaxs(poses);\n  // const [distLeft, distTop] = minus([targetLeft, targetTop], calculateInversePosition(rootMatrix, [\n  //     clientLeft - containerLeft,\n  //     clientTop - containerTop,\n  // ], n)).map(pos => roundSign(pos));\n  var offsetLeft = groupable ? 0 : offsetDelta[0];\n  var offsetTop = groupable ? 0 : offsetDelta[1];\n  return values.map(function (value) {\n    var rect = value.element.getBoundingClientRect();\n    var left = rect.left - containerLeft - offsetLeft;\n    var top = rect.top - containerTop - offsetTop;\n    var bottom = top + rect.height;\n    var right = left + rect.width;\n    var _a = __read(calculateInversePosition(rootMatrix, [left, top], n), 2),elementLeft = _a[0],elementTop = _a[1];\n    var _b = __read(calculateInversePosition(rootMatrix, [right, bottom], n), 2),elementRight = _b[0],elementBottom = _b[1];\n    return __assign(__assign({}, value), { rect: {\n        left: elementLeft,\n        right: elementRight,\n        top: elementTop,\n        bottom: elementBottom,\n        center: (elementLeft + elementRight) / 2,\n        middle: (elementTop + elementBottom) / 2\n      } });\n  });\n}\n\nfunction checkSnapInfo(moveable) {\n  var state = moveable.state;\n  var container = state.container;\n  var snapContainer = moveable.props.snapContainer || container;\n  if (state.snapContainer === snapContainer && state.guidelines && state.guidelines.length) {\n    return false;\n  }\n  var containerClientRect = state.containerClientRect;\n  var snapOffset = {\n    left: 0,\n    top: 0,\n    bottom: 0,\n    right: 0\n  };\n  if (container !== snapContainer) {\n    var snapContainerTarget = getRefTarget(snapContainer, true);\n    if (snapContainerTarget) {\n      var snapContainerRect = getClientRect(snapContainerTarget);\n      var offset1 = getDragDistByState(state, [\n      snapContainerRect.left - containerClientRect.left,\n      snapContainerRect.top - containerClientRect.top]\n      );\n      var offset2 = getDragDistByState(state, [\n      snapContainerRect.right - containerClientRect.right,\n      snapContainerRect.bottom - containerClientRect.bottom]\n      );\n      snapOffset.left = throttle(offset1[0], 0.00001);\n      snapOffset.top = throttle(offset1[1], 0.00001);\n      snapOffset.right = throttle(offset2[0], 0.00001);\n      snapOffset.bottom = throttle(offset2[1], 0.00001);\n    }\n  }\n  state.snapContainer = snapContainer;\n  state.snapOffset = snapOffset;\n  state.guidelines = getTotalGuidelines(moveable);\n  state.enableSnap = true;\n  return true;\n}\nfunction getNextFixedPoses(matrix, width, height, fixedDirection, fixedPos, is3d) {\n  var nextPoses = calculatePoses(matrix, width, height, is3d ? 4 : 3);\n  var nextFixedPos = getPosByDirection(nextPoses, fixedDirection);\n  return getAbsolutePoses(nextPoses, minus(fixedPos, nextFixedPos));\n}\nfunction normalized(value) {\n  return value ? value / abs(value) : 0;\n}\nfunction getSizeOffsetInfo(moveable, poses, direction, keepRatio, isRequest, datas) {\n  var fixedDirection = datas.fixedDirection;\n  var directions = getCheckSnapDirections(direction, fixedDirection, keepRatio);\n  var innerBoundLineInfos = getCheckInnerBoundLineInfos(moveable, poses, direction, keepRatio);\n  var offsets = __spreadArray(__spreadArray([], __read(getSnapBoundInfo(moveable, poses, directions, keepRatio, isRequest, datas)), false), __read(getInnerBoundInfo(moveable, innerBoundLineInfos, datas)), false);\n  var widthOffsetInfo = getNearOffsetInfo(offsets, 0);\n  var heightOffsetInfo = getNearOffsetInfo(offsets, 1);\n  return {\n    width: {\n      isBound: widthOffsetInfo.isBound,\n      offset: widthOffsetInfo.offset[0]\n    },\n    height: {\n      isBound: heightOffsetInfo.isBound,\n      offset: heightOffsetInfo.offset[1]\n    }\n  };\n}\nfunction recheckSizeByTwoDirection(moveable, poses, width, height, maxWidth, maxHeight, direction, isRequest, datas) {\n  var snapPos = getPosByDirection(poses, direction);\n  var _a = checkMoveableSnapBounds(moveable, isRequest, {\n      vertical: [snapPos[0]],\n      horizontal: [snapPos[1]]\n    }),horizontalOffset = _a.horizontal.offset,verticalOffset = _a.vertical.offset;\n  if (throttle(verticalOffset, FLOAT_POINT_NUM) || throttle(horizontalOffset, FLOAT_POINT_NUM)) {\n    var _b = __read(getDragDist({\n        datas: datas,\n        distX: -verticalOffset,\n        distY: -horizontalOffset\n      }), 2),nextWidthOffset = _b[0],nextHeightOffset = _b[1];\n    var nextWidth = Math.min(maxWidth || Infinity, width + direction[0] * nextWidthOffset);\n    var nextHeight = Math.min(maxHeight || Infinity, height + direction[1] * nextHeightOffset);\n    return [nextWidth - width, nextHeight - height];\n  }\n  return [0, 0];\n}\nfunction checkSizeDist(moveable, getNextPoses, width, height, direction, fixedPosition, isRequest, datas) {\n  var poses = getAbsolutePosesByState(moveable.state);\n  var keepRatio = moveable.props.keepRatio;\n  var widthOffset = 0;\n  var heightOffset = 0;\n  for (var i = 0; i < 2; ++i) {\n    var nextPoses = getNextPoses(widthOffset, heightOffset);\n    var _a = getSizeOffsetInfo(moveable, nextPoses, direction, keepRatio, isRequest, datas),widthOffsetInfo = _a.width,heightOffsetInfo = _a.height;\n    var isWidthBound = widthOffsetInfo.isBound;\n    var isHeightBound = heightOffsetInfo.isBound;\n    var nextWidthOffset = widthOffsetInfo.offset;\n    var nextHeightOffset = heightOffsetInfo.offset;\n    if (i === 1) {\n      if (!isWidthBound) {\n        nextWidthOffset = 0;\n      }\n      if (!isHeightBound) {\n        nextHeightOffset = 0;\n      }\n    }\n    if (i === 0 && isRequest && !isWidthBound && !isHeightBound) {\n      return [0, 0];\n    }\n    if (keepRatio) {\n      var widthDist = abs(nextWidthOffset) * (width ? 1 / width : 1);\n      var heightDist = abs(nextHeightOffset) * (height ? 1 / height : 1);\n      var isGetWidthOffset = isWidthBound && isHeightBound ?\n      widthDist < heightDist :\n      isHeightBound ||\n      !isWidthBound && widthDist < heightDist;\n      if (isGetWidthOffset) {\n        // width : height = ? : heightOffset\n        nextWidthOffset = width * nextHeightOffset / height;\n      } else\n      {\n        // width : height = widthOffset : ?\n        nextHeightOffset = height * nextWidthOffset / width;\n      }\n    }\n    widthOffset += nextWidthOffset;\n    heightOffset += nextHeightOffset;\n  }\n  if (!keepRatio && direction[0] && direction[1]) {\n    var _b = checkMaxBounds(moveable, poses, direction, fixedPosition, datas),maxWidth = _b.maxWidth,maxHeight = _b.maxHeight;\n    var _c = __read(recheckSizeByTwoDirection(moveable, getNextPoses(widthOffset, heightOffset).map(function (pos) {return pos.map(function (p) {return throttle(p, FLOAT_POINT_NUM);});}), width + widthOffset, height + heightOffset, maxWidth, maxHeight, direction, isRequest, datas), 2),nextWidthOffset = _c[0],nextHeightOffset = _c[1];\n    widthOffset += nextWidthOffset;\n    heightOffset += nextHeightOffset;\n  }\n  return [widthOffset, heightOffset];\n}\nfunction absDegree(deg) {\n  if (deg < 0) {\n    deg = deg % 360 + 360;\n  }\n  deg %= 360;\n  return deg;\n}\nfunction bumpDegree(baseDeg, snapDeg) {\n  // baseDeg -80\n  // snapDeg 270\n  // return -90\n  snapDeg = absDegree(snapDeg);\n  var count = Math.floor(baseDeg / 360);\n  var deg1 = count * 360 + 360 - snapDeg;\n  var deg2 = count * 360 + snapDeg;\n  return abs(baseDeg - deg1) < abs(baseDeg - deg2) ? deg1 : deg2;\n}\nfunction getMinDegreeDistance(deg1, deg2) {\n  deg1 = absDegree(deg1);\n  deg2 = absDegree(deg2);\n  var deg3 = absDegree(deg1 - deg2);\n  return Math.min(deg3, 360 - deg3);\n}\nfunction checkSnapRotate(moveable, rect, dist, rotation) {\n  var _a;\n  var props = moveable.props;\n  var snapRotationThreshold = (_a = props[NAME_snapRotationThreshold]) !== null && _a !== void 0 ? _a : 5;\n  var snapRotationDegrees = props[NAME_snapRotationDegrees];\n  if (hasGuidelines(moveable, \"rotatable\")) {\n    var pos1 = rect.pos1,pos2 = rect.pos2,pos3 = rect.pos3,pos4 = rect.pos4,origin2_1 = rect.origin;\n    var rad_1 = dist * Math.PI / 180;\n    var prevPoses = [pos1, pos2, pos3, pos4].map(function (pos) {return minus(pos, origin2_1);});\n    var nextPoses = prevPoses.map(function (pos) {return rotate(pos, rad_1);});\n    // console.log(moveable.state.left, moveable.state.top, moveable.state.origin);\n    // console.log(pos1, pos2, pos3, pos4, origin, rad, prevPoses, nextPoses);\n    var result = __spreadArray(__spreadArray([], __read(checkRotateBounds(moveable, prevPoses, nextPoses, origin2_1, dist)), false), __read(checkRotateInnerBounds(moveable, prevPoses, nextPoses, origin2_1, dist)), false);\n    result.sort(function (a, b) {return abs(a - dist) - abs(b - dist);});\n    var isSnap = result.length > 0;\n    if (isSnap) {\n      return {\n        isSnap: isSnap,\n        dist: isSnap ? result[0] : dist\n      };\n    }\n  }\n  if ((snapRotationDegrees === null || snapRotationDegrees === void 0 ? void 0 : snapRotationDegrees.length) && snapRotationThreshold) {\n    var sorted = snapRotationDegrees.slice().sort(function (a, b) {\n      return getMinDegreeDistance(a, rotation) - getMinDegreeDistance(b, rotation);\n    });\n    var firstDegree = sorted[0];\n    if (getMinDegreeDistance(firstDegree, rotation) <= snapRotationThreshold) {\n      return {\n        isSnap: true,\n        dist: dist + bumpDegree(rotation, firstDegree) - rotation\n      };\n    }\n  }\n  return {\n    isSnap: false,\n    dist: dist\n  };\n}\nfunction checkSnapResize(moveable, width, height, direction, fixedPosition, isRequest, datas) {\n  if (!hasGuidelines(moveable, \"resizable\")) {\n    return [0, 0];\n  }\n  var fixedDirection = datas.fixedDirection,nextAllMatrix = datas.nextAllMatrix;\n  var _a = moveable.state,allMatrix = _a.allMatrix,is3d = _a.is3d;\n  return checkSizeDist(moveable, function (widthOffset, heightOffset) {\n    return getNextFixedPoses(nextAllMatrix || allMatrix, width + widthOffset, height + heightOffset, fixedDirection, fixedPosition, is3d);\n  }, width, height, direction, fixedPosition, isRequest, datas);\n}\nfunction checkSnapScale(moveable, scale, direction, isRequest, datas) {\n  if (!hasGuidelines(moveable, \"scalable\")) {\n    return [0, 0];\n  }\n  var startOffsetWidth = datas.startOffsetWidth,startOffsetHeight = datas.startOffsetHeight,fixedPosition = datas.fixedPosition,fixedDirection = datas.fixedDirection,is3d = datas.is3d;\n  var sizeDist = checkSizeDist(moveable, function (widthOffset, heightOffset) {\n    return getNextFixedPoses(scaleMatrix(datas, plus(scale, [widthOffset / startOffsetWidth, heightOffset / startOffsetHeight])), startOffsetWidth, startOffsetHeight, fixedDirection, fixedPosition, is3d);\n  }, startOffsetWidth, startOffsetHeight, direction, fixedPosition, isRequest, datas);\n  return [sizeDist[0] / startOffsetWidth, sizeDist[1] / startOffsetHeight];\n}\nfunction startCheckSnapDrag(moveable, datas) {\n  datas.absolutePoses = getAbsolutePosesByState(moveable.state);\n}\nfunction getSnapGuidelines(posInfos) {\n  var guidelines = [];\n  posInfos.forEach(function (posInfo) {\n    posInfo.guidelineInfos.forEach(function (_a) {\n      var guideline = _a.guideline;\n      if (find(guidelines, function (info) {return info.guideline === guideline;})) {\n        return;\n      }\n      guideline.direction = \"\";\n      guidelines.push({ guideline: guideline, posInfo: posInfo });\n    });\n  });\n  return guidelines.map(function (_a) {\n    var guideline = _a.guideline,posInfo = _a.posInfo;\n    return __assign(__assign({}, guideline), { direction: posInfo.direction });\n  });\n}\nfunction addBoundGuidelines(moveable, verticalPoses, horizontalPoses, verticalSnapPoses, horizontalSnapPoses, externalBounds) {\n  var _a = checkBoundPoses(getBounds(moveable, externalBounds), verticalPoses, horizontalPoses),verticalBoundInfos = _a.vertical,horizontalBoundInfos = _a.horizontal;\n  var boundMap = getInitialBounds();\n  verticalBoundInfos.forEach(function (info) {\n    if (info.isBound) {\n      if (info.direction === \"start\") {\n        boundMap.left = true;\n      }\n      if (info.direction === \"end\") {\n        boundMap.right = true;\n      }\n      verticalSnapPoses.push({\n        type: \"bounds\",\n        pos: info.pos\n      });\n    }\n  });\n  horizontalBoundInfos.forEach(function (info) {\n    if (info.isBound) {\n      if (info.direction === \"start\") {\n        boundMap.top = true;\n      }\n      if (info.direction === \"end\") {\n        boundMap.bottom = true;\n      }\n      horizontalSnapPoses.push({\n        type: \"bounds\",\n        pos: info.pos\n      });\n    }\n  });\n  var _b = checkInnerBoundPoses(moveable),innerBoundMap = _b.boundMap,verticalInnerBoundPoses = _b.vertical,horizontalInnerBoundPoses = _b.horizontal;\n  verticalInnerBoundPoses.forEach(function (innerPos) {\n    if (findIndex(verticalSnapPoses, function (_a) {\n      var type = _a.type,pos = _a.pos;\n      return type === \"bounds\" && pos === innerPos;\n    }) >= 0) {\n      return;\n    }\n    verticalSnapPoses.push({\n      type: \"bounds\",\n      pos: innerPos\n    });\n  });\n  horizontalInnerBoundPoses.forEach(function (innerPos) {\n    if (findIndex(horizontalSnapPoses, function (_a) {\n      var type = _a.type,pos = _a.pos;\n      return type === \"bounds\" && pos === innerPos;\n    }) >= 0) {\n      return;\n    }\n    horizontalSnapPoses.push({\n      type: \"bounds\",\n      pos: innerPos\n    });\n  });\n  return {\n    boundMap: boundMap,\n    innerBoundMap: innerBoundMap\n  };\n}\nvar directionCondition$1 = getDirectionCondition(\"\", [\"resizable\", \"scalable\"]);\n/**\r\n * @namespace Moveable.Snappable\r\n * @description Whether or not target can be snapped to the guideline. (default: false)\r\n * @sort 2\r\n */\nvar Snappable = {\n  name: \"snappable\",\n  dragRelation: \"strong\",\n  props: [\n  \"snappable\",\n  \"snapContainer\",\n  \"snapDirections\",\n  \"elementSnapDirections\",\n  \"snapGap\",\n  \"snapGridWidth\",\n  \"snapGridHeight\",\n  \"isDisplaySnapDigit\",\n  \"isDisplayInnerSnapDigit\",\n  \"isDisplayGridGuidelines\",\n  \"snapDigit\",\n  \"snapThreshold\",\n  \"snapRenderThreshold\",\n  \"snapGridAll\",\n  NAME_snapRotationThreshold,\n  NAME_snapRotationDegrees,\n  NAME_snapHorizontalThreshold,\n  NAME_snapVerticalThreshold,\n  \"horizontalGuidelines\",\n  \"verticalGuidelines\",\n  \"elementGuidelines\",\n  \"bounds\",\n  \"innerBounds\",\n  \"snapDistFormat\",\n  \"maxSnapElementGuidelineDistance\",\n  \"maxSnapElementGapDistance\"],\n\n  events: [\"snap\", \"bound\"],\n  css: [\n  \":host {\\n--bounds-color: #d66;\\n}\\n.guideline {\\npointer-events: none;\\nz-index: 2;\\n}\\n.guideline.bounds {\\nbackground: #d66;\\nbackground: var(--bounds-color);\\n}\\n.guideline-group {\\nposition: absolute;\\ntop: 0;\\nleft: 0;\\n}\\n.guideline-group .size-value {\\nposition: absolute;\\ncolor: #f55;\\nfont-size: 12px;\\nfont-size: calc(12px * var(--zoom));\\nfont-weight: bold;\\n}\\n.guideline-group.horizontal .size-value {\\ntransform-origin: 50% 100%;\\ntransform: translateX(-50%);\\nleft: 50%;\\nbottom: 5px;\\nbottom: calc(2px + 3px * var(--zoom));\\n}\\n.guideline-group.vertical .size-value {\\ntransform-origin: 0% 50%;\\ntop: 50%;\\ntransform: translateY(-50%);\\nleft: 5px;\\nleft: calc(2px + 3px * var(--zoom));\\n}\\n.guideline.gap {\\nbackground: #f55;\\n}\\n.size-value.gap {\\ncolor: #f55;\\n}\\n\"],\n\n  render: function (moveable, React) {\n    var state = moveable.state;\n    var targetTop = state.top,targetLeft = state.left,pos1 = state.pos1,pos2 = state.pos2,pos3 = state.pos3,pos4 = state.pos4,snapRenderInfo = state.snapRenderInfo;\n    var _a = moveable.props.snapRenderThreshold,snapRenderThreshold = _a === void 0 ? 1 : _a;\n    if (!snapRenderInfo || !snapRenderInfo.render || !hasGuidelines(moveable, \"\")) {\n      // reset store\n      watchValue(moveable, \"boundMap\", getInitialBounds(), function (v) {return JSON.stringify(v);});\n      watchValue(moveable, \"innerBoundMap\", getInitialBounds(), function (v) {return JSON.stringify(v);});\n      return [];\n    }\n    state.guidelines = getTotalGuidelines(moveable);\n    var minLeft = Math.min(pos1[0], pos2[0], pos3[0], pos4[0]);\n    var minTop = Math.min(pos1[1], pos2[1], pos3[1], pos4[1]);\n    var externalPoses = snapRenderInfo.externalPoses || [];\n    var poses = getAbsolutePosesByState(moveable.state);\n    var verticalSnapPoses = [];\n    var horizontalSnapPoses = [];\n    var verticalGuidelines = [];\n    var horizontalGuidelines = [];\n    var snapInfos = [];\n    var _b = getRect(poses),width = _b.width,height = _b.height,top = _b.top,left = _b.left,bottom = _b.bottom,right = _b.right;\n    var targetRect = { left: left, right: right, top: top, bottom: bottom, center: (left + right) / 2, middle: (top + bottom) / 2 };\n    var hasExternalPoses = externalPoses.length > 0;\n    var externalRect = hasExternalPoses ?\n    getRect(externalPoses) :\n    {};\n    if (!snapRenderInfo.request) {\n      if (snapRenderInfo.direction) {\n        snapInfos.push(getSnapInfosByDirection(moveable, poses, snapRenderInfo.direction, snapRenderThreshold, snapRenderThreshold));\n      }\n      if (snapRenderInfo.snap) {\n        var rect = getRect(poses);\n        if (snapRenderInfo.center) {\n          rect.middle = (rect.top + rect.bottom) / 2;\n          rect.center = (rect.left + rect.right) / 2;\n        }\n        snapInfos.push(checkSnaps(moveable, rect, snapRenderThreshold, snapRenderThreshold));\n      }\n      if (hasExternalPoses) {\n        if (snapRenderInfo.center) {\n          externalRect.middle =\n          (externalRect.top + externalRect.bottom) / 2;\n          externalRect.center =\n          (externalRect.left + externalRect.right) / 2;\n        }\n        snapInfos.push(checkSnaps(moveable, externalRect, snapRenderThreshold, snapRenderThreshold));\n      }\n      snapInfos.forEach(function (snapInfo) {\n        var verticalPosInfos = snapInfo.vertical.posInfos,horizontalPosInfos = snapInfo.horizontal.posInfos;\n        verticalSnapPoses.push.apply(verticalSnapPoses, __spreadArray([], __read(verticalPosInfos.filter(function (_a) {\n          var guidelineInfos = _a.guidelineInfos;\n          return guidelineInfos.some(function (_a) {\n            var guideline = _a.guideline;\n            return !guideline.hide;\n          });\n        }).map(function (posInfo) {return {\n            type: \"snap\",\n            pos: posInfo.pos\n          };})), false));\n        horizontalSnapPoses.push.apply(horizontalSnapPoses, __spreadArray([], __read(horizontalPosInfos.filter(function (_a) {\n          var guidelineInfos = _a.guidelineInfos;\n          return guidelineInfos.some(function (_a) {\n            var guideline = _a.guideline;\n            return !guideline.hide;\n          });\n        }).map(function (posInfo) {return {\n            type: \"snap\",\n            pos: posInfo.pos\n          };})), false));\n        verticalGuidelines.push.apply(verticalGuidelines, __spreadArray([], __read(getSnapGuidelines(verticalPosInfos)), false));\n        horizontalGuidelines.push.apply(horizontalGuidelines, __spreadArray([], __read(getSnapGuidelines(horizontalPosInfos)), false));\n      });\n    }\n    var _c = addBoundGuidelines(moveable, [left, right], [top, bottom], verticalSnapPoses, horizontalSnapPoses),boundMap = _c.boundMap,innerBoundMap = _c.innerBoundMap;\n    if (hasExternalPoses) {\n      addBoundGuidelines(moveable, [externalRect.left, externalRect.right], [externalRect.top, externalRect.bottom], verticalSnapPoses, horizontalSnapPoses, snapRenderInfo.externalBounds);\n    }\n    var allGuidelines = __spreadArray(__spreadArray([], __read(verticalGuidelines), false), __read(horizontalGuidelines), false);\n    var elementGuidelines = allGuidelines.filter(function (guideline) {return guideline.element && !guideline.gapRects;});\n    var gapGuidelines = allGuidelines.filter(function (guideline) {return guideline.gapRects;}).sort(function (a, b) {\n      return a.gap - b.gap;\n    });\n    triggerEvent(moveable, \"onSnap\", {\n      guidelines: allGuidelines.filter(function (_a) {\n        var element = _a.element;\n        return !element;\n      }),\n      elements: elementGuidelines,\n      gaps: gapGuidelines\n    }, true);\n    var nextBoundMap = watchValue(moveable, \"boundMap\", boundMap, function (v) {return JSON.stringify(v);}, getInitialBounds());\n    var nextInnerBoundMap = watchValue(moveable, \"innerBoundMap\", innerBoundMap, function (v) {return JSON.stringify(v);}, getInitialBounds());\n    if (boundMap === nextBoundMap || innerBoundMap === nextInnerBoundMap) {\n      triggerEvent(moveable, \"onBound\", {\n        bounds: boundMap,\n        innerBounds: innerBoundMap\n      }, true);\n    }\n    // verticalSnapPoses.\n    return __spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray([], __read(renderDashedGuidelines(moveable, elementGuidelines, [minLeft, minTop], targetRect, React)), false), __read(renderGapGuidelines(moveable, gapGuidelines, [minLeft, minTop], targetRect, React)), false), __read(renderGuidelines(moveable, \"horizontal\", horizontalGuidelines, [targetLeft, targetTop], targetRect, React)), false), __read(renderGuidelines(moveable, \"vertical\", verticalGuidelines, [targetLeft, targetTop], targetRect, React)), false), __read(renderSnapPoses(moveable, \"horizontal\", horizontalSnapPoses, minLeft, targetTop, width, 0, React)), false), __read(renderSnapPoses(moveable, \"vertical\", verticalSnapPoses, minTop, targetLeft, height, 1, React)), false);\n  },\n  dragStart: function (moveable, e) {\n    moveable.state.snapRenderInfo = {\n      request: e.isRequest,\n      snap: true,\n      center: true\n    };\n    checkSnapInfo(moveable);\n  },\n  drag: function (moveable) {\n    var state = moveable.state;\n    if (!checkSnapInfo(moveable)) {\n      state.guidelines = getTotalGuidelines(moveable);\n    }\n    if (state.snapRenderInfo) {\n      state.snapRenderInfo.render = true;\n    }\n  },\n  pinchStart: function (moveable) {\n    this.unset(moveable);\n  },\n  dragEnd: function (moveable) {\n    this.unset(moveable);\n  },\n  dragControlCondition: function (moveable, e) {\n    if (directionCondition$1(moveable, e) || dragControlCondition(moveable, e)) {\n      return true;\n    }\n    if (!e.isRequest && e.inputEvent) {\n      return hasClass(e.inputEvent.target, prefix(\"snap-control\"));\n    }\n  },\n  dragControlStart: function (moveable) {\n    moveable.state.snapRenderInfo = null;\n    checkSnapInfo(moveable);\n  },\n  dragControl: function (moveable) {\n    this.drag(moveable);\n  },\n  dragControlEnd: function (moveable) {\n    this.unset(moveable);\n  },\n  dragGroupStart: function (moveable, e) {\n    this.dragStart(moveable, e);\n  },\n  dragGroup: function (moveable) {\n    this.drag(moveable);\n  },\n  dragGroupEnd: function (moveable) {\n    this.unset(moveable);\n  },\n  dragGroupControlStart: function (moveable) {\n    moveable.state.snapRenderInfo = null;\n    checkSnapInfo(moveable);\n  },\n  dragGroupControl: function (moveable) {\n    this.drag(moveable);\n  },\n  dragGroupControlEnd: function (moveable) {\n    this.unset(moveable);\n  },\n  unset: function (moveable) {\n    var state = moveable.state;\n    state.enableSnap = false;\n    state.guidelines = [];\n    state.snapRenderInfo = null;\n    state.elementRects = [];\n  }\n};\n/**\r\n * Whether or not target can be snapped to the guideline. (default: false)\r\n * @name Moveable.Snappable#snappable\r\n * @see {@link https://daybrush.com/moveable/release/latest/doc/Moveable.Snappable.html#.SnappableOptions}\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body);\r\n *\r\n * moveable.snappable = true;\r\n */\n/**\r\n *  A snap container that is the basis for snap, bounds, and innerBounds. (default: null = container)\r\n * @name Moveable.Snappable#snapContainer\r\n * @see {@link https://daybrush.com/moveable/release/latest/doc/Moveable.Snappable.html#.SnappableOptions}\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.querySelector(\".container\"));\r\n *\r\n * moveable.snapContainer = document.body;\r\n */\n/**\r\n * You can specify the directions to snap to the target. (default: { left: true, top: true, right: true, bottom: true })\r\n * @name Moveable.Snappable#snapDirections\r\n * @see {@link https://daybrush.com/moveable/release/latest/doc/Moveable.Snappable.html#.SnappableOptions}\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body, {\r\n *   snappable: true,\r\n *   snapDirections: true,\r\n * });\r\n * // snap center\r\n * moveable.snapDirections = { left: true, top: true, right: true, bottom: true, center: true, middle: true };\r\n */\n/**\r\n * You can specify the snap directions of elements. (default: { left: true, ftrue, right: true, bottom: true })\r\n * @name Moveable.Snappable#elementSnapDirections\r\n * @see {@link https://daybrush.com/moveable/release/latest/doc/Moveable.Snappable.html#.SnappableOptions}\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body, {\r\n *   snappable: true,\r\n *   elementSnapDirections: true,\r\n * });\r\n * // snap center\r\n * moveable.elementSnapDirections = { left: true, top: true, right: true, bottom: true, center: true, middle: true };\r\n */\n/**\r\n * When you drag, make the gap snap in the element guidelines. (default: true)\r\n * @name Moveable.Snappable#snapGap\r\n * @see {@link https://daybrush.com/moveable/release/latest/doc/Moveable.Snappable.html#.SnappableOptions}\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body, {\r\n *   snappable: true,\r\n *   snapElement: true,\r\n *   snapGap: true,\r\n * });\r\n *\r\n * moveable.snapGap = false;\r\n */\n/**\r\n * Distance value that can snap to guidelines. (default: 5)\r\n * @name Moveable.Snappable#snapThreshold\r\n * @see {@link https://daybrush.com/moveable/release/latest/doc/Moveable.Snappable.html#.SnappableOptions}\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body);\r\n *\r\n * moveable.snapThreshold = 5;\r\n */\n/**\r\n * Add guidelines in the horizontal direction. (default: [])\r\n * @name Moveable.Snappable#horizontalGuidelines\r\n * @see {@link https://daybrush.com/moveable/release/latest/doc/Moveable.Snappable.html#.SnappableOptions}\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body);\r\n *\r\n * moveable.horizontalGuidelines = [100, 200, 500];\r\n */\n/**\r\n * Add guidelines in the vertical direction. (default: [])\r\n * @name Moveable.Snappable#verticalGuidelines\r\n * @see {@link https://daybrush.com/moveable/release/latest/doc/Moveable.Snappable.html#.SnappableOptions}\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body);\r\n *\r\n * moveable.verticalGuidelines = [100, 200, 500];\r\n */\n/**\r\n * Add guidelines for the element. (default: [])\r\n * @name Moveable.Snappable#elementGuidelines\r\n * @see {@link https://daybrush.com/moveable/release/latest/doc/Moveable.Snappable.html#.SnappableOptions}\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body);\r\n *\r\n * moveable.elementGuidelines = [\r\n *   document.querySelector(\".element\"),\r\n * ];\r\n */\n/**\r\n * You can set up boundaries.\r\n * @name Moveable.Snappable#bounds\r\n * @see {@link https://daybrush.com/moveable/release/latest/doc/Moveable.Snappable.html#.SnappableOptions}\r\n * @default null\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body);\r\n *\r\n * moveable.bounds = { left: 0, right: 1000, top: 0, bottom: 1000};\r\n */\n/**\r\n * You can set up inner boundaries.\r\n * @name Moveable.Snappable#innerBounds\r\n * @see {@link https://daybrush.com/moveable/release/latest/doc/Moveable.Snappable.html#.SnappableOptions}\r\n * @default null\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body);\r\n *\r\n * moveable.innerBounds = { left: 500, top: 500, width: 100, height: 100};\r\n */\n/**\r\n * snap distance digits (default: 0)\r\n * @name Moveable.Snappable#snapDigit\r\n * @see {@link https://daybrush.com/moveable/release/latest/doc/Moveable.Snappable.html#.SnappableOptions}\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body);\r\n *\r\n * moveable.snapDigit = 0\r\n */\n/**\r\n * If width size is greater than 0, you can vertical snap to the grid. (default: 0)\r\n * @name Moveable.Snappable#snapGridWidth\r\n * @see {@link https://daybrush.com/moveable/release/latest/doc/Moveable.Snappable.html#.SnappableOptions}\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body);\r\n *\r\n * moveable.snapGridWidth = 5;\r\n */\n/**\r\n * If height size is greater than 0, you can horizontal snap to the grid. (default: 0)\r\n * @name Moveable.Snappable#snapGridHeight\r\n * @see {@link https://daybrush.com/moveable/release/latest/doc/Moveable.Snappable.html#.SnappableOptions}\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body);\r\n *\r\n * moveable.snapGridHeight = 5;\r\n */\n/**\r\n * Whether to show snap distance (default: true)\r\n * @name Moveable.Snappable#isDisplaySnapDigit\r\n * @see {@link https://daybrush.com/moveable/release/latest/doc/Moveable.Snappable.html#.SnappableOptions}\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body);\r\n *\r\n * moveable.isDisplaySnapDigit = true;\r\n */\n/**\r\n * Whether to show element inner snap distance (default: false)\r\n * @name Moveable.Snappable#isDisplayInnerSnapDigit\r\n * @see {@link https://daybrush.com/moveable/release/latest/doc/Moveable.Snappable.html#.SnappableOptions}\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body);\r\n *\r\n * moveable.isDisplayInnerSnapDigit = true;\r\n */\n/**\r\n * You can set the text format of the distance shown in the guidelines. (default: self)\r\n * @name Moveable.Snappable#snapDistFormat\r\n * @see {@link https://daybrush.com/moveable/release/latest/doc/Moveable.Snappable.html#.SnappableOptions}\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body, {\r\n *  snappable: true,\r\n *  snapDistFormat: (v, type) => v,\r\n * });\r\n * moveable.snapDistFormat = (v, type) => `${v}px`;\r\n */\n/**\r\n * When you drag or dragControl, the `snap` event is called.\r\n * @memberof Moveable.Snappable\r\n * @event snap\r\n * @param {Moveable.Snappable.OnSnap} - Parameters for the `snap` event\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body, {\r\n *     snappable: true\r\n * });\r\n * moveable.on(\"snap\", e => {\r\n *     console.log(\"onSnap\", e);\r\n * });\r\n */\n\nfunction multiply2(pos1, pos2) {\n  return [\n  pos1[0] * pos2[0],\n  pos1[1] * pos2[1]];\n\n}\nfunction prefix() {\n  var classNames = [];\n  for (var _i = 0; _i < arguments.length; _i++) {\n    classNames[_i] = arguments[_i];\n  }\n  return prefixNames.apply(void 0, __spreadArray([PREFIX], __read(classNames), false));\n}\nfunction defaultSync(fn) {\n  fn();\n}\nfunction getTransformMatrix(transform) {\n  if (!transform || transform === \"none\") {\n    return [1, 0, 0, 1, 0, 0];\n  }\n  if (isObject(transform)) {\n    return transform;\n  }\n  return parseMat(transform);\n}\nfunction getAbsoluteMatrix(matrix, n, origin) {\n  return multiplies(n, createOriginMatrix(origin, n), matrix, createOriginMatrix(origin.map(function (a) {return -a;}), n));\n}\nfunction measureSVGSize(el, unit, isHorizontal) {\n  if (unit === \"%\") {\n    var viewBox = getSVGViewBox(el.ownerSVGElement);\n    return viewBox[isHorizontal ? \"width\" : \"height\"] / 100;\n  }\n  return 1;\n}\nfunction getBeforeTransformOrigin(el) {\n  var relativeOrigin = getTransformOrigin(getComputedStyle(el, \":before\"));\n  return relativeOrigin.map(function (o, i) {\n    var _a = splitUnit(o),value = _a.value,unit = _a.unit;\n    return value * measureSVGSize(el, unit, i === 0);\n  });\n}\nfunction getTransformOriginArray(transformOrigin) {\n  return transformOrigin ? transformOrigin.split(\" \") : [\"0\", \"0\"];\n}\nfunction getTransformOrigin(style) {\n  return getTransformOriginArray(style.transformOrigin);\n}\nfunction getElementTransform(target) {\n  var getStyle = getCachedStyle(target);\n  var computedTransform = getStyle(\"transform\");\n  if (computedTransform && computedTransform !== \"none\") {\n    return computedTransform;\n  }\n  if (\"transform\" in target) {\n    var list = target.transform;\n    var baseVal = list.baseVal;\n    if (!baseVal) {\n      return \"\";\n    }\n    var length_1 = baseVal.length;\n    if (!length_1) {\n      return \"\";\n    }\n    var matrixes = [];\n    var _loop_1 = function (i) {\n      var matrix = baseVal[i].matrix;\n      matrixes.push(\"matrix(\".concat([\"a\", \"b\", \"c\", \"d\", \"e\", \"f\"].map(function (chr) {return matrix[chr];}).join(\", \"), \")\"));\n    };\n    for (var i = 0; i < length_1; ++i) {\n      _loop_1(i);\n    }\n    return matrixes.join(\" \");\n  }\n  return \"\";\n}\nfunction getOffsetInfo(el, lastParent, isParent, checkZoom, getTargetStyle) {\n  var _a, _b;\n  var documentElement = getDocumentElement(el) || getDocumentBody(el);\n  var hasSlot = false;\n  var target;\n  var parentSlotElement;\n  if (!el || isParent) {\n    target = el;\n  } else\n  {\n    var assignedSlotParentElement = (_a = el === null || el === void 0 ? void 0 : el.assignedSlot) === null || _a === void 0 ? void 0 : _a.parentElement;\n    var parentElement = el.parentElement;\n    if (assignedSlotParentElement) {\n      hasSlot = true;\n      parentSlotElement = parentElement;\n      target = assignedSlotParentElement;\n    } else\n    {\n      target = parentElement;\n    }\n  }\n  var isCustomElement = false;\n  var isEnd = el === lastParent || target === lastParent;\n  var position = \"relative\";\n  var offsetZoom = 1;\n  var targetZoom = parseFloat(getTargetStyle === null || getTargetStyle === void 0 ? void 0 : getTargetStyle(\"zoom\")) || 1;\n  var targetPosition = getTargetStyle === null || getTargetStyle === void 0 ? void 0 : getTargetStyle(\"position\");\n  while (target && target !== documentElement) {\n    if (lastParent === target) {\n      isEnd = true;\n    }\n    var getStyle = getCachedStyle(target);\n    var tagName = target.tagName.toLowerCase();\n    var transform = getElementTransform(target);\n    var willChange = getStyle(\"willChange\");\n    var zoom = parseFloat(getStyle(\"zoom\")) || 1;\n    position = getStyle(\"position\");\n    if (checkZoom && zoom !== 1) {\n      offsetZoom = zoom;\n      break;\n    }\n    if (\n    // offsetParent is the parentElement if the target's zoom is not 1 and not absolute.\n    !isParent && checkZoom && targetZoom !== 1 && targetPosition && targetPosition !== \"absolute\" ||\n    tagName === \"svg\" ||\n    tagName === \"foreignobject\" ||\n    position !== \"static\" ||\n    transform && transform !== \"none\" ||\n    willChange === \"transform\") {\n      break;\n    }\n    var slotParentNode = (_b = el === null || el === void 0 ? void 0 : el.assignedSlot) === null || _b === void 0 ? void 0 : _b.parentNode;\n    var targetParentNode = target.parentNode;\n    if (slotParentNode) {\n      hasSlot = true;\n      parentSlotElement = targetParentNode;\n    }\n    var parentNode = targetParentNode;\n    if (parentNode && parentNode.nodeType === 11) {\n      // Shadow Root\n      target = parentNode.host;\n      isCustomElement = true;\n      position = getCachedStyle(target)(\"position\");\n      break;\n    }\n    target = parentNode;\n    position = \"relative\";\n  }\n  return {\n    offsetZoom: offsetZoom,\n    hasSlot: hasSlot,\n    parentSlotElement: parentSlotElement,\n    isCustomElement: isCustomElement,\n    isStatic: position === \"static\",\n    isEnd: isEnd || !target || target === documentElement,\n    offsetParent: target || documentElement\n  };\n}\nfunction getOffsetPosInfo(el, target) {\n  var _a;\n  var tagName = el.tagName.toLowerCase();\n  var offsetLeft = el.offsetLeft;\n  var offsetTop = el.offsetTop;\n  var getStyle = getCachedStyle(el);\n  // svg\n  var isSVG = isUndefined(offsetLeft);\n  var hasOffset = !isSVG;\n  var origin;\n  var targetOrigin;\n  // inner svg element\n  if (!hasOffset && (tagName !== \"svg\" || el.ownerSVGElement)) {\n    origin = IS_WEBKIT605 ?\n    getBeforeTransformOrigin(el) :\n    getTransformOriginArray(getStyle(\"transformOrigin\")).map(function (pos) {return parseFloat(pos);});\n    targetOrigin = origin.slice();\n    hasOffset = true;\n    if (tagName === \"svg\") {\n      offsetLeft = 0;\n      offsetTop = 0;\n    } else\n    {\n      _a = __read(getSVGGraphicsOffset(el, origin, el === target && target.tagName.toLowerCase() === \"g\"), 4), offsetLeft = _a[0], offsetTop = _a[1], origin[0] = _a[2], origin[1] = _a[3];\n    }\n  } else\n  {\n    origin = getTransformOriginArray(getStyle(\"transformOrigin\")).map(function (pos) {return parseFloat(pos);});\n    targetOrigin = origin.slice();\n    // console.log(getStyle(\"transformOrigin\"), targetOrigin);\n  }\n  return {\n    tagName: tagName,\n    isSVG: isSVG,\n    hasOffset: hasOffset,\n    offset: [offsetLeft || 0, offsetTop || 0],\n    origin: origin,\n    targetOrigin: targetOrigin\n  };\n}\nfunction getBodyOffset(el, isSVG) {\n  var getStyle = getCachedStyle(el);\n  var getBodyStyle = getCachedStyle(getDocumentBody(el));\n  var bodyPosition = getBodyStyle(\"position\");\n  if (!isSVG && (!bodyPosition || bodyPosition === \"static\")) {\n    return [0, 0];\n  }\n  var marginLeft = parseInt(getBodyStyle(\"marginLeft\"), 10);\n  var marginTop = parseInt(getBodyStyle(\"marginTop\"), 10);\n  if (getStyle(\"position\") === \"absolute\") {\n    if (getStyle(\"top\") !== \"auto\" || getStyle(\"bottom\") !== \"auto\") {\n      marginTop = 0;\n    }\n    if (getStyle(\"left\") !== \"auto\" || getStyle(\"right\") !== \"auto\") {\n      marginLeft = 0;\n    }\n  }\n  return [marginLeft, marginTop];\n}\nfunction convert3DMatrixes(matrixes) {\n  matrixes.forEach(function (info) {\n    var matrix = info.matrix;\n    if (matrix) {\n      info.matrix = convertDimension(matrix, 3, 4);\n    }\n  });\n}\nfunction getPositionFixedInfo(el) {\n  var fixedContainer = el.parentElement;\n  var hasTransform = false;\n  var body = getDocumentBody(el);\n  while (fixedContainer) {\n    var transform = getComputedStyle(fixedContainer).transform;\n    if (transform && transform !== \"none\") {\n      hasTransform = true;\n      break;\n    }\n    if (fixedContainer === body) {\n      break;\n    }\n    fixedContainer = fixedContainer.parentElement;\n  }\n  return {\n    fixedContainer: fixedContainer || body,\n    hasTransform: hasTransform\n  };\n}\nfunction makeMatrixCSS(matrix, is3d) {\n  if (is3d === void 0) {is3d = matrix.length > 9;}\n  return \"\".concat(is3d ? \"matrix3d\" : \"matrix\", \"(\").concat(convertMatrixtoCSS(matrix, !is3d).join(\",\"), \")\");\n}\nfunction getSVGViewBox(el) {\n  var clientWidth = el.clientWidth;\n  var clientHeight = el.clientHeight;\n  if (!el) {\n    return { x: 0, y: 0, width: 0, height: 0, clientWidth: clientWidth, clientHeight: clientHeight };\n  }\n  var viewBox = el.viewBox;\n  var baseVal = viewBox && viewBox.baseVal || { x: 0, y: 0, width: 0, height: 0 };\n  return {\n    x: baseVal.x,\n    y: baseVal.y,\n    width: baseVal.width || clientWidth,\n    height: baseVal.height || clientHeight,\n    clientWidth: clientWidth,\n    clientHeight: clientHeight\n  };\n}\nfunction getSVGMatrix(el, n) {\n  var _a;\n  var _b = getSVGViewBox(el),viewBoxWidth = _b.width,viewBoxHeight = _b.height,clientWidth = _b.clientWidth,clientHeight = _b.clientHeight;\n  var scaleX = clientWidth / viewBoxWidth;\n  var scaleY = clientHeight / viewBoxHeight;\n  var preserveAspectRatio = el.preserveAspectRatio.baseVal;\n  // https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/preserveAspectRatio\n  var align = preserveAspectRatio.align;\n  // 1 : meet 2: slice\n  var meetOrSlice = preserveAspectRatio.meetOrSlice;\n  var svgOrigin = [0, 0];\n  var scale = [scaleX, scaleY];\n  var translate = [0, 0];\n  if (align !== 1) {\n    var xAlign = (align - 2) % 3;\n    var yAlign = Math.floor((align - 2) / 3);\n    svgOrigin[0] = viewBoxWidth * xAlign / 2;\n    svgOrigin[1] = viewBoxHeight * yAlign / 2;\n    var scaleDimension = meetOrSlice === 2 ? Math.max(scaleY, scaleX) : Math.min(scaleX, scaleY);\n    scale[0] = scaleDimension;\n    scale[1] = scaleDimension;\n    translate[0] = (clientWidth - viewBoxWidth) / 2 * xAlign;\n    translate[1] = (clientHeight - viewBoxHeight) / 2 * yAlign;\n  }\n  var scaleMatrix = createScaleMatrix(scale, n);\n  _a = __read(translate, 2), scaleMatrix[n * (n - 1)] = _a[0], scaleMatrix[n * (n - 1) + 1] = _a[1];\n  return getAbsoluteMatrix(scaleMatrix, n, svgOrigin);\n}\nfunction getSVGGraphicsOffset(el, origin, isGTarget) {\n  var tagName = el.tagName.toLowerCase();\n  if (!el.getBBox || !isGTarget && tagName === \"g\") {\n    return [0, 0, 0, 0];\n  }\n  var getStyle = getCachedStyle(el);\n  var isFillBox = getStyle(\"transform-box\") === \"fill-box\";\n  var bbox = el.getBBox();\n  var viewBox = getSVGViewBox(el.ownerSVGElement);\n  var x = bbox.x;\n  var y = bbox.y;\n  // x, y\uAC00 0\uC73C\uB85C \uB098\uD0C0\uB098\uB294 \uBC84\uADF8\n  if (tagName === \"foreignobject\" && !x && !y) {\n    x = parseFloat(el.getAttribute(\"x\")) || 0;\n    y = parseFloat(el.getAttribute(\"y\")) || 0;\n  }\n  var left = x - viewBox.x;\n  var top = y - viewBox.y;\n  var originX = isFillBox ? origin[0] : origin[0] - left;\n  var originY = isFillBox ? origin[1] : origin[1] - top;\n  // if (isFillBox) {\n  //     const bbox = (el as SVGGraphicsElement).getBBox();\n  //     const x = parseFloat(getStyle(\"x\")) || bbox.x;\n  //     const y = parseFloat(getStyle(\"y\")) || bbox.y;\n  //     const xScale = bbox.x / x;\n  //     const yScale = bbox.y / y;\n  //     console.log(x, y);\n  //     originX *= xScale;\n  //     originY *= yScale;\n  // }\n  return [left, top, originX, originY];\n}\nfunction calculatePosition(matrix, pos, n) {\n  return calculate(matrix, convertPositionMatrix(pos, n), n);\n}\nfunction calculatePoses(matrix, width, height, n) {\n  return [[0, 0], [width, 0], [0, height], [width, height]].map(function (pos) {return calculatePosition(matrix, pos, n);});\n}\nfunction getRect(poses) {\n  var posesX = poses.map(function (pos) {return pos[0];});\n  var posesY = poses.map(function (pos) {return pos[1];});\n  var left = Math.min.apply(Math, __spreadArray([], __read(posesX), false));\n  var top = Math.min.apply(Math, __spreadArray([], __read(posesY), false));\n  var right = Math.max.apply(Math, __spreadArray([], __read(posesX), false));\n  var bottom = Math.max.apply(Math, __spreadArray([], __read(posesY), false));\n  var rectWidth = right - left;\n  var rectHeight = bottom - top;\n  return {\n    left: left,\n    top: top,\n    right: right,\n    bottom: bottom,\n    width: rectWidth,\n    height: rectHeight\n  };\n}\nfunction calculateRect(matrix, width, height, n) {\n  var poses = calculatePoses(matrix, width, height, n);\n  return getRect(poses);\n}\nfunction getSVGOffset(offsetInfo, targetInfo, container, n, beforeMatrix) {\n  var _a;\n  var target = offsetInfo.target;\n  var origin = offsetInfo.origin;\n  var targetMatrix = targetInfo.matrix;\n  var _b = getSize(target),width = _b.offsetWidth,height = _b.offsetHeight;\n  var containerClientRect = container.getBoundingClientRect();\n  var margin = [0, 0];\n  if (container === getDocumentBody(container)) {\n    margin = getBodyOffset(target, true);\n  }\n  var rect = target.getBoundingClientRect();\n  var rectLeft = rect.left - containerClientRect.left + container.scrollLeft - (\n  container.clientLeft || 0) + margin[0];\n  var rectTop = rect.top - containerClientRect.top + container.scrollTop - (\n  container.clientTop || 0) + margin[1];\n  var rectWidth = rect.width;\n  var rectHeight = rect.height;\n  var mat = multiplies(n, beforeMatrix, targetMatrix);\n  var _c = calculateRect(mat, width, height, n),prevLeft = _c.left,prevTop = _c.top,prevWidth = _c.width,prevHeight = _c.height;\n  var posOrigin = calculatePosition(mat, origin, n);\n  var prevOrigin = minus(posOrigin, [prevLeft, prevTop]);\n  var rectOrigin = [\n  rectLeft + prevOrigin[0] * rectWidth / prevWidth,\n  rectTop + prevOrigin[1] * rectHeight / prevHeight];\n\n  var offset = [0, 0];\n  var count = 0;\n  while (++count < 10) {\n    var inverseBeforeMatrix = invert(beforeMatrix, n);\n    _a = __read(minus(calculatePosition(inverseBeforeMatrix, rectOrigin, n), calculatePosition(inverseBeforeMatrix, posOrigin, n)), 2), offset[0] = _a[0], offset[1] = _a[1];\n    var mat2 = multiplies(n, beforeMatrix, createOriginMatrix(offset, n), targetMatrix);\n    var _d = calculateRect(mat2, width, height, n),nextLeft = _d.left,nextTop = _d.top;\n    var distLeft = nextLeft - rectLeft;\n    var distTop = nextTop - rectTop;\n    if (abs(distLeft) < 2 && abs(distTop) < 2) {\n      break;\n    }\n    rectOrigin[0] -= distLeft;\n    rectOrigin[1] -= distTop;\n  }\n  return offset.map(function (p) {return Math.round(p);});\n}\nfunction calculateMoveableClientPositions(rootMatrix, poses, rootClientRect) {\n  var is3d = rootMatrix.length === 16;\n  var n = is3d ? 4 : 3;\n  var rootPoses = poses.map(function (pos) {return calculatePosition(rootMatrix, pos, n);});\n  var left = rootClientRect.left,top = rootClientRect.top;\n  return rootPoses.map(function (pos) {\n    return [pos[0] + left, pos[1] + top];\n  });\n}\nfunction getDistSize(vec) {\n  return Math.sqrt(vec[0] * vec[0] + vec[1] * vec[1]);\n}\nfunction getDiagonalSize(pos1, pos2) {\n  return getDistSize([\n  pos2[0] - pos1[0],\n  pos2[1] - pos1[1]]\n  );\n}\nfunction getLineStyle(pos1, pos2, zoom, rad) {\n  if (zoom === void 0) {zoom = 1;}\n  if (rad === void 0) {rad = getRad(pos1, pos2);}\n  var width = getDiagonalSize(pos1, pos2);\n  return {\n    transform: \"translateY(-50%) translate(\".concat(pos1[0], \"px, \").concat(pos1[1], \"px) rotate(\").concat(rad, \"rad) scaleY(\").concat(zoom, \")\"),\n    width: \"\".concat(width, \"px\")\n  };\n}\nfunction getControlTransform(rotation, zoom) {\n  var poses = [];\n  for (var _i = 2; _i < arguments.length; _i++) {\n    poses[_i - 2] = arguments[_i];\n  }\n  var length = poses.length;\n  var x = poses.reduce(function (prev, pos) {return prev + pos[0];}, 0) / length;\n  var y = poses.reduce(function (prev, pos) {return prev + pos[1];}, 0) / length;\n  return {\n    transform: \"translateZ(0px) translate(\".concat(x, \"px, \").concat(y, \"px) rotate(\").concat(rotation, \"rad) scale(\").concat(zoom, \")\")\n  };\n}\nfunction getProps(props, ableName) {\n  var self = props[ableName];\n  if (isObject(self)) {\n    return __assign(__assign({}, props), self);\n  }\n  return props;\n}\nfunction getSize(target) {\n  var hasOffset = target && !isUndefined(target.offsetWidth);\n  var offsetWidth = 0;\n  var offsetHeight = 0;\n  var clientWidth = 0;\n  var clientHeight = 0;\n  var cssWidth = 0;\n  var cssHeight = 0;\n  var contentWidth = 0;\n  var contentHeight = 0;\n  var minWidth = 0;\n  var minHeight = 0;\n  var minOffsetWidth = 0;\n  var minOffsetHeight = 0;\n  var maxWidth = Infinity;\n  var maxHeight = Infinity;\n  var maxOffsetWidth = Infinity;\n  var maxOffsetHeight = Infinity;\n  var inlineCSSWidth = 0;\n  var inlineCSSHeight = 0;\n  var svg = false;\n  if (target) {\n    if (!hasOffset && target.ownerSVGElement) {\n      // check svg elements\n      var bbox = target.getBBox();\n      svg = true;\n      offsetWidth = bbox.width;\n      offsetHeight = bbox.height;\n      cssWidth = offsetWidth;\n      cssHeight = offsetHeight;\n      contentWidth = offsetWidth;\n      contentHeight = offsetHeight;\n      clientWidth = offsetWidth;\n      clientHeight = offsetHeight;\n    } else\n    {\n      // check html elements\n      var getStyle = getCachedStyle(target);\n      var targetStyle = target.style;\n      var boxSizing = getStyle(\"boxSizing\") === \"border-box\";\n      var borderLeft = parseFloat(getStyle(\"borderLeftWidth\")) || 0;\n      var borderRight = parseFloat(getStyle(\"borderRightWidth\")) || 0;\n      var borderTop = parseFloat(getStyle(\"borderTopWidth\")) || 0;\n      var borderBottom = parseFloat(getStyle(\"borderBottomWidth\")) || 0;\n      var paddingLeft = parseFloat(getStyle(\"paddingLeft\")) || 0;\n      var paddingRight = parseFloat(getStyle(\"paddingRight\")) || 0;\n      var paddingTop = parseFloat(getStyle(\"paddingTop\")) || 0;\n      var paddingBottom = parseFloat(getStyle(\"paddingBottom\")) || 0;\n      var horizontalPadding = paddingLeft + paddingRight;\n      var verticalPadding = paddingTop + paddingBottom;\n      var horizontalBorder = borderLeft + borderRight;\n      var verticalBorder = borderTop + borderBottom;\n      var horizontalOffset = horizontalPadding + horizontalBorder;\n      var verticalOffset = verticalPadding + verticalBorder;\n      var position = getStyle(\"position\");\n      var containerWidth = 0;\n      var containerHeight = 0;\n      // SVGSVGElement, HTMLElement\n      if (\"clientLeft\" in target) {\n        var parentElement = null;\n        if (position === \"absolute\") {\n          var offsetInfo = getOffsetInfo(target, getDocumentBody(target));\n          parentElement = offsetInfo.offsetParent;\n        } else\n        {\n          parentElement = target.parentElement;\n        }\n        if (parentElement) {\n          var getParentStyle = getCachedStyle(parentElement);\n          containerWidth = parseFloat(getParentStyle(\"width\"));\n          containerHeight = parseFloat(getParentStyle(\"height\"));\n        }\n      }\n      minWidth = Math.max(horizontalPadding, convertUnitSize(getStyle(\"minWidth\"), containerWidth) || 0);\n      minHeight = Math.max(verticalPadding, convertUnitSize(getStyle(\"minHeight\"), containerHeight) || 0);\n      maxWidth = convertUnitSize(getStyle(\"maxWidth\"), containerWidth);\n      maxHeight = convertUnitSize(getStyle(\"maxHeight\"), containerHeight);\n      if (isNaN(maxWidth)) {\n        maxWidth = Infinity;\n      }\n      if (isNaN(maxHeight)) {\n        maxHeight = Infinity;\n      }\n      inlineCSSWidth = convertUnitSize(targetStyle.width, 0) || 0;\n      inlineCSSHeight = convertUnitSize(targetStyle.height, 0) || 0;\n      cssWidth = parseFloat(getStyle(\"width\")) || 0;\n      cssHeight = parseFloat(getStyle(\"height\")) || 0;\n      contentWidth = abs(cssWidth - inlineCSSWidth) < 1 ?\n      between(minWidth, inlineCSSWidth || cssWidth, maxWidth) :\n      cssWidth;\n      contentHeight = abs(cssHeight - inlineCSSHeight) < 1 ?\n      between(minHeight, inlineCSSHeight || cssHeight, maxHeight) :\n      cssHeight;\n      offsetWidth = contentWidth;\n      offsetHeight = contentHeight;\n      clientWidth = contentWidth;\n      clientHeight = contentHeight;\n      if (boxSizing) {\n        maxOffsetWidth = maxWidth;\n        maxOffsetHeight = maxHeight;\n        minOffsetWidth = minWidth;\n        minOffsetHeight = minHeight;\n        contentWidth = offsetWidth - horizontalOffset;\n        contentHeight = offsetHeight - verticalOffset;\n      } else\n      {\n        maxOffsetWidth = maxWidth + horizontalOffset;\n        maxOffsetHeight = maxHeight + verticalOffset;\n        minOffsetWidth = minWidth + horizontalOffset;\n        minOffsetHeight = minHeight + verticalOffset;\n        offsetWidth = contentWidth + horizontalOffset;\n        offsetHeight = contentHeight + verticalOffset;\n      }\n      clientWidth = contentWidth + horizontalPadding;\n      clientHeight = contentHeight + verticalPadding;\n    }\n  }\n  return {\n    svg: svg,\n    offsetWidth: offsetWidth,\n    offsetHeight: offsetHeight,\n    clientWidth: clientWidth,\n    clientHeight: clientHeight,\n    contentWidth: contentWidth,\n    contentHeight: contentHeight,\n    inlineCSSWidth: inlineCSSWidth,\n    inlineCSSHeight: inlineCSSHeight,\n    cssWidth: cssWidth,\n    cssHeight: cssHeight,\n    minWidth: minWidth,\n    minHeight: minHeight,\n    maxWidth: maxWidth,\n    maxHeight: maxHeight,\n    minOffsetWidth: minOffsetWidth,\n    minOffsetHeight: minOffsetHeight,\n    maxOffsetWidth: maxOffsetWidth,\n    maxOffsetHeight: maxOffsetHeight\n  };\n}\nfunction getRotationRad(poses, direction) {\n  return getRad(direction > 0 ? poses[0] : poses[1], direction > 0 ? poses[1] : poses[0]);\n}\nfunction resetClientRect() {\n  return {\n    left: 0, top: 0,\n    width: 0, height: 0,\n    right: 0,\n    bottom: 0,\n    clientLeft: 0, clientTop: 0,\n    clientWidth: 0, clientHeight: 0,\n    scrollWidth: 0, scrollHeight: 0\n  };\n}\nfunction getExtendsRect(el, rect) {\n  var isRoot = el === getDocumentBody(el) || el === getDocumentElement(el);\n  var extendsRect = {\n    clientLeft: el.clientLeft,\n    clientTop: el.clientTop,\n    clientWidth: el.clientWidth,\n    clientHeight: el.clientHeight,\n    scrollWidth: el.scrollWidth,\n    scrollHeight: el.scrollHeight,\n    overflow: false\n  };\n  if (isRoot) {\n    extendsRect.clientHeight = Math.max(rect.height, extendsRect.clientHeight);\n    extendsRect.scrollHeight = Math.max(rect.height, extendsRect.scrollHeight);\n  }\n  extendsRect.overflow = getCachedStyle(el)(\"overflow\") !== \"visible\";\n  return __assign(__assign({}, rect), extendsRect);\n}\nfunction getClientRectByPosition(position, base, el, isExtends) {\n  var left = position.left,right = position.right,top = position.top,bottom = position.bottom;\n  var baseTop = base.top;\n  var baseLeft = base.left;\n  var rect = {\n    left: baseLeft + left,\n    top: baseTop + top,\n    right: baseLeft + right,\n    bottom: baseTop + bottom,\n    width: right - left,\n    height: bottom - top\n  };\n  if (el && isExtends) {\n    return getExtendsRect(el, rect);\n  }\n  return rect;\n}\nfunction getClientRect(el, isExtends) {\n  var left = 0;\n  var top = 0;\n  var width = 0;\n  var height = 0;\n  // let isRoot = false;\n  if (el) {\n    var clientRect = el.getBoundingClientRect();\n    left = clientRect.left;\n    top = clientRect.top;\n    width = clientRect.width;\n    height = clientRect.height;\n  }\n  var rect = {\n    left: left,\n    top: top,\n    width: width,\n    height: height,\n    right: left + width,\n    bottom: top + height\n  };\n  if (el && isExtends) {\n    return getExtendsRect(el, rect);\n  }\n  return rect;\n}\nfunction getTotalOrigin(moveable) {\n  var _a = moveable.props,groupable = _a.groupable,svgOrigin = _a.svgOrigin;\n  var _b = moveable.getState(),offsetWidth = _b.offsetWidth,offsetHeight = _b.offsetHeight,svg = _b.svg,transformOrigin = _b.transformOrigin;\n  if (!groupable && svg && svgOrigin) {\n    return convertTransformOriginArray(svgOrigin, offsetWidth, offsetHeight);\n  }\n  return transformOrigin;\n}\nfunction getTotalDirection(parentDirection, isPinch, inputEvent, datas) {\n  var direction;\n  if (parentDirection) {\n    direction = parentDirection;\n  } else\n  if (isPinch) {\n    direction = [0, 0];\n  } else\n  {\n    var target = inputEvent.target;\n    direction = getDirection(target, datas);\n  }\n  return direction;\n}\nfunction getDirection(target, datas) {\n  if (!target) {\n    return;\n  }\n  var deg = target.getAttribute(\"data-rotation\") || \"\";\n  var direciton = target.getAttribute(\"data-direction\");\n  datas.deg = deg;\n  if (!direciton) {\n    return;\n  }\n  var dir = [0, 0];\n  direciton.indexOf(\"w\") > -1 && (dir[0] = -1);\n  direciton.indexOf(\"e\") > -1 && (dir[0] = 1);\n  direciton.indexOf(\"n\") > -1 && (dir[1] = -1);\n  direciton.indexOf(\"s\") > -1 && (dir[1] = 1);\n  return dir;\n}\nfunction getAbsolutePoses(poses, dist) {\n  return [\n  plus(dist, poses[0]),\n  plus(dist, poses[1]),\n  plus(dist, poses[2]),\n  plus(dist, poses[3])];\n\n}\nfunction getAbsolutePosesByState(_a) {\n  var left = _a.left,top = _a.top,pos1 = _a.pos1,pos2 = _a.pos2,pos3 = _a.pos3,pos4 = _a.pos4;\n  return getAbsolutePoses([pos1, pos2, pos3, pos4], [left, top]);\n}\nfunction unsetAbles(self, isControl) {\n  self[isControl ? \"controlAbles\" : \"targetAbles\"].forEach(function (able) {\n    able.unset && able.unset(self);\n  });\n}\nfunction unsetGesto(self, isControl) {\n  var gestoName = isControl ? \"controlGesto\" : \"targetGesto\";\n  var gesto = self[gestoName];\n  if ((gesto === null || gesto === void 0 ? void 0 : gesto.isIdle()) === false) {\n    unsetAbles(self, isControl);\n  }\n  gesto === null || gesto === void 0 ? void 0 : gesto.unset();\n  self[gestoName] = null;\n}\nfunction fillCSSObject(style, resolvedEvent) {\n  if (resolvedEvent) {\n    var originalDatas = getBeforeRenderableDatas(resolvedEvent);\n    originalDatas.nextStyle = __assign(__assign({}, originalDatas.nextStyle), style);\n  }\n  return {\n    style: style,\n    cssText: getKeys(style).map(function (name) {return \"\".concat(decamelize(name, \"-\"), \": \").concat(style[name], \";\");}).join(\"\")\n  };\n}\nfunction fillAfterTransform(prevEvent, nextEvent, resolvedEvent) {\n  var afterTransform = nextEvent.afterTransform || nextEvent.transform;\n  return __assign(__assign({}, fillCSSObject(__assign(__assign(__assign({}, prevEvent.style), nextEvent.style), { transform: afterTransform }), resolvedEvent)), { afterTransform: afterTransform, transform: prevEvent.transform });\n}\nfunction fillParams(moveable, e, params, isBeforeEvent) {\n  var datas = e.datas;\n  if (!datas.datas) {\n    datas.datas = {};\n  }\n  var nextParams = __assign(__assign({}, params), { target: moveable.state.target, clientX: e.clientX, clientY: e.clientY, inputEvent: e.inputEvent, currentTarget: moveable, moveable: moveable, datas: datas.datas, isRequest: e.isRequest, isRequestChild: e.isRequestChild, isFirstDrag: !!e.isFirstDrag, isTrusted: e.isTrusted !== false, stopAble: function () {\n      datas.isEventStart = false;\n    }, stopDrag: function () {\n      var _a;\n      (_a = e.stop) === null || _a === void 0 ? void 0 : _a.call(e);\n    } });\n  if (!datas.isStartEvent) {\n    datas.isStartEvent = true;\n  } else\n  if (!isBeforeEvent) {\n    datas.lastEvent = nextParams;\n  }\n  return nextParams;\n}\nfunction fillEndParams(moveable, e, params) {\n  var datas = e.datas;\n  var isDrag = \"isDrag\" in params ? params.isDrag : e.isDrag;\n  if (!datas.datas) {\n    datas.datas = {};\n  }\n  return __assign(__assign({ isDrag: isDrag }, params), { moveable: moveable, target: moveable.state.target, clientX: e.clientX, clientY: e.clientY, inputEvent: e.inputEvent, currentTarget: moveable, lastEvent: datas.lastEvent, isDouble: e.isDouble, datas: datas.datas, isFirstDrag: !!e.isFirstDrag });\n}\nfunction catchEvent(moveable, name, callback) {\n  moveable._emitter.on(name, callback);\n}\nfunction triggerEvent(moveable, name, params, isManager, isRequest) {\n  return moveable.triggerEvent(name, params, isManager, isRequest);\n}\nfunction getComputedStyle(el, pseudoElt) {\n  return getWindow(el).getComputedStyle(el, pseudoElt);\n}\nfunction filterAbles(ables, methods, triggerAblesSimultaneously) {\n  var enabledAbles = {};\n  var ableGroups = {};\n  return ables.filter(function (able) {\n    var name = able.name;\n    if (enabledAbles[name] || !methods.some(function (method) {return able[method];})) {\n      return false;\n    }\n    if (!triggerAblesSimultaneously && able.ableGroup) {\n      if (ableGroups[able.ableGroup]) {\n        return false;\n      }\n      ableGroups[able.ableGroup] = true;\n    }\n    enabledAbles[name] = true;\n    return true;\n  });\n}\nfunction equals(a1, a2) {\n  return a1 === a2 || a1 == null && a2 == null;\n}\nfunction selectValue() {\n  var values = [];\n  for (var _i = 0; _i < arguments.length; _i++) {\n    values[_i] = arguments[_i];\n  }\n  var length = values.length - 1;\n  for (var i = 0; i < length; ++i) {\n    var value = values[i];\n    if (!isUndefined(value)) {\n      return value;\n    }\n  }\n  return values[length];\n}\nfunction groupBy(arr, func) {\n  var groups = [];\n  var groupKeys = [];\n  arr.forEach(function (el, index) {\n    var groupKey = func(el, index, arr);\n    var keyIndex = groupKeys.indexOf(groupKey);\n    var group = groups[keyIndex] || [];\n    if (keyIndex === -1) {\n      groupKeys.push(groupKey);\n      groups.push(group);\n    }\n    group.push(el);\n  });\n  return groups;\n}\nfunction groupByMap(arr, func) {\n  var groups = [];\n  var groupKeys = {};\n  arr.forEach(function (el, index) {\n    var groupKey = func(el, index, arr);\n    var group = groupKeys[groupKey];\n    if (!group) {\n      group = [];\n      groupKeys[groupKey] = group;\n      groups.push(group);\n    }\n    group.push(el);\n  });\n  return groups;\n}\nfunction flat(arr) {\n  return arr.reduce(function (prev, cur) {\n    return prev.concat(cur);\n  }, []);\n}\nfunction maxOffset() {\n  var args = [];\n  for (var _i = 0; _i < arguments.length; _i++) {\n    args[_i] = arguments[_i];\n  }\n  args.sort(function (a, b) {return abs(b) - abs(a);});\n  return args[0];\n}\nfunction calculateInversePosition(matrix, pos, n) {\n  return calculate(invert(matrix, n), convertPositionMatrix(pos, n), n);\n}\nfunction convertDragDist(state, e) {\n  var _a;\n  var is3d = state.is3d,rootMatrix = state.rootMatrix;\n  var n = is3d ? 4 : 3;\n  _a = __read(calculateInversePosition(rootMatrix, [e.distX, e.distY], n), 2), e.distX = _a[0], e.distY = _a[1];\n  return e;\n}\nfunction calculatePadding(matrix, pos, added, n) {\n  if (!added[0] && !added[1]) {\n    return pos;\n  }\n  var xAdded = calculatePosition(matrix, [normalized(added[0] || 1), 0], n);\n  var yAdded = calculatePosition(matrix, [0, normalized(added[1] || 1)], n);\n  var nextAdded = calculatePosition(matrix, [\n  added[0] / getDistSize(xAdded),\n  added[1] / getDistSize(yAdded)],\n  n);\n  return plus(pos, nextAdded);\n}\nfunction convertCSSSize(value, size, isRelative) {\n  return isRelative ? \"\".concat(value / size * 100, \"%\") : \"\".concat(value, \"px\");\n}\nfunction getTinyDist(v) {\n  return abs(v) <= TINY_NUM ? 0 : v;\n}\nfunction getDirectionViewClassName(ableName) {\n  return function (moveable) {\n    if (!moveable.isDragging(ableName)) {\n      return \"\";\n    }\n    var data = getGestoData(moveable, ableName);\n    var deg = data.deg;\n    if (!deg) {\n      return \"\";\n    }\n    return prefix(\"view-control-rotation\".concat(deg));\n  };\n}\nfunction getDirectionCondition(ableName, checkAbles) {\n  if (checkAbles === void 0) {checkAbles = [ableName];}\n  return function (moveable, e) {\n    if (e.isRequest) {\n      if (checkAbles.some(function (name) {return e.requestAble === name;})) {\n        return e.parentDirection;\n      } else\n      {\n        return false;\n      }\n    }\n    var target = e.inputEvent.target;\n    return hasClass(target, prefix(\"direction\")) && (!ableName || hasClass(target, prefix(ableName)));\n  };\n}\nfunction convertTransformInfo(transforms, state, index) {\n  var _a;\n  var matrixInfos = parse(transforms, {\n    \"x%\": function (v) {return v / 100 * state.offsetWidth;},\n    \"y%\": function (v) {return v / 100 * state.offsetHeight;}\n  });\n  var beforeFunctionTexts = transforms.slice(0, index < 0 ? undefined : index);\n  var beforeFunctionTexts2 = transforms.slice(0, index < 0 ? undefined : index + 1);\n  var targetFunctionText = transforms[index] || \"\";\n  var afterFunctionTexts = index < 0 ? [] : transforms.slice(index);\n  var afterFunctionTexts2 = index < 0 ? [] : transforms.slice(index + 1);\n  var beforeFunctions = matrixInfos.slice(0, index < 0 ? undefined : index);\n  var beforeFunctions2 = matrixInfos.slice(0, index < 0 ? undefined : index + 1);\n  var targetFunction = (_a = matrixInfos[index]) !== null && _a !== void 0 ? _a : parse([\"\"])[0];\n  var afterFunctions = index < 0 ? [] : matrixInfos.slice(index);\n  var afterFunctions2 = index < 0 ? [] : matrixInfos.slice(index + 1);\n  var targetFunctions = targetFunction ? [targetFunction] : [];\n  var beforeFunctionMatrix = toMat(beforeFunctions);\n  var beforeFunctionMatrix2 = toMat(beforeFunctions2);\n  var afterFunctionMatrix = toMat(afterFunctions);\n  var afterFunctionMatrix2 = toMat(afterFunctions2);\n  var allFunctionMatrix = multiply(beforeFunctionMatrix, afterFunctionMatrix, 4);\n  return {\n    transforms: transforms,\n    beforeFunctionMatrix: beforeFunctionMatrix,\n    beforeFunctionMatrix2: beforeFunctionMatrix2,\n    targetFunctionMatrix: toMat(targetFunctions),\n    afterFunctionMatrix: afterFunctionMatrix,\n    afterFunctionMatrix2: afterFunctionMatrix2,\n    allFunctionMatrix: allFunctionMatrix,\n    beforeFunctions: beforeFunctions,\n    beforeFunctions2: beforeFunctions2,\n    targetFunction: targetFunctions[0],\n    afterFunctions: afterFunctions,\n    afterFunctions2: afterFunctions2,\n    beforeFunctionTexts: beforeFunctionTexts,\n    beforeFunctionTexts2: beforeFunctionTexts2,\n    targetFunctionText: targetFunctionText,\n    afterFunctionTexts: afterFunctionTexts,\n    afterFunctionTexts2: afterFunctionTexts2\n  };\n}\nfunction isArrayFormat(arr) {\n  if (!arr || !isObject(arr)) {\n    return false;\n  }\n  if (isNode(arr)) {\n    return false;\n  }\n  return isArray(arr) || \"length\" in arr;\n}\nfunction getRefTarget(target, isSelector) {\n  if (!target) {\n    return null;\n  }\n  if (isNode(target)) {\n    return target;\n  }\n  if (isString(target)) {\n    if (isSelector) {\n      return document.querySelector(target);\n    }\n    return target;\n  }\n  if (isFunction(target)) {\n    return target();\n  }\n  if (isWindow(target)) {\n    return target;\n  }\n  if (\"current\" in target) {\n    return target.current;\n  }\n  return target;\n}\nfunction getRefTargets(targets, isSelector) {\n  if (!targets) {\n    return [];\n  }\n  var userTargets = isArrayFormat(targets) ? [].slice.call(targets) : [targets];\n  return userTargets.reduce(function (prev, target) {\n    if (isString(target) && isSelector) {\n      return __spreadArray(__spreadArray([], __read(prev), false), __read([].slice.call(document.querySelectorAll(target))), false);\n    }\n    if (isArray(target)) {\n      prev.push(getRefTargets(target, isSelector));\n    } else\n    {\n      prev.push(getRefTarget(target, isSelector));\n    }\n    return prev;\n  }, []);\n}\nfunction getAbsoluteRotation(pos1, pos2, direction) {\n  var deg = getRad(pos1, pos2) / Math.PI * 180;\n  deg = direction >= 0 ? deg : 180 - deg;\n  deg = deg >= 0 ? deg : 360 + deg;\n  return deg;\n}\nfunction getDragDistByState(state, dist) {\n  var rootMatrix = state.rootMatrix,is3d = state.is3d;\n  var n = is3d ? 4 : 3;\n  var inverseMatrix = invert(rootMatrix, n);\n  if (!is3d) {\n    inverseMatrix = convertDimension(inverseMatrix, 3, 4);\n  }\n  inverseMatrix[12] = 0;\n  inverseMatrix[13] = 0;\n  inverseMatrix[14] = 0;\n  return calculateMatrixDist(inverseMatrix, dist);\n}\nfunction getSizeDistByDist(startSize, dist, ratio, direction, keepRatio) {\n  var _a = __read(startSize, 2),startOffsetWidth = _a[0],startOffsetHeight = _a[1];\n  var distWidth = 0;\n  var distHeight = 0;\n  if (keepRatio && startOffsetWidth && startOffsetHeight) {\n    var rad = getRad([0, 0], dist);\n    var standardRad = getRad([0, 0], direction);\n    var size = getDistSize(dist);\n    var signSize = Math.cos(rad - standardRad) * size;\n    if (!direction[0]) {\n      // top, bottom\n      distHeight = signSize;\n      distWidth = distHeight * ratio;\n    } else\n    if (!direction[1]) {\n      // left, right\n      distWidth = signSize;\n      distHeight = distWidth / ratio;\n    } else\n    {\n      // two-way\n      var startWidthSize = direction[0] * startOffsetWidth;\n      var startHeightSize = direction[1] * startOffsetHeight;\n      var secondRad = Math.atan2(startWidthSize + dist[0], startHeightSize + dist[1]);\n      var firstRad = Math.atan2(startWidthSize, startHeightSize);\n      if (secondRad < 0) {\n        secondRad += Math.PI * 2;\n      }\n      if (firstRad < 0) {\n        firstRad += Math.PI * 2;\n      }\n      var rad_1 = 0;\n      if (abs(secondRad - firstRad) < Math.PI / 2 || abs(secondRad - firstRad) > Math.PI / 2 * 3) {\n        rad_1 = secondRad - firstRad;\n      } else\n      {\n        firstRad += Math.PI;\n        rad_1 = secondRad - firstRad;\n      }\n      if (rad_1 > Math.PI * 2) {\n        rad_1 -= Math.PI * 2;\n      } else\n      if (rad_1 > Math.PI) {\n        rad_1 = 2 * Math.PI - rad_1;\n      } else\n      if (rad_1 < -Math.PI) {\n        rad_1 = -2 * Math.PI - rad_1;\n      }\n      //       180\n      // -1, -1,  // 1, -1\n      // 270            90\n      // -1, 1    // 1, 1\n      //       0\n      var distSize = getDistSize([startWidthSize + dist[0], startHeightSize + dist[1]]) * Math.cos(rad_1);\n      distWidth = distSize * Math.sin(firstRad) - startWidthSize;\n      distHeight = distSize * Math.cos(firstRad) - startHeightSize;\n      if (direction[0] < 0) {\n        distWidth *= -1;\n      }\n      if (direction[1] < 0) {\n        distHeight *= -1;\n      }\n    }\n  } else\n  {\n    distWidth = direction[0] * dist[0];\n    distHeight = direction[1] * dist[1];\n  }\n  return [distWidth, distHeight];\n}\nfunction getOffsetSizeDist(sizeDirection, keepRatio, datas, e) {\n  var _a;\n  var ratio = datas.ratio,startOffsetWidth = datas.startOffsetWidth,startOffsetHeight = datas.startOffsetHeight;\n  var distWidth = 0;\n  var distHeight = 0;\n  var distX = e.distX,distY = e.distY,pinchScale = e.pinchScale,parentDistance = e.parentDistance,parentDist = e.parentDist,parentScale = e.parentScale;\n  var startFixedDirection = datas.fixedDirection;\n  var directionsDists = [0, 1].map(function (index) {\n    return abs(sizeDirection[index] - startFixedDirection[index]);\n  });\n  var directionRatios = [0, 1].map(function (index) {\n    var dist = directionsDists[index];\n    if (dist !== 0) {\n      dist = 2 / dist;\n    }\n    return dist;\n  });\n  if (parentDist) {\n    distWidth = parentDist[0];\n    distHeight = parentDist[1];\n    if (keepRatio) {\n      if (!distWidth) {\n        distWidth = distHeight * ratio;\n      } else\n      if (!distHeight) {\n        distHeight = distWidth / ratio;\n      }\n    }\n  } else\n  if (isNumber(pinchScale)) {\n    distWidth = (pinchScale - 1) * startOffsetWidth;\n    distHeight = (pinchScale - 1) * startOffsetHeight;\n  } else\n  if (parentScale) {\n    distWidth = (parentScale[0] - 1) * startOffsetWidth;\n    distHeight = (parentScale[1] - 1) * startOffsetHeight;\n  } else\n  if (parentDistance) {\n    var scaleX = startOffsetWidth * directionsDists[0];\n    var scaleY = startOffsetHeight * directionsDists[1];\n    var ratioDistance = getDistSize([scaleX, scaleY]);\n    distWidth = parentDistance / ratioDistance * scaleX * directionRatios[0];\n    distHeight = parentDistance / ratioDistance * scaleY * directionRatios[1];\n  } else\n  {\n    var dist_1 = getDragDist({ datas: datas, distX: distX, distY: distY });\n    dist_1 = directionRatios.map(function (ratio, i) {\n      return dist_1[i] * ratio;\n    });\n    _a = __read(getSizeDistByDist([startOffsetWidth, startOffsetHeight], dist_1, ratio, sizeDirection, keepRatio), 2), distWidth = _a[0], distHeight = _a[1];\n  }\n  return {\n    // direction,\n    // sizeDirection,\n    distWidth: distWidth,\n    distHeight: distHeight\n  };\n}\nfunction convertTransformUnit(origin, xy) {\n  if (xy) {\n    if (origin === \"left\") {\n      return { x: \"0%\", y: \"50%\" };\n    } else\n    if (origin === \"top\") {\n      return { x: \"50%\", y: \"50%\" };\n    } else\n    if (origin === \"center\") {\n      return { x: \"50%\", y: \"50%\" };\n    } else\n    if (origin === \"right\") {\n      return { x: \"100%\", y: \"50%\" };\n    } else\n    if (origin === \"bottom\") {\n      return { x: \"50%\", y: \"100%\" };\n    }\n    var _a = __read(origin.split(\" \"), 2),left = _a[0],right = _a[1];\n    var leftOrigin = convertTransformUnit(left || \"\");\n    var rightOrigin = convertTransformUnit(right || \"\");\n    var originObject = __assign(__assign({}, leftOrigin), rightOrigin);\n    var nextOriginObject = {\n      x: \"50%\",\n      y: \"50%\"\n    };\n    if (originObject.x) {\n      nextOriginObject.x = originObject.x;\n    }\n    if (originObject.y) {\n      nextOriginObject.y = originObject.y;\n    }\n    if (originObject.value) {\n      if (originObject.x && !originObject.y) {\n        nextOriginObject.y = originObject.value;\n      }\n      if (!originObject.x && originObject.y) {\n        nextOriginObject.x = originObject.value;\n      }\n    }\n    return nextOriginObject;\n  }\n  if (origin === \"left\") {\n    return { x: \"0%\" };\n  }\n  if (origin === \"right\") {\n    return { x: \"100%\" };\n  }\n  if (origin === \"top\") {\n    return { y: \"0%\" };\n  }\n  if (origin === \"bottom\") {\n    return { y: \"100%\" };\n  }\n  if (!origin) {\n    return {};\n  }\n  if (origin === \"center\") {\n    return { value: \"50%\" };\n  }\n  return { value: origin };\n}\nfunction convertTransformOriginArray(transformOrigin, width, height) {\n  var _a = convertTransformUnit(transformOrigin, true),x = _a.x,y = _a.y;\n  return [\n  convertUnitSize(x, width) || 0,\n  convertUnitSize(y, height) || 0];\n\n}\nfunction rotatePosesInfo(poses, origin, rad) {\n  var prevPoses = poses.map(function (pos) {return minus(pos, origin);});\n  var nextPoses = prevPoses.map(function (pos) {return rotate(pos, rad);});\n  return {\n    prev: prevPoses,\n    next: nextPoses,\n    result: nextPoses.map(function (pos) {return plus(pos, origin);})\n  };\n}\nfunction isDeepArrayEquals(arr1, arr2) {\n  return arr1.length === arr2.length && arr1.every(function (value1, i) {\n    var value2 = arr2[i];\n    var isArray1 = isArray(value1);\n    var isArray2 = isArray(value2);\n    if (isArray1 && isArray2) {\n      return isDeepArrayEquals(value1, value2);\n    } else\n    if (!isArray1 && !isArray2) {\n      return value1 === value2;\n    }\n    return false;\n  });\n}\nfunction watchValue(moveable, property, nextValue, valueKey, defaultValue) {\n  var store = moveable._store;\n  var prevValue = store[property];\n  if (!(property in store)) {\n    if (defaultValue != null) {\n      store[property] = defaultValue;\n      prevValue = defaultValue;\n    } else\n    {\n      store[property] = nextValue;\n      return nextValue;\n    }\n  }\n  if (prevValue === nextValue || valueKey(prevValue) === valueKey(nextValue)) {\n    return prevValue;\n  }\n  store[property] = nextValue;\n  return nextValue;\n}\nfunction sign(value) {\n  return value >= 0 ? 1 : -1;\n}\nfunction abs(value) {\n  return Math.abs(value);\n}\nfunction countEach(count, callback) {\n  return counter(count).map(function (index) {return callback(index);});\n}\nfunction getPaddingBox(padding) {\n  if (isNumber(padding)) {\n    return {\n      top: padding,\n      left: padding,\n      right: padding,\n      bottom: padding\n    };\n  }\n  return {\n    left: padding.left || 0,\n    top: padding.top || 0,\n    right: padding.right || 0,\n    bottom: padding.bottom || 0\n  };\n}\n\n/**\r\n * @namespace Moveable.Pinchable\r\n * @description Whether or not target can be pinched with draggable, resizable, scalable, rotatable (default: false)\r\n */\nvar Pinchable = makeAble(\"pinchable\", {\n  props: [\n  \"pinchable\"],\n\n  events: [\n  \"pinchStart\",\n  \"pinch\",\n  \"pinchEnd\",\n  \"pinchGroupStart\",\n  \"pinchGroup\",\n  \"pinchGroupEnd\"],\n\n  dragStart: function () {\n    return true;\n  },\n  pinchStart: function (moveable, e) {\n    var datas = e.datas,targets = e.targets,angle = e.angle,originalDatas = e.originalDatas;\n    var _a = moveable.props,pinchable = _a.pinchable,ables = _a.ables;\n    if (!pinchable) {\n      return false;\n    }\n    var eventName = \"onPinch\".concat(targets ? \"Group\" : \"\", \"Start\");\n    var controlEventName = \"drag\".concat(targets ? \"Group\" : \"\", \"ControlStart\");\n    var pinchAbles = (pinchable === true ? moveable.controlAbles : ables.filter(function (able) {\n      return pinchable.indexOf(able.name) > -1;\n    })).filter(function (able) {return able.canPinch && able[controlEventName];});\n    var params = fillParams(moveable, e, {});\n    if (targets) {\n      params.targets = targets;\n    }\n    var result = triggerEvent(moveable, eventName, params);\n    datas.isPinch = result !== false;\n    datas.ables = pinchAbles;\n    var isPinch = datas.isPinch;\n    if (!isPinch) {\n      return false;\n    }\n    pinchAbles.forEach(function (able) {\n      originalDatas[able.name] = originalDatas[able.name] || {};\n      if (!able[controlEventName]) {\n        return;\n      }\n      var ableEvent = __assign(__assign({}, e), { datas: originalDatas[able.name], parentRotate: angle, isPinch: true });\n      able[controlEventName](moveable, ableEvent);\n    });\n    moveable.state.snapRenderInfo = {\n      request: e.isRequest,\n      direction: [0, 0]\n    };\n    return isPinch;\n  },\n  pinch: function (moveable, e) {\n    var datas = e.datas,pinchScale = e.scale,distance = e.distance,originalDatas = e.originalDatas,inputEvent = e.inputEvent,targets = e.targets,angle = e.angle;\n    if (!datas.isPinch) {\n      return;\n    }\n    var parentDistance = distance * (1 - 1 / pinchScale);\n    var params = fillParams(moveable, e, {});\n    if (targets) {\n      params.targets = targets;\n    }\n    var eventName = \"onPinch\".concat(targets ? \"Group\" : \"\");\n    triggerEvent(moveable, eventName, params);\n    var ables = datas.ables;\n    var controlEventName = \"drag\".concat(targets ? \"Group\" : \"\", \"Control\");\n    ables.forEach(function (able) {\n      if (!able[controlEventName]) {\n        return;\n      }\n      able[controlEventName](moveable, __assign(__assign({}, e), { datas: originalDatas[able.name], inputEvent: inputEvent, resolveMatrix: true, pinchScale: pinchScale, parentDistance: parentDistance, parentRotate: angle, isPinch: true }));\n    });\n    return params;\n  },\n  pinchEnd: function (moveable, e) {\n    var datas = e.datas,isPinch = e.isPinch,inputEvent = e.inputEvent,targets = e.targets,originalDatas = e.originalDatas;\n    if (!datas.isPinch) {\n      return;\n    }\n    var eventName = \"onPinch\".concat(targets ? \"Group\" : \"\", \"End\");\n    var params = fillEndParams(moveable, e, { isDrag: isPinch });\n    if (targets) {\n      params.targets = targets;\n    }\n    triggerEvent(moveable, eventName, params);\n    var ables = datas.ables;\n    var controlEventName = \"drag\".concat(targets ? \"Group\" : \"\", \"ControlEnd\");\n    ables.forEach(function (able) {\n      if (!able[controlEventName]) {\n        return;\n      }\n      able[controlEventName](moveable, __assign(__assign({}, e), { isDrag: isPinch, datas: originalDatas[able.name], inputEvent: inputEvent, isPinch: true }));\n    });\n    return isPinch;\n  },\n  pinchGroupStart: function (moveable, e) {\n    return this.pinchStart(moveable, __assign(__assign({}, e), { targets: moveable.props.targets }));\n  },\n  pinchGroup: function (moveable, e) {\n    return this.pinch(moveable, __assign(__assign({}, e), { targets: moveable.props.targets }));\n  },\n  pinchGroupEnd: function (moveable, e) {\n    return this.pinchEnd(moveable, __assign(__assign({}, e), { targets: moveable.props.targets }));\n  }\n});\n/**\r\n * Whether or not target can be pinched with draggable, resizable, scalable, rotatable (default: false)\r\n * @name Moveable.Pinchable#pinchable\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body);\r\n *\r\n * moveable.pinchable = true;\r\n */\n/**\r\n * When the pinch starts, the pinchStart event is called with part of scaleStart, rotateStart, resizeStart\r\n * @memberof Moveable.Pinchable\r\n * @event pinchStart\r\n * @param {Moveable.Pinchable.OnPinchStart} - Parameters for the pinchStart event\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body, {\r\n *     rotatable: true,\r\n *     scalable: true,\r\n *     pinchable: true, // [\"rotatable\", \"scalable\"]\r\n * });\r\n * moveable.on(\"pinchStart\", ({ target }) => {\r\n *     console.log(target);\r\n * });\r\n * moveable.on(\"rotateStart\", ({ target }) => {\r\n *     console.log(target);\r\n * });\r\n * moveable.on(\"scaleStart\", ({ target }) => {\r\n *     console.log(target);\r\n * });\r\n */\n/**\r\n * When pinching, the pinch event is called with part of scale, rotate, resize\r\n * @memberof Moveable.Pinchable\r\n * @event pinch\r\n * @param {Moveable.Pinchable.OnPinch} - Parameters for the pinch event\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body, {\r\n *     rotatable: true,\r\n *     scalable: true,\r\n *     pinchable: true, // [\"rotatable\", \"scalable\"]\r\n * });\r\n * moveable.on(\"pinch\", ({ target }) => {\r\n *     console.log(target);\r\n * });\r\n * moveable.on(\"rotate\", ({ target }) => {\r\n *     console.log(target);\r\n * });\r\n * moveable.on(\"scale\", ({ target }) => {\r\n *     console.log(target);\r\n * });\r\n */\n/**\r\n * When the pinch finishes, the pinchEnd event is called.\r\n * @memberof Moveable.Pinchable\r\n * @event pinchEnd\r\n * @param {Moveable.Pinchable.OnPinchEnd} - Parameters for the pinchEnd event\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body, {\r\n *     rotatable: true,\r\n *     scalable: true,\r\n *     pinchable: true, // [\"rotatable\", \"scalable\"]\r\n * });\r\n * moveable.on(\"pinchEnd\", ({ target }) => {\r\n *     console.log(target);\r\n * });\r\n * moveable.on(\"rotateEnd\", ({ target }) => {\r\n *     console.log(target);\r\n * });\r\n * moveable.on(\"scaleEnd\", ({ target }) => {\r\n *     console.log(target);\r\n * });\r\n */\n/**\r\n * When the group pinch starts, the `pinchGroupStart` event is called.\r\n * @memberof Moveable.Pinchable\r\n * @event pinchGroupStart\r\n * @param {Moveable.Pinchable.OnPinchGroupStart} - Parameters for the `pinchGroupStart` event\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body, {\r\n *     target: [].slice.call(document.querySelectorAll(\".target\")),\r\n *     pinchable: true\r\n * });\r\n * moveable.on(\"pinchGroupStart\", ({ targets }) => {\r\n *     console.log(\"onPinchGroupStart\", targets);\r\n * });\r\n */\n/**\r\n * When the group pinch, the `pinchGroup` event is called.\r\n * @memberof Moveable.Pinchable\r\n * @event pinchGroup\r\n * @param {Moveable.Pinchable.OnPinchGroup} - Parameters for the `pinchGroup` event\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body, {\r\n *     target: [].slice.call(document.querySelectorAll(\".target\")),\r\n *     pinchable: true\r\n * });\r\n * moveable.on(\"pinchGroup\", ({ targets, events }) => {\r\n *     console.log(\"onPinchGroup\", targets);\r\n * });\r\n */\n/**\r\n * When the group pinch finishes, the `pinchGroupEnd` event is called.\r\n * @memberof Moveable.Pinchable\r\n * @event pinchGroupEnd\r\n * @param {Moveable.Pinchable.OnPinchGroupEnd} - Parameters for the `pinchGroupEnd` event\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body, {\r\n *     target: [].slice.call(document.querySelectorAll(\".target\")),\r\n *     pinchable: true\r\n * });\r\n * moveable.on(\"pinchGroupEnd\", ({ targets, isDrag }) => {\r\n *     console.log(\"onPinchGroupEnd\", targets, isDrag);\r\n * });\r\n */\n\nvar directionCondition = getDirectionCondition(\"scalable\");\n/**\r\n * @namespace Scalable\r\n * @memberof Moveable\r\n * @description Scalable indicates whether the target's x and y can be scale of transform.\r\n */\nvar Scalable = {\n  name: \"scalable\",\n  ableGroup: \"size\",\n  canPinch: true,\n  props: [\n  \"scalable\",\n  \"throttleScale\",\n  \"renderDirections\",\n  \"keepRatio\",\n  \"edge\",\n  \"displayAroundControls\"],\n\n  events: [\n  \"scaleStart\",\n  \"beforeScale\",\n  \"scale\",\n  \"scaleEnd\",\n  \"scaleGroupStart\",\n  \"beforeScaleGroup\",\n  \"scaleGroup\",\n  \"scaleGroupEnd\"],\n\n  render: getRenderDirections(\"scalable\"),\n  dragControlCondition: directionCondition,\n  viewClassName: getDirectionViewClassName(\"scalable\"),\n  dragControlStart: function (moveable, e) {\n    var datas = e.datas,isPinch = e.isPinch,inputEvent = e.inputEvent,parentDirection = e.parentDirection;\n    var direction = getTotalDirection(parentDirection, isPinch, inputEvent, datas);\n    var _a = moveable.state,width = _a.width,height = _a.height,targetTransform = _a.targetTransform,target = _a.target,pos1 = _a.pos1,pos2 = _a.pos2,pos4 = _a.pos4;\n    if (!direction || !target) {\n      return false;\n    }\n    if (!isPinch) {\n      setDragStart(moveable, e);\n    }\n    datas.datas = {};\n    datas.transform = targetTransform;\n    datas.prevDist = [1, 1];\n    datas.direction = direction;\n    datas.startOffsetWidth = width;\n    datas.startOffsetHeight = height;\n    datas.startValue = [1, 1];\n    // const scaleWidth = getDist(pos1, pos2);\n    // const scaleHeight = getDist(pos2, pos4);\n    var isWidth = !direction[0] && !direction[1] || direction[0] || !direction[1];\n    // datas.scaleWidth = scaleWidth;\n    // datas.scaleHeight = scaleHeight;\n    // datas.scaleXRatio = scaleWidth / width;\n    // datas.scaleYRatio = scaleHeight / height;\n    setDefaultTransformIndex(moveable, e, \"scale\");\n    datas.isWidth = isWidth;\n    function setRatio(ratio) {\n      datas.ratio = ratio && isFinite(ratio) ? ratio : 0;\n    }\n    datas.startPositions = getAbsolutePosesByState(moveable.state);\n    function setFixedDirection(fixedDirection) {\n      var result = getFixedDirectionInfo(datas.startPositions, fixedDirection);\n      datas.fixedDirection = result.fixedDirection;\n      datas.fixedPosition = result.fixedPosition;\n      datas.fixedOffset = result.fixedOffset;\n    }\n    datas.setFixedDirection = setFixedDirection;\n    setRatio(getDist$1(pos1, pos2) / getDist$1(pos2, pos4));\n    setFixedDirection([-direction[0], -direction[1]]);\n    var setMinScaleSize = function (min) {\n      datas.minScaleSize = min;\n    };\n    var setMaxScaleSize = function (max) {\n      datas.maxScaleSize = max;\n    };\n    // const setMinScale = (min: number[]) => {\n    // };\n    // const setMaxScale = (max: number[]) => {\n    // };\n    setMinScaleSize([-Infinity, -Infinity]);\n    setMaxScaleSize([Infinity, Infinity]);\n    var params = fillParams(moveable, e, __assign(__assign({ direction: direction, set: function (scale) {\n        datas.startValue = scale;\n      }, setRatio: setRatio, setFixedDirection: setFixedDirection, setMinScaleSize: setMinScaleSize, setMaxScaleSize: setMaxScaleSize }, fillTransformStartEvent(moveable, e)), { dragStart: Draggable.dragStart(moveable, new CustomGesto().dragStart([0, 0], e)) }));\n    var result = triggerEvent(moveable, \"onScaleStart\", params);\n    datas.startFixedDirection = datas.fixedDirection;\n    if (result !== false) {\n      datas.isScale = true;\n      moveable.state.snapRenderInfo = {\n        request: e.isRequest,\n        direction: direction\n      };\n    }\n    return datas.isScale ? params : false;\n  },\n  dragControl: function (moveable, e) {\n    resolveTransformEvent(moveable, e, \"scale\");\n    var datas = e.datas,parentKeepRatio = e.parentKeepRatio,parentFlag = e.parentFlag,isPinch = e.isPinch,dragClient = e.dragClient,isRequest = e.isRequest,useSnap = e.useSnap,resolveMatrix = e.resolveMatrix;\n    var prevDist = datas.prevDist,direction = datas.direction,startOffsetWidth = datas.startOffsetWidth,startOffsetHeight = datas.startOffsetHeight,isScale = datas.isScale,startValue = datas.startValue,isWidth = datas.isWidth,ratio = datas.ratio;\n    if (!isScale) {\n      return false;\n    }\n    var props = moveable.props;\n    var throttleScale = props.throttleScale,parentMoveable = props.parentMoveable;\n    var sizeDirection = direction;\n    if (!direction[0] && !direction[1]) {\n      sizeDirection = [1, 1];\n    }\n    var keepRatio = ratio && (parentKeepRatio != null ? parentKeepRatio : props.keepRatio) || false;\n    var state = moveable.state;\n    var tempScaleValue = [\n    startValue[0],\n    startValue[1]];\n\n    function getNextScale() {\n      var _a = getOffsetSizeDist(sizeDirection, keepRatio, datas, e),distWidth = _a.distWidth,distHeight = _a.distHeight;\n      var distX = startOffsetWidth ? (startOffsetWidth + distWidth) / startOffsetWidth : 1;\n      var distY = startOffsetHeight ? (startOffsetHeight + distHeight) / startOffsetHeight : 1;\n      if (!startValue[0]) {\n        tempScaleValue[0] = distWidth / startOffsetWidth;\n      }\n      if (!startValue[1]) {\n        tempScaleValue[1] = distHeight / startOffsetHeight;\n      }\n      var scaleX = (sizeDirection[0] || keepRatio ? distX : 1) * tempScaleValue[0];\n      var scaleY = (sizeDirection[1] || keepRatio ? distY : 1) * tempScaleValue[1];\n      if (scaleX === 0) {\n        scaleX = sign(prevDist[0]) * MIN_SCALE;\n      }\n      if (scaleY === 0) {\n        scaleY = sign(prevDist[1]) * MIN_SCALE;\n      }\n      return [scaleX, scaleY];\n    }\n    var scale = getNextScale();\n    if (!isPinch && moveable.props.groupable) {\n      var snapRenderInfo = state.snapRenderInfo || {};\n      var stateDirection = snapRenderInfo.direction;\n      if (isArray(stateDirection) && (stateDirection[0] || stateDirection[1])) {\n        state.snapRenderInfo = { direction: direction, request: e.isRequest };\n      }\n    }\n    triggerEvent(moveable, \"onBeforeScale\", fillParams(moveable, e, {\n      scale: scale,\n      setFixedDirection: function (nextFixedDirection) {\n        datas.setFixedDirection(nextFixedDirection);\n        scale = getNextScale();\n        return scale;\n      },\n      startFixedDirection: datas.startFixedDirection,\n      setScale: function (nextScale) {\n        scale = nextScale;\n      }\n    }, true));\n    var dist = [\n    scale[0] / tempScaleValue[0],\n    scale[1] / tempScaleValue[1]];\n\n    var fixedPosition = dragClient;\n    var snapDist = [0, 0];\n    var distSign = sign(dist[0] * dist[1]);\n    var isSelfPinch = !dragClient && !parentFlag && isPinch;\n    if (isSelfPinch || resolveMatrix) {\n      fixedPosition = getTranslateFixedPosition(moveable, datas.targetAllTransform, [0, 0], [0, 0], datas);\n    } else\n    if (!dragClient) {\n      fixedPosition = datas.fixedPosition;\n    }\n    if (!isPinch) {\n      snapDist = checkSnapScale(moveable, dist, direction, !useSnap && isRequest, datas);\n    }\n    if (keepRatio) {\n      if (sizeDirection[0] && sizeDirection[1] && snapDist[0] && snapDist[1]) {\n        if (Math.abs(snapDist[0] * startOffsetWidth) > Math.abs(snapDist[1] * startOffsetHeight)) {\n          snapDist[1] = 0;\n        } else\n        {\n          snapDist[0] = 0;\n        }\n      }\n      var isNoSnap = !snapDist[0] && !snapDist[1];\n      if (isNoSnap) {\n        // throttle scale value (not absolute scale size)\n        if (isWidth) {\n          dist[0] = throttle(dist[0] * tempScaleValue[0], throttleScale) / tempScaleValue[0];\n        } else\n        {\n          dist[1] = throttle(dist[1] * tempScaleValue[1], throttleScale) / tempScaleValue[1];\n        }\n      }\n      if (sizeDirection[0] && !sizeDirection[1] ||\n      snapDist[0] && !snapDist[1] ||\n      isNoSnap && isWidth) {\n        dist[0] += snapDist[0];\n        var snapHeight = startOffsetWidth * dist[0] * tempScaleValue[0] / ratio;\n        dist[1] = sign(distSign * dist[0]) * abs(snapHeight / startOffsetHeight / tempScaleValue[1]);\n      } else\n      if (!sizeDirection[0] && sizeDirection[1] ||\n      !snapDist[0] && snapDist[1] ||\n      isNoSnap && !isWidth) {\n        dist[1] += snapDist[1];\n        var snapWidth = startOffsetHeight * dist[1] * tempScaleValue[1] * ratio;\n        dist[0] = sign(distSign * dist[1]) * abs(snapWidth / startOffsetWidth / tempScaleValue[0]);\n      }\n    } else\n    {\n      dist[0] += snapDist[0];\n      dist[1] += snapDist[1];\n      if (!snapDist[0]) {\n        dist[0] = throttle(dist[0] * tempScaleValue[0], throttleScale) / tempScaleValue[0];\n      }\n      if (!snapDist[1]) {\n        dist[1] = throttle(dist[1] * tempScaleValue[1], throttleScale) / tempScaleValue[1];\n      }\n    }\n    if (dist[0] === 0) {\n      dist[0] = sign(prevDist[0]) * MIN_SCALE;\n    }\n    if (dist[1] === 0) {\n      dist[1] = sign(prevDist[1]) * MIN_SCALE;\n    }\n    scale = multiply2(dist, [tempScaleValue[0], tempScaleValue[1]]);\n    var startOffsetSize = [\n    startOffsetWidth,\n    startOffsetHeight];\n\n    var scaleSize = [\n    startOffsetWidth * scale[0],\n    startOffsetHeight * scale[1]];\n\n    scaleSize = calculateBoundSize(scaleSize, datas.minScaleSize, datas.maxScaleSize, keepRatio ? ratio : false);\n    // if (keepRatio && (isGroup || keepRatioFinally)) {\n    //     if (isWidth) {\n    //         boundingHeight = boundingWidth / ratio;\n    //     } else {\n    //         boundingWidth = boundingHeight * ratio;\n    //     }\n    // }\n    scale = countEach(2, function (i) {\n      return startOffsetSize[i] ? scaleSize[i] / startOffsetSize[i] : scaleSize[i];\n    });\n    dist = countEach(2, function (i) {\n      return scale[i] / tempScaleValue[i];\n    });\n    var delta = countEach(2, function (i) {return prevDist[i] ? dist[i] / prevDist[i] : dist[i];});\n    var distText = \"scale(\".concat(dist.join(\", \"), \")\");\n    var scaleText = \"scale(\".concat(scale.join(\", \"), \")\");\n    var nextTransform = convertTransformFormat(datas, scaleText, distText);\n    var isZeroScale = !startValue[0] || !startValue[1];\n    var inverseDist = getScaleDist(moveable, isZeroScale ? scaleText : distText, datas.fixedDirection, fixedPosition, datas.fixedOffset, datas, isZeroScale);\n    var inverseDelta = isSelfPinch ? inverseDist : minus(inverseDist, datas.prevInverseDist || [0, 0]);\n    datas.prevDist = dist;\n    datas.prevInverseDist = inverseDist;\n    if (scale[0] === prevDist[0] && scale[1] === prevDist[1] &&\n    inverseDelta.every(function (num) {return !num;}) &&\n    !parentMoveable &&\n    !isSelfPinch) {\n      return false;\n    }\n    var params = fillParams(moveable, e, __assign({ offsetWidth: startOffsetWidth, offsetHeight: startOffsetHeight, direction: direction, scale: scale, dist: dist, delta: delta, isPinch: !!isPinch }, fillTransformEvent(moveable, nextTransform, inverseDelta, isPinch, e)));\n    triggerEvent(moveable, \"onScale\", params);\n    return params;\n  },\n  dragControlEnd: function (moveable, e) {\n    var datas = e.datas;\n    if (!datas.isScale) {\n      return false;\n    }\n    datas.isScale = false;\n    var scaleEndParam = fillEndParams(moveable, e, {});\n    triggerEvent(moveable, \"onScaleEnd\", scaleEndParam);\n    return scaleEndParam;\n  },\n  dragGroupControlCondition: directionCondition,\n  dragGroupControlStart: function (moveable, e) {\n    var datas = e.datas;\n    var params = this.dragControlStart(moveable, e);\n    if (!params) {\n      return false;\n    }\n    var originalEvents = fillChildEvents(moveable, \"resizable\", e);\n    datas.moveableScale = moveable.scale;\n    var events = triggerChildAbles(moveable, this, \"dragControlStart\", e, function (child, ev) {\n      return startChildDist(moveable, child, datas, ev);\n    });\n    var setFixedDirection = function (fixedDirection) {\n      params.setFixedDirection(fixedDirection);\n      events.forEach(function (ev, i) {\n        ev.setFixedDirection(fixedDirection);\n        startChildDist(moveable, ev.moveable, datas, originalEvents[i]);\n      });\n    };\n    datas.setFixedDirection = setFixedDirection;\n    var nextParams = __assign(__assign({}, params), { targets: moveable.props.targets, events: events, setFixedDirection: setFixedDirection });\n    var result = triggerEvent(moveable, \"onScaleGroupStart\", nextParams);\n    datas.isScale = result !== false;\n    return datas.isScale ? nextParams : false;\n  },\n  dragGroupControl: function (moveable, e) {\n    var datas = e.datas;\n    if (!datas.isScale) {\n      return;\n    }\n    catchEvent(moveable, \"onBeforeScale\", function (parentEvent) {\n      triggerEvent(moveable, \"onBeforeScaleGroup\", fillParams(moveable, e, __assign(__assign({}, parentEvent), { targets: moveable.props.targets }), true));\n    });\n    var params = this.dragControl(moveable, e);\n    if (!params) {\n      return;\n    }\n    var dist = params.dist;\n    var moveableScale = datas.moveableScale;\n    moveable.scale = [\n    dist[0] * moveableScale[0],\n    dist[1] * moveableScale[1]];\n\n    var keepRatio = moveable.props.keepRatio;\n    var fixedPosition = datas.fixedPosition;\n    var events = triggerChildAbles(moveable, this, \"dragControl\", e, function (_, ev) {\n      var _a = __read(calculate(createRotateMatrix(moveable.rotation / 180 * Math.PI, 3), [\n        ev.datas.originalX * dist[0],\n        ev.datas.originalY * dist[1],\n        1],\n        3), 2),clientX = _a[0],clientY = _a[1];\n      return __assign(__assign({}, ev), { parentDist: null, parentScale: dist, parentKeepRatio: keepRatio,\n        // recalculate child fixed position for parent group's dragging.\n        dragClient: plus(fixedPosition, [clientX, clientY]) });\n    });\n    var nextParams = __assign({ targets: moveable.props.targets, events: events }, params);\n    triggerEvent(moveable, \"onScaleGroup\", nextParams);\n    return nextParams;\n  },\n  dragGroupControlEnd: function (moveable, e) {\n    var isDrag = e.isDrag,datas = e.datas;\n    if (!datas.isScale) {\n      return;\n    }\n    this.dragControlEnd(moveable, e);\n    var events = triggerChildAbles(moveable, this, \"dragControlEnd\", e);\n    var nextParams = fillEndParams(moveable, e, {\n      targets: moveable.props.targets,\n      events: events\n    });\n    triggerEvent(moveable, \"onScaleGroupEnd\", nextParams);\n    return isDrag;\n  },\n  /**\r\n   * @method Moveable.Scalable#request\r\n   * @param {Moveable.Scalable.ScalableRequestParam} e - the Scalable's request parameter\r\n   * @return {Moveable.Requester} Moveable Requester\r\n   * @example\r\n    * // Instantly Request (requestStart - request - requestEnd)\r\n   * moveable.request(\"scalable\", { deltaWidth: 10, deltaHeight: 10 }, true);\r\n   *\r\n   * // requestStart\r\n   * const requester = moveable.request(\"scalable\");\r\n   *\r\n   * // request\r\n   * requester.request({ deltaWidth: 10, deltaHeight: 10 });\r\n   * requester.request({ deltaWidth: 10, deltaHeight: 10 });\r\n   * requester.request({ deltaWidth: 10, deltaHeight: 10 });\r\n   *\r\n   * // requestEnd\r\n   * requester.requestEnd();\r\n   */\n\n  request: function () {\n    var datas = {};\n    var distWidth = 0;\n    var distHeight = 0;\n    var useSnap = false;\n    return {\n      isControl: true,\n      requestStart: function (e) {\n        useSnap = e.useSnap;\n        return {\n          datas: datas,\n          parentDirection: e.direction || [1, 1],\n          useSnap: useSnap\n        };\n      },\n      request: function (e) {\n        distWidth += e.deltaWidth;\n        distHeight += e.deltaHeight;\n        return {\n          datas: datas,\n          parentDist: [distWidth, distHeight],\n          parentKeepRatio: e.keepRatio,\n          useSnap: useSnap\n        };\n      },\n      requestEnd: function () {\n        return { datas: datas, isDrag: true, useSnap: useSnap };\n      }\n    };\n  }\n};\n/**\r\n * Whether or not target can scaled.\r\n *\r\n * @name Moveable.Scalable#scalable\r\n * @default false\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body);\r\n *\r\n * moveable.scalable = true;\r\n */\n/**\r\n * throttle of scaleX, scaleY when scale.\r\n * @name Moveable.Scalable#throttleScale\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body);\r\n *\r\n * moveable.throttleScale = 0.1;\r\n */\n/**\r\n * Set directions to show the control box. (default: [\"n\", \"nw\", \"ne\", \"s\", \"se\", \"sw\", \"e\", \"w\"])\r\n * @name Moveable.Scalable#renderDirections\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body, {\r\n *     scalable: true,\r\n *   renderDirections: [\"n\", \"nw\", \"ne\", \"s\", \"se\", \"sw\", \"e\", \"w\"],\r\n * });\r\n *\r\n * moveable.renderDirections = [\"nw\", \"ne\", \"sw\", \"se\"];\r\n */\n/**\r\n * When resize or scale, keeps a ratio of the width, height. (default: false)\r\n * @name Moveable.Scalable#keepRatio\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body, {\r\n *     scalable: true,\r\n * });\r\n *\r\n * moveable.keepRatio = true;\r\n */\n/**\r\n * When the scale starts, the scaleStart event is called.\r\n * @memberof Moveable.Scalable\r\n * @event scaleStart\r\n * @param {Moveable.Scalable.OnScaleStart} - Parameters for the scaleStart event\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body, { scalable: true });\r\n * moveable.on(\"scaleStart\", ({ target }) => {\r\n *     console.log(target);\r\n * });\r\n */\n/**\r\n * When scaling, `beforeScale` is called before `scale` occurs. In `beforeScale`, you can get and set the pre-value before scaling.\r\n * @memberof Moveable.Scalable\r\n * @event beforeScale\r\n * @param {Moveable.Scalable.OnBeforeScale} - Parameters for the `beforeScale` event\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body, { scalable: true });\r\n * moveable.on(\"beforeScale\", ({ setFixedDirection }) => {\r\n *     if (shiftKey) {\r\n *        setFixedDirection([0, 0]);\r\n *     }\r\n * });\r\n * moveable.on(\"scale\", ({ target, transform, dist }) => {\r\n *     target.style.transform = transform;\r\n * });\r\n */\n/**\r\n * When scaling, the `scale` event is called.\r\n * @memberof Moveable.Scalable\r\n * @event scale\r\n * @param {Moveable.Scalable.OnScale} - Parameters for the `scale` event\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body, { scalable: true });\r\n * moveable.on(\"scale\", ({ target, transform, dist }) => {\r\n *     target.style.transform = transform;\r\n * });\r\n */\n/**\r\n * When the scale finishes, the `scaleEnd` event is called.\r\n * @memberof Moveable.Scalable\r\n * @event scaleEnd\r\n * @param {Moveable.Scalable.OnScaleEnd} - Parameters for the `scaleEnd` event\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body, { scalable: true });\r\n * moveable.on(\"scaleEnd\", ({ target, isDrag }) => {\r\n *     console.log(target, isDrag);\r\n * });\r\n */\n/**\r\n* When the group scale starts, the `scaleGroupStart` event is called.\r\n* @memberof Moveable.Scalable\r\n* @event scaleGroupStart\r\n* @param {Moveable.Scalable.OnScaleGroupStart} - Parameters for the `scaleGroupStart` event\r\n* @example\r\n* import Moveable from \"moveable\";\r\n*\r\n* const moveable = new Moveable(document.body, {\r\n*     target: [].slice.call(document.querySelectorAll(\".target\")),\r\n*     scalable: true\r\n* });\r\n* moveable.on(\"scaleGroupStart\", ({ targets }) => {\r\n*     console.log(\"onScaleGroupStart\", targets);\r\n* });\r\n*/\n/**\r\n* When the group scale, the `scaleGroup` event is called.\r\n* @memberof Moveable.Scalable\r\n* @event scaleGroup\r\n* @param {Moveable.Scalable.OnScaleGroup} - Parameters for the `scaleGroup` event\r\n* @example\r\n* import Moveable from \"moveable\";\r\n*\r\n* const moveable = new Moveable(document.body, {\r\n*     target: [].slice.call(document.querySelectorAll(\".target\")),\r\n*     scalable: true\r\n* });\r\n* moveable.on(\"scaleGroup\", ({ targets, events }) => {\r\n*     console.log(\"onScaleGroup\", targets);\r\n*     events.forEach(ev => {\r\n*         const target = ev.target;\r\n*         // ev.drag is a drag event that occurs when the group scale.\r\n*         const left = ev.drag.beforeDist[0];\r\n*         const top = ev.drag.beforeDist[1];\r\n*         const scaleX = ev.scale[0];\r\n*         const scaleY = ev.scale[1];\r\n*     });\r\n* });\r\n*/\n/**\r\n * When the group scale finishes, the `scaleGroupEnd` event is called.\r\n * @memberof Moveable.Scalable\r\n * @event scaleGroupEnd\r\n * @param {Moveable.Scalable.OnScaleGroupEnd} - Parameters for the `scaleGroupEnd` event\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body, {\r\n *     target: [].slice.call(document.querySelectorAll(\".target\")),\r\n *     scalable: true\r\n * });\r\n * moveable.on(\"scaleGroupEnd\", ({ targets, isDrag }) => {\r\n *     console.log(\"onScaleGroupEnd\", targets, isDrag);\r\n * });\r\n */\n\nfunction getMiddleLinePos(pos1, pos2) {\n  return pos1.map(function (pos, i) {return dot(pos, pos2[i], 1, 2);});\n}\nfunction getTriangleRad(pos1, pos2, pos3) {\n  // pos1 Rad\n  var rad1 = getRad(pos1, pos2);\n  var rad2 = getRad(pos1, pos3);\n  var rad = rad2 - rad1;\n  return rad >= 0 ? rad : rad + 2 * Math.PI;\n}\nfunction isValidPos(poses1, poses2) {\n  var rad1 = getTriangleRad(poses1[0], poses1[1], poses1[2]);\n  var rad2 = getTriangleRad(poses2[0], poses2[1], poses2[2]);\n  var pi = Math.PI;\n  if (rad1 >= pi && rad2 <= pi || rad1 <= pi && rad2 >= pi) {\n    return false;\n  }\n  return true;\n}\n/**\r\n * @namespace Moveable.Warpable\r\n * @description Warpable indicates whether the target can be warped(distorted, bented).\r\n */\nvar Warpable = {\n  name: \"warpable\",\n  ableGroup: \"size\",\n  props: [\n  \"warpable\",\n  \"renderDirections\",\n  \"edge\",\n  \"displayAroundControls\"],\n\n  events: [\n  \"warpStart\",\n  \"warp\",\n  \"warpEnd\"],\n\n  viewClassName: getDirectionViewClassName(\"warpable\"),\n  render: function (moveable, React) {\n    var _a = moveable.props,resizable = _a.resizable,scalable = _a.scalable,warpable = _a.warpable,zoom = _a.zoom;\n    if (resizable || scalable || !warpable) {\n      return [];\n    }\n    var _b = moveable.state,pos1 = _b.pos1,pos2 = _b.pos2,pos3 = _b.pos3,pos4 = _b.pos4;\n    var linePosFrom1 = getMiddleLinePos(pos1, pos2);\n    var linePosFrom2 = getMiddleLinePos(pos2, pos1);\n    var linePosFrom3 = getMiddleLinePos(pos1, pos3);\n    var linePosFrom4 = getMiddleLinePos(pos3, pos1);\n    var linePosTo1 = getMiddleLinePos(pos3, pos4);\n    var linePosTo2 = getMiddleLinePos(pos4, pos3);\n    var linePosTo3 = getMiddleLinePos(pos2, pos4);\n    var linePosTo4 = getMiddleLinePos(pos4, pos2);\n    return __spreadArray([\n    React.createElement(\"div\", { className: prefix(\"line\"), key: \"middeLine1\", style: getLineStyle(linePosFrom1, linePosTo1, zoom) }),\n    React.createElement(\"div\", { className: prefix(\"line\"), key: \"middeLine2\", style: getLineStyle(linePosFrom2, linePosTo2, zoom) }),\n    React.createElement(\"div\", { className: prefix(\"line\"), key: \"middeLine3\", style: getLineStyle(linePosFrom3, linePosTo3, zoom) }),\n    React.createElement(\"div\", { className: prefix(\"line\"), key: \"middeLine4\", style: getLineStyle(linePosFrom4, linePosTo4, zoom) })],\n    __read(renderAllDirections(moveable, \"warpable\", React)), false);\n  },\n  dragControlCondition: function (moveable, e) {\n    if (e.isRequest) {\n      return false;\n    }\n    var target = e.inputEvent.target;\n    return hasClass(target, prefix(\"direction\")) && hasClass(target, prefix(\"warpable\"));\n  },\n  dragControlStart: function (moveable, e) {\n    var datas = e.datas,inputEvent = e.inputEvent;\n    var target = moveable.props.target;\n    var inputTarget = inputEvent.target;\n    var direction = getDirection(inputTarget, datas);\n    if (!direction || !target) {\n      return false;\n    }\n    var state = moveable.state;\n    var transformOrigin = state.transformOrigin,is3d = state.is3d,targetTransform = state.targetTransform,targetMatrix = state.targetMatrix,width = state.width,height = state.height,left = state.left,top = state.top;\n    datas.datas = {};\n    datas.targetTransform = targetTransform;\n    datas.warpTargetMatrix = is3d ? targetMatrix : convertDimension(targetMatrix, 3, 4);\n    datas.targetInverseMatrix = ignoreDimension(invert(datas.warpTargetMatrix, 4), 3, 4);\n    datas.direction = direction;\n    datas.left = left;\n    datas.top = top;\n    datas.poses = [\n    [0, 0],\n    [width, 0],\n    [0, height],\n    [width, height]].\n    map(function (p) {return minus(p, transformOrigin);});\n    datas.nextPoses = datas.poses.map(function (_a) {\n      var _b = __read(_a, 2),x = _b[0],y = _b[1];\n      return calculate(datas.warpTargetMatrix, [x, y, 0, 1], 4);\n    });\n    datas.startValue = createIdentityMatrix(4);\n    datas.prevMatrix = createIdentityMatrix(4);\n    datas.absolutePoses = getAbsolutePosesByState(state);\n    datas.posIndexes = getPosIndexesByDirection(direction);\n    setDragStart(moveable, e);\n    setDefaultTransformIndex(moveable, e, \"matrix3d\");\n    state.snapRenderInfo = {\n      request: e.isRequest,\n      direction: direction\n    };\n    var params = fillParams(moveable, e, __assign({ set: function (matrix) {\n        datas.startValue = matrix;\n      } }, fillTransformStartEvent(moveable, e)));\n    var result = triggerEvent(moveable, \"onWarpStart\", params);\n    if (result !== false) {\n      datas.isWarp = true;\n    }\n    return datas.isWarp;\n  },\n  dragControl: function (moveable, e) {\n    var datas = e.datas,isRequest = e.isRequest;\n    var distX = e.distX,distY = e.distY;\n    var targetInverseMatrix = datas.targetInverseMatrix,prevMatrix = datas.prevMatrix,isWarp = datas.isWarp,startValue = datas.startValue,poses = datas.poses,posIndexes = datas.posIndexes,absolutePoses = datas.absolutePoses;\n    if (!isWarp) {\n      return false;\n    }\n    resolveTransformEvent(moveable, e, \"matrix3d\");\n    if (hasGuidelines(moveable, \"warpable\")) {\n      var selectedPoses = posIndexes.map(function (index) {return absolutePoses[index];});\n      if (selectedPoses.length > 1) {\n        selectedPoses.push([\n        (selectedPoses[0][0] + selectedPoses[1][0]) / 2,\n        (selectedPoses[0][1] + selectedPoses[1][1]) / 2]\n        );\n      }\n      var _a = checkMoveableSnapBounds(moveable, isRequest, {\n          horizontal: selectedPoses.map(function (pos) {return pos[1] + distY;}),\n          vertical: selectedPoses.map(function (pos) {return pos[0] + distX;})\n        }),horizontalSnapInfo = _a.horizontal,verticalSnapInfo = _a.vertical;\n      distY -= horizontalSnapInfo.offset;\n      distX -= verticalSnapInfo.offset;\n    }\n    var dist = getDragDist({ datas: datas, distX: distX, distY: distY }, true);\n    var nextPoses = datas.nextPoses.slice();\n    posIndexes.forEach(function (index) {\n      nextPoses[index] = plus(nextPoses[index], dist);\n    });\n    if (!NEARBY_POS.every(function (nearByPoses) {return isValidPos(nearByPoses.map(function (i) {return poses[i];}), nearByPoses.map(function (i) {return nextPoses[i];}));})) {\n      return false;\n    }\n    var h = createWarpMatrix(poses[0], poses[2], poses[1], poses[3], nextPoses[0], nextPoses[2], nextPoses[1], nextPoses[3]);\n    if (!h.length) {\n      return false;\n    }\n    // B * A * M\n    var afterMatrix = multiply(targetInverseMatrix, h, 4);\n    // B * M * A\n    var matrix = getTransfromMatrix(datas, afterMatrix, true);\n    var delta = multiply(invert(prevMatrix, 4), matrix, 4);\n    datas.prevMatrix = matrix;\n    var totalMatrix = multiply(startValue, matrix, 4);\n    var nextTransform = convertTransformFormat(datas, \"matrix3d(\".concat(totalMatrix.join(\", \"), \")\"), \"matrix3d(\".concat(matrix.join(\", \"), \")\"));\n    fillOriginalTransform(e, nextTransform);\n    triggerEvent(moveable, \"onWarp\", fillParams(moveable, e, __assign({ delta: delta, matrix: totalMatrix, dist: matrix, multiply: multiply, transform: nextTransform }, fillCSSObject({\n      transform: nextTransform\n    }, e))));\n    return true;\n  },\n  dragControlEnd: function (moveable, e) {\n    var datas = e.datas,isDrag = e.isDrag;\n    if (!datas.isWarp) {\n      return false;\n    }\n    datas.isWarp = false;\n    triggerEvent(moveable, \"onWarpEnd\", fillEndParams(moveable, e, {}));\n    return isDrag;\n  }\n};\n/**\r\n * Whether or not target can be warped. (default: false)\r\n * @name Moveable.Warpable#warpable\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body);\r\n *\r\n * moveable.warpable = true;\r\n */\n/**\r\n* Set directions to show the control box. (default: [\"n\", \"nw\", \"ne\", \"s\", \"se\", \"sw\", \"e\", \"w\"])\r\n* @name Moveable.Warpable#renderDirections\r\n* @example\r\n* import Moveable from \"moveable\";\r\n*\r\n* const moveable = new Moveable(document.body, {\r\n*     warpable: true,\r\n*     renderDirections: [\"n\", \"nw\", \"ne\", \"s\", \"se\", \"sw\", \"e\", \"w\"],\r\n* });\r\n*\r\n* moveable.renderDirections = [\"nw\", \"ne\", \"sw\", \"se\"];\r\n*/\n/**\r\n* When the warp starts, the warpStart event is called.\r\n* @memberof Moveable.Warpable\r\n* @event warpStart\r\n* @param {Moveable.Warpable.OnWarpStart} - Parameters for the warpStart event\r\n* @example\r\n* import Moveable from \"moveable\";\r\n*\r\n* const moveable = new Moveable(document.body, { warpable: true });\r\n* moveable.on(\"warpStart\", ({ target }) => {\r\n*     console.log(target);\r\n* });\r\n*/\n/**\r\n * When warping, the warp event is called.\r\n * @memberof Moveable.Warpable\r\n * @event warp\r\n * @param {Moveable.Warpable.OnWarp} - Parameters for the warp event\r\n * @example\r\n * import Moveable from \"moveable\";\r\n * let matrix = [\r\n *  1, 0, 0, 0,\r\n *  0, 1, 0, 0,\r\n *  0, 0, 1, 0,\r\n *  0, 0, 0, 1,\r\n * ];\r\n * const moveable = new Moveable(document.body, { warpable: true });\r\n * moveable.on(\"warp\", ({ target, transform, delta, multiply }) => {\r\n *    // target.style.transform = transform;\r\n *    matrix = multiply(matrix, delta);\r\n *    target.style.transform = `matrix3d(${matrix.join(\",\")})`;\r\n * });\r\n */\n/**\r\n * When the warp finishes, the warpEnd event is called.\r\n * @memberof Moveable.Warpable\r\n * @event warpEnd\r\n * @param {Moveable.Warpable.OnWarpEnd} - Parameters for the warpEnd event\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body, { warpable: true });\r\n * moveable.on(\"warpEnd\", ({ target, isDrag }) => {\r\n *     console.log(target, isDrag);\r\n * });\r\n */\n\nvar AREA_PIECES = /*#__PURE__*/prefix(\"area-pieces\");\nvar AREA_PIECE = /*#__PURE__*/prefix(\"area-piece\");\nvar AVOID = /*#__PURE__*/prefix(\"avoid\");\nvar VIEW_DRAGGING = prefix(\"view-dragging\");\n\nfunction restoreStyle(moveable) {\n  var el = moveable.areaElement;\n  if (!el) {\n    return;\n  }\n  var _a = moveable.state,width = _a.width,height = _a.height;\n  removeClass(el, AVOID);\n  el.style.cssText += \"left: 0px; top: 0px; width: \".concat(width, \"px; height: \").concat(height, \"px\");\n}\nfunction renderPieces(React) {\n  return React.createElement(\"div\", { key: \"area_pieces\", className: AREA_PIECES },\n  React.createElement(\"div\", { className: AREA_PIECE }),\n  React.createElement(\"div\", { className: AREA_PIECE }),\n  React.createElement(\"div\", { className: AREA_PIECE }),\n  React.createElement(\"div\", { className: AREA_PIECE }));\n}\nvar DragArea = {\n  name: \"dragArea\",\n  props: [\n  \"dragArea\",\n  \"passDragArea\"],\n\n  events: [\n  \"click\",\n  \"clickGroup\"],\n\n  render: function (moveable, React) {\n    var _a = moveable.props,target = _a.target,dragArea = _a.dragArea,groupable = _a.groupable,passDragArea = _a.passDragArea;\n    var _b = moveable.getState(),width = _b.width,height = _b.height,renderPoses = _b.renderPoses;\n    var className = passDragArea ? prefix(\"area\", \"pass\") : prefix(\"area\");\n    if (groupable) {\n      return [\n      React.createElement(\"div\", { key: \"area\", ref: ref(moveable, \"areaElement\"), className: className }),\n      renderPieces(React)];\n\n    }\n    if (!target || !dragArea) {\n      return [];\n    }\n    var h = createWarpMatrix([0, 0], [width, 0], [0, height], [width, height], renderPoses[0], renderPoses[1], renderPoses[2], renderPoses[3]);\n    var transform = h.length ? makeMatrixCSS(h, true) : \"none\";\n    return [\n    React.createElement(\"div\", { key: \"area\", ref: ref(moveable, \"areaElement\"), className: className, style: {\n        top: \"0px\",\n        left: \"0px\",\n        width: \"\".concat(width, \"px\"),\n        height: \"\".concat(height, \"px\"),\n        transformOrigin: \"0 0\",\n        transform: transform\n      } }),\n    renderPieces(React)];\n\n  },\n  dragStart: function (moveable, _a) {\n    var datas = _a.datas,clientX = _a.clientX,clientY = _a.clientY,inputEvent = _a.inputEvent;\n    if (!inputEvent) {\n      return false;\n    }\n    datas.isDragArea = false;\n    var areaElement = moveable.areaElement;\n    var state = moveable.state;\n    var moveableClientRect = state.moveableClientRect,renderPoses = state.renderPoses,rootMatrix = state.rootMatrix,is3d = state.is3d;\n    var left = moveableClientRect.left,top = moveableClientRect.top;\n    var _b = getRect(renderPoses),relativeLeft = _b.left,relativeTop = _b.top,width = _b.width,height = _b.height;\n    var n = is3d ? 4 : 3;\n    var _c = __read(calculateInversePosition(rootMatrix, [clientX - left, clientY - top], n), 2),posX = _c[0],posY = _c[1];\n    posX -= relativeLeft;\n    posY -= relativeTop;\n    var rects = [\n    { left: relativeLeft, top: relativeTop, width: width, height: posY - 10 },\n    { left: relativeLeft, top: relativeTop, width: posX - 10, height: height },\n    { left: relativeLeft, top: relativeTop + posY + 10, width: width, height: height - posY - 10 },\n    { left: relativeLeft + posX + 10, top: relativeTop, width: width - posX - 10, height: height }];\n\n    var children = [].slice.call(areaElement.nextElementSibling.children);\n    rects.forEach(function (rect, i) {\n      children[i].style.cssText =\n      \"left: \".concat(rect.left, \"px;top: \").concat(rect.top, \"px; width: \").concat(rect.width, \"px; height: \").concat(rect.height, \"px;\");\n    });\n    addClass(areaElement, AVOID);\n    state.disableNativeEvent = true;\n    return;\n  },\n  drag: function (moveable, _a) {\n    var datas = _a.datas,inputEvent = _a.inputEvent;\n    this.enableNativeEvent(moveable);\n    if (!inputEvent) {\n      return false;\n    }\n    if (!datas.isDragArea) {\n      datas.isDragArea = true;\n      restoreStyle(moveable);\n    }\n  },\n  dragEnd: function (moveable, e) {\n    this.enableNativeEvent(moveable);\n    var inputEvent = e.inputEvent,datas = e.datas;\n    if (!inputEvent) {\n      return false;\n    }\n    if (!datas.isDragArea) {\n      restoreStyle(moveable);\n    }\n  },\n  dragGroupStart: function (moveable, e) {\n    return this.dragStart(moveable, e);\n  },\n  dragGroup: function (moveable, e) {\n    return this.drag(moveable, e);\n  },\n  dragGroupEnd: function (moveable, e) {\n    return this.dragEnd(moveable, e);\n  },\n  unset: function (moveable) {\n    restoreStyle(moveable);\n    moveable.state.disableNativeEvent = false;\n  },\n  enableNativeEvent: function (moveable) {\n    var state = moveable.state;\n    if (state.disableNativeEvent) {\n      requestAnimationFrame(function () {\n        state.disableNativeEvent = false;\n      });\n    }\n  }\n};\n/**\r\n * Add an event to the moveable area instead of the target for stopPropagation. (default: false, true in group)\r\n * @name Moveable#dragArea\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body, {\r\n *  dragArea: false,\r\n * });\r\n */\n/**\r\n * Set `pointerEvents: none;` css to pass events in dragArea. (default: false)\r\n * @name Moveable#passDragArea\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body, {\r\n *  dragArea: false,\r\n * });\r\n */\n\nvar Origin = makeAble(\"origin\", {\n  props: [\"origin\", \"svgOrigin\"],\n  render: function (moveable, React) {\n    var _a = moveable.props,zoom = _a.zoom,svgOrigin = _a.svgOrigin,groupable = _a.groupable;\n    var _b = moveable.getState(),beforeOrigin = _b.beforeOrigin,rotation = _b.rotation,svg = _b.svg,allMatrix = _b.allMatrix,is3d = _b.is3d,left = _b.left,top = _b.top,offsetWidth = _b.offsetWidth,offsetHeight = _b.offsetHeight;\n    var originStyle;\n    if (!groupable && svg && svgOrigin) {\n      var _c = __read(convertTransformOriginArray(svgOrigin, offsetWidth, offsetHeight), 2),originX = _c[0],originY = _c[1];\n      var n = is3d ? 4 : 3;\n      var result = calculatePosition(allMatrix, [originX, originY], n);\n      originStyle = getControlTransform(rotation, zoom, minus(result, [left, top]));\n    } else\n    {\n      originStyle = getControlTransform(rotation, zoom, beforeOrigin);\n    }\n    return [\n    React.createElement(\"div\", { className: prefix(\"control\", \"origin\"), style: originStyle, key: \"beforeOrigin\" })];\n\n  }\n});\n/**\r\n * Whether or not the origin controlbox will be visible or not (default: true)\r\n * @name Moveable#origin\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body);\r\n *\r\n * moveable.origin = true;\r\n */\n\nfunction getDefaultScrollPosition(e) {\n  var scrollContainer = e.scrollContainer;\n  return [\n  scrollContainer.scrollLeft,\n  scrollContainer.scrollTop];\n\n}\n/**\r\n * @namespace Moveable.Scrollable\r\n * @description Whether or not target can be scrolled to the scroll container (default: false)\r\n */\nvar Scrollable = {\n  name: \"scrollable\",\n  canPinch: true,\n  props: [\n  \"scrollable\",\n  \"scrollContainer\",\n  \"scrollThreshold\",\n  \"scrollThrottleTime\",\n  \"getScrollPosition\",\n  \"scrollOptions\"],\n\n  events: [\n  \"scroll\",\n  \"scrollGroup\"],\n\n  dragRelation: \"strong\",\n  dragStart: function (moveable, e) {\n    var props = moveable.props;\n    var _a = props.scrollContainer,scrollContainer = _a === void 0 ? moveable.getContainer() : _a,scrollOptions = props.scrollOptions;\n    var dragScroll = new DragScroll();\n    var scrollContainerElement = getRefTarget(scrollContainer, true);\n    e.datas.dragScroll = dragScroll;\n    moveable.state.dragScroll = dragScroll;\n    var gestoName = e.isControl ? \"controlGesto\" : \"targetGesto\";\n    var targets = e.targets;\n    dragScroll.on(\"scroll\", function (_a) {\n      var container = _a.container,direction = _a.direction;\n      var params = fillParams(moveable, e, {\n        scrollContainer: container,\n        direction: direction\n      });\n      var eventName = targets ? \"onScrollGroup\" : \"onScroll\";\n      if (targets) {\n        params.targets = targets;\n      }\n      triggerEvent(moveable, eventName, params);\n    }).on(\"move\", function (_a) {\n      var offsetX = _a.offsetX,offsetY = _a.offsetY,inputEvent = _a.inputEvent;\n      moveable[gestoName].scrollBy(offsetX, offsetY, inputEvent.inputEvent, false);\n    }).on(\"scrollDrag\", function (_a) {\n      var next = _a.next;\n      next(moveable[gestoName].getCurrentEvent());\n    });\n    dragScroll.dragStart(e, __assign({ container: scrollContainerElement }, scrollOptions));\n  },\n  checkScroll: function (moveable, e) {\n    var dragScroll = e.datas.dragScroll;\n    if (!dragScroll) {\n      return;\n    }\n    var _a = moveable.props,_b = _a.scrollContainer,scrollContainer = _b === void 0 ? moveable.getContainer() : _b,_c = _a.scrollThreshold,scrollThreshold = _c === void 0 ? 0 : _c,_d = _a.scrollThrottleTime,scrollThrottleTime = _d === void 0 ? 0 : _d,_e = _a.getScrollPosition,getScrollPosition = _e === void 0 ? getDefaultScrollPosition : _e,scrollOptions = _a.scrollOptions;\n    dragScroll.drag(e, __assign({ container: scrollContainer, threshold: scrollThreshold, throttleTime: scrollThrottleTime, getScrollPosition: function (ev) {\n        return getScrollPosition({ scrollContainer: ev.container, direction: ev.direction });\n      } }, scrollOptions));\n    return true;\n  },\n  drag: function (moveable, e) {\n    return this.checkScroll(moveable, e);\n  },\n  dragEnd: function (moveable, e) {\n    e.datas.dragScroll.dragEnd();\n    e.datas.dragScroll = null;\n  },\n  dragControlStart: function (moveable, e) {\n    return this.dragStart(moveable, __assign(__assign({}, e), { isControl: true }));\n  },\n  dragControl: function (moveable, e) {\n    return this.drag(moveable, e);\n  },\n  dragControlEnd: function (moveable, e) {\n    return this.dragEnd(moveable, e);\n  },\n  dragGroupStart: function (moveable, e) {\n    return this.dragStart(moveable, __assign(__assign({}, e), { targets: moveable.props.targets }));\n  },\n  dragGroup: function (moveable, e) {\n    return this.drag(moveable, __assign(__assign({}, e), { targets: moveable.props.targets }));\n  },\n  dragGroupEnd: function (moveable, e) {\n    return this.dragEnd(moveable, __assign(__assign({}, e), { targets: moveable.props.targets }));\n  },\n  dragGroupControlStart: function (moveable, e) {\n    return this.dragStart(moveable, __assign(__assign({}, e), { targets: moveable.props.targets, isControl: true }));\n  },\n  dragGroupControl: function (moveable, e) {\n    return this.drag(moveable, __assign(__assign({}, e), { targets: moveable.props.targets }));\n  },\n  dragGroupControEnd: function (moveable, e) {\n    return this.dragEnd(moveable, __assign(__assign({}, e), { targets: moveable.props.targets }));\n  },\n  unset: function (moveable) {\n    var _a;\n    var state = moveable.state;\n    (_a = state.dragScroll) === null || _a === void 0 ? void 0 : _a.dragEnd();\n    state.dragScroll = null;\n  }\n};\n/**\r\n * When the drag cursor leaves the scrollContainer, the `scroll` event occur to scroll.\r\n * @memberof Moveable.Scrollable\r\n * @event scroll\r\n * @param {Moveable.Scrollable.OnScroll} - Parameters for the `scroll` event\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body, {\r\n *     target: document.querySelector(\".target\"),\r\n * });\r\n * moveable.on(\"scroll\", ({ scrollContainer, direction }) => {\r\n *   scrollContainer.scrollLeft += direction[0] * 10;\r\n *   scrollContainer.scrollTop += direction[1] * 10;\r\n * });\r\n */\n/**\r\n * When the drag cursor leaves the scrollContainer, the `scrollGroup` event occur to scroll in group.\r\n * @memberof Moveable.Scrollable\r\n * @event scrollGroup\r\n * @param {Moveable.Scrollable.OnScrollGroup} - Parameters for the `scrollGroup` event\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body, {\r\n *     target: [].slice.call(document.querySelectorAll(\".target\")),\r\n * });\r\n * moveable.on(\"scroll\", ({ scrollContainer, direction }) => {\r\n *   scrollContainer.scrollLeft += direction[0] * 10;\r\n *   scrollContainer.scrollTop += direction[1] * 10;\r\n * });\r\n */\n\nvar Default = {\n  name: \"\",\n  props: [\n  \"target\",\n  \"dragTargetSelf\",\n  \"dragTarget\",\n  \"dragContainer\",\n  \"container\",\n  \"warpSelf\",\n  \"rootContainer\",\n  \"useResizeObserver\",\n  \"useMutationObserver\",\n  \"zoom\",\n  \"dragFocusedInput\",\n  \"transformOrigin\",\n  \"ables\",\n  \"className\",\n  \"pinchThreshold\",\n  \"pinchOutside\",\n  \"triggerAblesSimultaneously\",\n  \"checkInput\",\n  \"cspNonce\",\n  \"translateZ\",\n  \"hideDefaultLines\",\n  \"props\",\n  \"flushSync\",\n  \"stopPropagation\",\n  \"preventClickEventOnDrag\",\n  \"preventClickDefault\",\n  \"viewContainer\",\n  \"persistData\",\n  \"useAccuratePosition\",\n  \"firstRenderState\",\n  \"linePadding\",\n  \"controlPadding\",\n  \"preventDefault\",\n  \"preventRightClick\",\n  \"preventWheelClick\",\n  \"requestStyles\"],\n\n  events: [\n  \"changeTargets\"]\n\n};\n\nvar Padding = makeAble(\"padding\", {\n  props: [\"padding\"],\n  render: function (moveable, React) {\n    var props = moveable.props;\n    if (props.dragArea) {\n      return [];\n    }\n    var _a = getPaddingBox(props.padding || {}),left = _a.left,top = _a.top,right = _a.right,bottom = _a.bottom;\n    var _b = moveable.getState(),renderPoses = _b.renderPoses,pos1 = _b.pos1,pos2 = _b.pos2,pos3 = _b.pos3,pos4 = _b.pos4;\n    var poses = [pos1, pos2, pos3, pos4];\n    var paddingDirections = [];\n    if (left > 0) {\n      paddingDirections.push([0, 2]);\n    }\n    if (top > 0) {\n      paddingDirections.push([0, 1]);\n    }\n    if (right > 0) {\n      paddingDirections.push([1, 3]);\n    }\n    if (bottom > 0) {\n      paddingDirections.push([2, 3]);\n    }\n    return paddingDirections.map(function (_a, i) {\n      var _b = __read(_a, 2),dir1 = _b[0],dir2 = _b[1];\n      var paddingPos1 = poses[dir1];\n      var paddingPos2 = poses[dir2];\n      var paddingPos3 = renderPoses[dir1];\n      var paddingPos4 = renderPoses[dir2];\n      var h = createWarpMatrix([0, 0], [100, 0], [0, 100], [100, 100], paddingPos1, paddingPos2, paddingPos3, paddingPos4);\n      if (!h.length) {\n        return undefined;\n      }\n      return React.createElement(\"div\", { key: \"padding\".concat(i), className: prefix(\"padding\"), style: {\n          transform: makeMatrixCSS(h, true)\n        } });\n    });\n  }\n});\n/**\r\n * Add padding around the target to increase the drag area.\r\n * @name Moveable#padding\r\n * @default null\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body, {\r\n *  target: document.querySelector(\".target\"),\r\n *  padding: { left: 0, top: 0, right: 0, bottom: 0 },\r\n * });\r\n * moveable.padding = { left: 10, top: 10, right: 10, bottom: 10 },\r\n * moveable.updateRect();\r\n */\n\nvar RADIUS_DIRECTIONS = [\"nw\", \"ne\", \"se\", \"sw\"];\nfunction calculateRatio(values, size) {\n  var sumSize = values[0] + values[1];\n  var sumRatio = sumSize > size ? size / sumSize : 1;\n  values[0] *= sumRatio;\n  values[1] = size - values[1] * sumRatio;\n  return values;\n}\nvar HORIZONTAL_RADIUS_ORDER = [1, 2, 5, 6];\nvar VERTICAL_RADIUS_ORDER = [0, 3, 4, 7];\nvar HORIZONTAL_RADIUS_DIRECTIONS = [1, -1, -1, 1];\nvar VERTICAL_RADIUS_DIRECTIONS = [1, 1, -1, -1];\nfunction getRadiusStyles(nextPoses, isRelative, width, height, left, top, right, bottom) {\n  if (left === void 0) {left = 0;}\n  if (top === void 0) {top = 0;}\n  if (right === void 0) {right = width;}\n  if (bottom === void 0) {bottom = height;}\n  var clipStyles = [];\n  var isVertical = false;\n  var radiusPoses = nextPoses.filter(function (pos) {return !pos.virtual;});\n  var raws = radiusPoses.map(function (posInfo) {\n    var horizontal = posInfo.horizontal,vertical = posInfo.vertical,pos = posInfo.pos;\n    if (vertical && !isVertical) {\n      isVertical = true;\n      clipStyles.push(\"/\");\n    }\n    if (isVertical) {\n      var rawPos = Math.max(0, vertical === 1 ? pos[1] - top : bottom - pos[1]);\n      clipStyles.push(convertCSSSize(rawPos, height, isRelative));\n      return rawPos;\n    } else\n    {\n      var rawPos = Math.max(0, horizontal === 1 ? pos[0] - left : right - pos[0]);\n      clipStyles.push(convertCSSSize(rawPos, width, isRelative));\n      return rawPos;\n    }\n  });\n  return {\n    radiusPoses: radiusPoses,\n    styles: clipStyles,\n    raws: raws\n  };\n}\nfunction getRadiusRange(controlPoses) {\n  // [start, length]\n  var horizontalRange = [0, 0];\n  var verticalRange = [0, 0];\n  var length = controlPoses.length;\n  for (var i = 0; i < length; ++i) {\n    var clipPose = controlPoses[i];\n    if (!clipPose.sub) {\n      continue;\n    }\n    if (clipPose.horizontal) {\n      if (horizontalRange[1] === 0) {\n        horizontalRange[0] = i;\n      }\n      horizontalRange[1] = i - horizontalRange[0] + 1;\n      verticalRange[0] = i + 1;\n    }\n    if (clipPose.vertical) {\n      if (verticalRange[1] === 0) {\n        verticalRange[0] = i;\n      }\n      verticalRange[1] = i - verticalRange[0] + 1;\n    }\n  }\n  return {\n    horizontalRange: horizontalRange,\n    verticalRange: verticalRange\n  };\n}\nfunction getRadiusValues(values, width, height, left, top, minCounts, full) {\n  var _a, _b, _c, _d;\n  if (minCounts === void 0) {minCounts = [0, 0];}\n  if (full === void 0) {full = false;}\n  var splitIndex = values.indexOf(\"/\");\n  var splitLength = (splitIndex > -1 ? values.slice(0, splitIndex) : values).length;\n  var horizontalValues = values.slice(0, splitLength);\n  var verticalValues = values.slice(splitLength + 1);\n  var horizontalValuesLength = horizontalValues.length;\n  var verticalValuesLength = verticalValues.length;\n  var hasVerticalValues = verticalValuesLength > 0;\n  var _e = __read(horizontalValues, 4),_f = _e[0],nwValue = _f === void 0 ? \"0px\" : _f,_g = _e[1],neValue = _g === void 0 ? nwValue : _g,_h = _e[2],seValue = _h === void 0 ? nwValue : _h,_j = _e[3],swValue = _j === void 0 ? neValue : _j;\n  var _k = __read(verticalValues, 4),_l = _k[0],wnValue = _l === void 0 ? nwValue : _l,_m = _k[1],enValue = _m === void 0 ? hasVerticalValues ? wnValue : neValue : _m,_o = _k[2],esValue = _o === void 0 ? hasVerticalValues ? wnValue : seValue : _o,_p = _k[3],wsValue = _p === void 0 ? hasVerticalValues ? enValue : swValue : _p;\n  var horizontalRawPoses = [nwValue, neValue, seValue, swValue].map(function (pos) {return convertUnitSize(pos, width);});\n  var verticalRawPoses = [wnValue, enValue, esValue, wsValue].map(function (pos) {return convertUnitSize(pos, height);});\n  var horizontalPoses = horizontalRawPoses.slice();\n  var verticalPoses = verticalRawPoses.slice();\n  _a = __read(calculateRatio([horizontalPoses[0], horizontalPoses[1]], width), 2), horizontalPoses[0] = _a[0], horizontalPoses[1] = _a[1];\n  _b = __read(calculateRatio([horizontalPoses[3], horizontalPoses[2]], width), 2), horizontalPoses[3] = _b[0], horizontalPoses[2] = _b[1];\n  _c = __read(calculateRatio([verticalPoses[0], verticalPoses[3]], height), 2), verticalPoses[0] = _c[0], verticalPoses[3] = _c[1];\n  _d = __read(calculateRatio([verticalPoses[1], verticalPoses[2]], height), 2), verticalPoses[1] = _d[0], verticalPoses[2] = _d[1];\n  var nextHorizontalPoses = full ?\n  horizontalPoses :\n  horizontalPoses.slice(0, Math.max(minCounts[0], horizontalValuesLength));\n  var nextVerticalPoses = full ?\n  verticalPoses :\n  verticalPoses.slice(0, Math.max(minCounts[1], verticalValuesLength));\n  return __spreadArray(__spreadArray([], __read(nextHorizontalPoses.map(function (pos, i) {\n    var direction = RADIUS_DIRECTIONS[i];\n    return {\n      virtual: i >= horizontalValuesLength,\n      horizontal: HORIZONTAL_RADIUS_DIRECTIONS[i],\n      vertical: 0,\n      pos: [left + pos, top + (VERTICAL_RADIUS_DIRECTIONS[i] === -1 ? height : 0)],\n      sub: true,\n      raw: horizontalRawPoses[i],\n      direction: direction\n    };\n  })), false), __read(nextVerticalPoses.map(function (pos, i) {\n    var direction = RADIUS_DIRECTIONS[i];\n    return {\n      virtual: i >= verticalValuesLength,\n      horizontal: 0,\n      vertical: VERTICAL_RADIUS_DIRECTIONS[i],\n      pos: [left + (HORIZONTAL_RADIUS_DIRECTIONS[i] === -1 ? width : 0), top + pos],\n      sub: true,\n      raw: verticalRawPoses[i],\n      direction: direction\n    };\n  })), false);\n}\nfunction removeRadiusPos(controlPoses, poses, index, startIndex, length) {\n  if (length === void 0) {length = poses.length;}\n  var _a = getRadiusRange(controlPoses.slice(startIndex)),horizontalRange = _a.horizontalRange,verticalRange = _a.verticalRange;\n  var radiuslIndex = index - startIndex;\n  var deleteCount = 0;\n  if (radiuslIndex === 0) {\n    deleteCount = length;\n  } else\n  if (radiuslIndex > 0 && radiuslIndex < horizontalRange[1]) {\n    deleteCount = horizontalRange[1] - radiuslIndex;\n  } else\n  if (radiuslIndex >= verticalRange[0]) {\n    deleteCount = verticalRange[0] + verticalRange[1] - radiuslIndex;\n  } else\n  {\n    return;\n  }\n  controlPoses.splice(index, deleteCount);\n  poses.splice(index, deleteCount);\n}\nfunction addRadiusPos(controlPoses, poses, startIndex, horizontalIndex, verticalIndex, distX, distY, right, bottom, left, top) {\n  if (left === void 0) {left = 0;}\n  if (top === void 0) {top = 0;}\n  var _a = getRadiusRange(controlPoses.slice(startIndex)),horizontalRange = _a.horizontalRange,verticalRange = _a.verticalRange;\n  if (horizontalIndex > -1) {\n    var radiusX = HORIZONTAL_RADIUS_DIRECTIONS[horizontalIndex] === 1 ?\n    distX - left :\n    right - distX;\n    for (var i = horizontalRange[1]; i <= horizontalIndex; ++i) {\n      var y = VERTICAL_RADIUS_DIRECTIONS[i] === 1 ? top : bottom;\n      var x = 0;\n      if (horizontalIndex === i) {\n        x = distX;\n      } else\n      if (i === 0) {\n        x = left + radiusX;\n      } else\n      if (HORIZONTAL_RADIUS_DIRECTIONS[i] === -1) {\n        x = right - (poses[startIndex][0] - left);\n      }\n      controlPoses.splice(startIndex + i, 0, {\n        horizontal: HORIZONTAL_RADIUS_DIRECTIONS[i],\n        vertical: 0,\n        pos: [x, y]\n      });\n      poses.splice(startIndex + i, 0, [x, y]);\n      if (i === 0) {\n        break;\n      }\n    }\n  } else\n  if (verticalIndex > -1) {\n    var radiusY = VERTICAL_RADIUS_DIRECTIONS[verticalIndex] === 1 ?\n    distY - top :\n    bottom - distY;\n    if (horizontalRange[1] === 0 && verticalRange[1] === 0) {\n      var pos = [\n      left + radiusY,\n      top];\n\n      controlPoses.push({\n        horizontal: HORIZONTAL_RADIUS_DIRECTIONS[0],\n        vertical: 0,\n        pos: pos\n      });\n      poses.push(pos);\n    }\n    var startVerticalIndex = verticalRange[0];\n    for (var i = verticalRange[1]; i <= verticalIndex; ++i) {\n      var x = HORIZONTAL_RADIUS_DIRECTIONS[i] === 1 ? left : right;\n      var y = 0;\n      if (verticalIndex === i) {\n        y = distY;\n      } else\n      if (i === 0) {\n        y = top + radiusY;\n      } else\n      if (VERTICAL_RADIUS_DIRECTIONS[i] === 1) {\n        y = poses[startIndex + startVerticalIndex][1];\n      } else\n      if (VERTICAL_RADIUS_DIRECTIONS[i] === -1) {\n        y = bottom - (poses[startIndex + startVerticalIndex][1] - top);\n      }\n      controlPoses.push({\n        horizontal: 0,\n        vertical: VERTICAL_RADIUS_DIRECTIONS[i],\n        pos: [x, y]\n      });\n      poses.push([x, y]);\n      if (i === 0) {\n        break;\n      }\n    }\n  }\n}\nfunction splitRadiusPoses(controlPoses, raws) {\n  if (raws === void 0) {raws = controlPoses.map(function (pos) {return pos.raw;});}\n  var horizontals = controlPoses.\n  map(function (pos, i) {return pos.horizontal ? raws[i] : null;}).filter(function (pos) {return pos != null;});\n  var verticals = controlPoses.\n  map(function (pos, i) {return pos.vertical ? raws[i] : null;}).filter(function (pos) {return pos != null;});\n  return {\n    horizontals: horizontals,\n    verticals: verticals\n  };\n}\n\nvar CLIP_DIRECTIONS = [\n[0, -1, \"n\"],\n[1, 0, \"e\"]];\n\nvar CLIP_RECT_DIRECTIONS = [\n[-1, -1, \"nw\"],\n[0, -1, \"n\"],\n[1, -1, \"ne\"],\n[1, 0, \"e\"],\n[1, 1, \"se\"],\n[0, 1, \"s\"],\n[-1, 1, \"sw\"],\n[-1, 0, \"w\"]];\n\n// 1 2 5 6 0 3 4 7\n// 0 1 2 3 4 5 6 7\nfunction getClipStyles(moveable, clipPath, poses) {\n  var clipRelative = moveable.props.clipRelative;\n  var _a = moveable.state,width = _a.width,height = _a.height;\n  var _b = clipPath,clipType = _b.type,clipPoses = _b.poses;\n  var isRect = clipType === \"rect\";\n  var isCircle = clipType === \"circle\";\n  if (clipType === \"polygon\") {\n    return poses.map(function (pos) {return \"\".concat(convertCSSSize(pos[0], width, clipRelative), \" \").concat(convertCSSSize(pos[1], height, clipRelative));});\n  } else\n  if (isRect || clipType === \"inset\") {\n    var top_1 = poses[1][1];\n    var right = poses[3][0];\n    var left = poses[7][0];\n    var bottom = poses[5][1];\n    if (isRect) {\n      return [\n      top_1,\n      right,\n      bottom,\n      left].\n      map(function (pos) {return \"\".concat(pos, \"px\");});\n    }\n    var clipStyles = [top_1, width - right, height - bottom, left].\n    map(function (pos, i) {return convertCSSSize(pos, i % 2 ? width : height, clipRelative);});\n    if (poses.length > 8) {\n      var _c = __read(minus(poses[4], poses[0]), 2),subWidth = _c[0],subHeight = _c[1];\n      clipStyles.push.apply(clipStyles, __spreadArray([\"round\"], __read(getRadiusStyles(clipPoses.slice(8).map(function (info, i) {\n        return __assign(__assign({}, info), { pos: poses[i] });\n      }), clipRelative, subWidth, subHeight, left, top_1, right, bottom).styles), false));\n    }\n    return clipStyles;\n  } else\n  if (isCircle || clipType === \"ellipse\") {\n    var center = poses[0];\n    var ry = convertCSSSize(abs(poses[1][1] - center[1]), isCircle ? Math.sqrt((width * width + height * height) / 2) : height, clipRelative);\n    var clipStyles = isCircle ? [ry] :\n    [convertCSSSize(abs(poses[2][0] - center[0]), width, clipRelative), ry];\n    clipStyles.push(\"at\", convertCSSSize(center[0], width, clipRelative), convertCSSSize(center[1], height, clipRelative));\n    return clipStyles;\n  }\n}\nfunction getRectPoses(top, right, bottom, left) {\n  var xs = [left, (left + right) / 2, right];\n  var ys = [top, (top + bottom) / 2, bottom];\n  return CLIP_RECT_DIRECTIONS.map(function (_a) {\n    var _b = __read(_a, 3),dirx = _b[0],diry = _b[1],dir = _b[2];\n    var x = xs[dirx + 1];\n    var y = ys[diry + 1];\n    return {\n      vertical: abs(diry),\n      horizontal: abs(dirx),\n      direction: dir,\n      pos: [x, y]\n    };\n  });\n}\nfunction getControlSize(controlPoses) {\n  var xRange = [Infinity, -Infinity];\n  var yRange = [Infinity, -Infinity];\n  controlPoses.forEach(function (_a) {\n    var pos = _a.pos;\n    xRange[0] = Math.min(xRange[0], pos[0]);\n    xRange[1] = Math.max(xRange[1], pos[0]);\n    yRange[0] = Math.min(yRange[0], pos[1]);\n    yRange[1] = Math.max(yRange[1], pos[1]);\n  });\n  return [\n  abs(xRange[1] - xRange[0]),\n  abs(yRange[1] - yRange[0])];\n\n}\nfunction getClipPath(target, width, height, defaultClip, customClip) {\n  var _a, _b, _c, _d, _e, _f, _g, _h, _j;\n  if (!target) {\n    return;\n  }\n  var clipText = customClip;\n  if (!clipText) {\n    var getStyle = getCachedStyle(target);\n    var clipPath = getStyle(\"clipPath\");\n    clipText = clipPath !== \"none\" ? clipPath : getStyle(\"clip\");\n  }\n  if (!clipText || clipText === \"none\" || clipText === \"auto\") {\n    clipText = defaultClip;\n    if (!clipText) {\n      return;\n    }\n  }\n  var _k = splitBracket(clipText),_l = _k.prefix,clipPrefix = _l === void 0 ? clipText : _l,_m = _k.value,value = _m === void 0 ? \"\" : _m;\n  var isCircle = clipPrefix === \"circle\";\n  var splitter = \" \";\n  if (clipPrefix === \"polygon\") {\n    var values = splitComma(value || \"0% 0%, 100% 0%, 100% 100%, 0% 100%\");\n    splitter = \",\";\n    var poses = values.map(function (pos) {\n      var _a = __read(pos.split(\" \"), 2),xPos = _a[0],yPos = _a[1];\n      return {\n        vertical: 1,\n        horizontal: 1,\n        pos: [\n        convertUnitSize(xPos, width),\n        convertUnitSize(yPos, height)]\n\n      };\n    });\n    var minMaxs = getMinMaxs(poses.map(function (pos) {return pos.pos;}));\n    return {\n      type: clipPrefix,\n      clipText: clipText,\n      poses: poses,\n      splitter: splitter,\n      left: minMaxs.minX,\n      right: minMaxs.maxX,\n      top: minMaxs.minY,\n      bottom: minMaxs.maxY\n    };\n  } else\n  if (isCircle || clipPrefix === \"ellipse\") {\n    var xPos = \"\";\n    var yPos = \"\";\n    var radiusX_1 = 0;\n    var radiusY_1 = 0;\n    var values = splitSpace(value);\n    if (isCircle) {\n      var radius = \"\";\n      _a = __read(values, 4), _b = _a[0], radius = _b === void 0 ? \"50%\" : _b, _c = _a[2], xPos = _c === void 0 ? \"50%\" : _c, _d = _a[3], yPos = _d === void 0 ? \"50%\" : _d;\n      radiusX_1 = convertUnitSize(radius, Math.sqrt((width * width + height * height) / 2));\n      radiusY_1 = radiusX_1;\n    } else\n    {\n      var xRadius = \"\";\n      var yRadius = \"\";\n      _e = __read(values, 5), _f = _e[0], xRadius = _f === void 0 ? \"50%\" : _f, _g = _e[1], yRadius = _g === void 0 ? \"50%\" : _g, _h = _e[3], xPos = _h === void 0 ? \"50%\" : _h, _j = _e[4], yPos = _j === void 0 ? \"50%\" : _j;\n      radiusX_1 = convertUnitSize(xRadius, width);\n      radiusY_1 = convertUnitSize(yRadius, height);\n    }\n    var centerPos_1 = [\n    convertUnitSize(xPos, width),\n    convertUnitSize(yPos, height)];\n\n    var poses = __spreadArray([\n    {\n      vertical: 1,\n      horizontal: 1,\n      pos: centerPos_1,\n      direction: \"nesw\"\n    }],\n    __read(CLIP_DIRECTIONS.slice(0, isCircle ? 1 : 2).map(function (dir) {return {\n        vertical: abs(dir[1]),\n        horizontal: dir[0],\n        direction: dir[2],\n        sub: true,\n        pos: [\n        centerPos_1[0] + dir[0] * radiusX_1,\n        centerPos_1[1] + dir[1] * radiusY_1]\n\n      };})), false);\n    return {\n      type: clipPrefix,\n      clipText: clipText,\n      radiusX: radiusX_1,\n      radiusY: radiusY_1,\n      left: centerPos_1[0] - radiusX_1,\n      top: centerPos_1[1] - radiusY_1,\n      right: centerPos_1[0] + radiusX_1,\n      bottom: centerPos_1[1] + radiusY_1,\n      poses: poses,\n      splitter: splitter\n    };\n  } else\n  if (clipPrefix === \"inset\") {\n    var values = splitSpace(value || \"0 0 0 0\");\n    var roundIndex = values.indexOf(\"round\");\n    var rectLength = (roundIndex > -1 ? values.slice(0, roundIndex) : values).length;\n    var radiusValues = values.slice(rectLength + 1);\n    var _o = __read(values.slice(0, rectLength), 4),topValue = _o[0],_p = _o[1],rightValue = _p === void 0 ? topValue : _p,_q = _o[2],bottomValue = _q === void 0 ? topValue : _q,_r = _o[3],leftValue = _r === void 0 ? rightValue : _r;\n    var _s = __read([topValue, bottomValue].map(function (pos) {return convertUnitSize(pos, height);}), 2),top_2 = _s[0],bottom = _s[1];\n    var _t = __read([leftValue, rightValue].map(function (pos) {return convertUnitSize(pos, width);}), 2),left = _t[0],right = _t[1];\n    var nextRight = width - right;\n    var nextBottom = height - bottom;\n    var radiusPoses = getRadiusValues(radiusValues, nextRight - left, nextBottom - top_2, left, top_2);\n    var poses = __spreadArray(__spreadArray([], __read(getRectPoses(top_2, nextRight, nextBottom, left)), false), __read(radiusPoses), false);\n    return {\n      type: \"inset\",\n      clipText: clipText,\n      poses: poses,\n      top: top_2,\n      left: left,\n      right: nextRight,\n      bottom: nextBottom,\n      radius: radiusValues,\n      splitter: splitter\n    };\n  } else\n  if (clipPrefix === \"rect\") {\n    // top right bottom left\n    var values = splitComma(value || \"0px, \".concat(width, \"px, \").concat(height, \"px, 0px\"));\n    splitter = \",\";\n    var _u = __read(values.map(function (pos) {\n        var posValue = splitUnit(pos).value;\n        return posValue;\n      }), 4),top_3 = _u[0],right = _u[1],bottom = _u[2],left = _u[3];\n    var poses = getRectPoses(top_3, right, bottom, left);\n    return {\n      type: \"rect\",\n      clipText: clipText,\n      poses: poses,\n      top: top_3,\n      right: right,\n      bottom: bottom,\n      left: left,\n      values: values,\n      splitter: splitter\n    };\n  }\n  return;\n}\n\nfunction moveControlPos(controlPoses, index, dist, isRect, keepRatio) {\n  var _a = controlPoses[index],direction = _a.direction,sub = _a.sub;\n  var dists = controlPoses.map(function () {return [0, 0];});\n  var directions = direction ? direction.split(\"\") : [];\n  if (isRect && index < 8) {\n    var verticalDirections = directions.filter(function (dir) {return dir === \"w\" || dir === \"e\";});\n    var horizontalDirections = directions.filter(function (dir) {return dir === \"n\" || dir === \"s\";});\n    var verticalDirection_1 = verticalDirections[0];\n    var horizontalDirection_1 = horizontalDirections[0];\n    dists[index] = dist;\n    var _b = __read(getControlSize(controlPoses), 2),width = _b[0],height = _b[1];\n    var ratio = width && height ? width / height : 0;\n    if (ratio && keepRatio) {\n      // 0 1 2\n      // 7   3\n      // 6 5 4\n      var fixedIndex = (index + 4) % 8;\n      var fixedPosition = controlPoses[fixedIndex].pos;\n      var sizeDirection = [0, 0];\n      if (direction.indexOf(\"w\") > -1) {\n        sizeDirection[0] = -1;\n      } else\n      if (direction.indexOf(\"e\") > -1) {\n        sizeDirection[0] = 1;\n      }\n      if (direction.indexOf(\"n\") > -1) {\n        sizeDirection[1] = -1;\n      } else\n      if (direction.indexOf(\"s\") > -1) {\n        sizeDirection[1] = 1;\n      }\n      var nextDist = getSizeDistByDist([width, height], dist, ratio, sizeDirection, true);\n      var nextWidth = width + nextDist[0];\n      var nextHeight = height + nextDist[1];\n      var top_1 = fixedPosition[1];\n      var bottom = fixedPosition[1];\n      var left = fixedPosition[0];\n      var right = fixedPosition[0];\n      if (sizeDirection[0] === -1) {\n        left = right - nextWidth;\n      } else\n      if (sizeDirection[0] === 1) {\n        right = left + nextWidth;\n      } else\n      {\n        left = left - nextWidth / 2;\n        right = right + nextWidth / 2;\n      }\n      if (sizeDirection[1] === -1) {\n        top_1 = bottom - nextHeight;\n      } else\n      if (sizeDirection[1] === 1) {\n        bottom = top_1 + nextHeight;\n      } else\n      {\n        top_1 = bottom - nextHeight / 2;\n        bottom = top_1 + nextHeight;\n      }\n      var nextControlPoses_1 = getRectPoses(top_1, right, bottom, left);\n      controlPoses.forEach(function (controlPose, i) {\n        dists[i][0] = nextControlPoses_1[i].pos[0] - controlPose.pos[0];\n        dists[i][1] = nextControlPoses_1[i].pos[1] - controlPose.pos[1];\n      });\n    } else\n    {\n      controlPoses.forEach(function (controlPose, i) {\n        var controlDir = controlPose.direction;\n        if (!controlDir) {\n          return;\n        }\n        if (controlDir.indexOf(verticalDirection_1) > -1) {\n          dists[i][0] = dist[0];\n        }\n        if (controlDir.indexOf(horizontalDirection_1) > -1) {\n          dists[i][1] = dist[1];\n        }\n      });\n      if (verticalDirection_1) {\n        dists[1][0] = dist[0] / 2;\n        dists[5][0] = dist[0] / 2;\n      }\n      if (horizontalDirection_1) {\n        dists[3][1] = dist[1] / 2;\n        dists[7][1] = dist[1] / 2;\n      }\n    }\n  } else\n  if (direction && !sub) {\n    directions.forEach(function (dir) {\n      var isVertical = dir === \"n\" || dir === \"s\";\n      controlPoses.forEach(function (controlPose, i) {\n        var dirDir = controlPose.direction,dirHorizontal = controlPose.horizontal,dirVertical = controlPose.vertical;\n        if (!dirDir || dirDir.indexOf(dir) === -1) {\n          return;\n        }\n        dists[i] = [\n        isVertical || !dirHorizontal ? 0 : dist[0],\n        !isVertical || !dirVertical ? 0 : dist[1]];\n\n      });\n    });\n  } else\n  {\n    dists[index] = dist;\n  }\n  return dists;\n}\nfunction addClipPath(moveable, e) {\n  var _a = __read(calculatePointerDist(moveable, e), 2),distX = _a[0],distY = _a[1];\n  var _b = e.datas,clipPath = _b.clipPath,clipIndex = _b.clipIndex;\n  var _c = clipPath,clipType = _c.type,clipPoses = _c.poses,splitter = _c.splitter;\n  var poses = clipPoses.map(function (pos) {return pos.pos;});\n  if (clipType === \"polygon\") {\n    poses.splice(clipIndex, 0, [distX, distY]);\n  } else\n  if (clipType === \"inset\") {\n    var horizontalIndex = HORIZONTAL_RADIUS_ORDER.indexOf(clipIndex);\n    var verticalIndex = VERTICAL_RADIUS_ORDER.indexOf(clipIndex);\n    var length_1 = clipPoses.length;\n    addRadiusPos(clipPoses, poses, 8, horizontalIndex, verticalIndex, distX, distY, poses[4][0], poses[4][1], poses[0][0], poses[0][1]);\n    if (length_1 === clipPoses.length) {\n      return;\n    }\n  } else\n  {\n    return;\n  }\n  var clipStyles = getClipStyles(moveable, clipPath, poses);\n  var clipStyle = \"\".concat(clipType, \"(\").concat(clipStyles.join(splitter), \")\");\n  triggerEvent(moveable, \"onClip\", fillParams(moveable, e, __assign({ clipEventType: \"added\", clipType: clipType, poses: poses, clipStyles: clipStyles, clipStyle: clipStyle, distX: 0, distY: 0 }, fillCSSObject({\n    clipPath: clipStyle\n  }, e))));\n}\nfunction removeClipPath(moveable, e) {\n  var _a = e.datas,clipPath = _a.clipPath,clipIndex = _a.clipIndex;\n  var _b = clipPath,clipType = _b.type,clipPoses = _b.poses,splitter = _b.splitter;\n  var poses = clipPoses.map(function (pos) {return pos.pos;});\n  var length = poses.length;\n  if (clipType === \"polygon\") {\n    clipPoses.splice(clipIndex, 1);\n    poses.splice(clipIndex, 1);\n  } else\n  if (clipType === \"inset\") {\n    if (clipIndex < 8) {\n      return;\n    }\n    removeRadiusPos(clipPoses, poses, clipIndex, 8, length);\n    if (length === clipPoses.length) {\n      return;\n    }\n  } else\n  {\n    return;\n  }\n  var clipStyles = getClipStyles(moveable, clipPath, poses);\n  var clipStyle = \"\".concat(clipType, \"(\").concat(clipStyles.join(splitter), \")\");\n  triggerEvent(moveable, \"onClip\", fillParams(moveable, e, __assign({ clipEventType: \"removed\", clipType: clipType, poses: poses, clipStyles: clipStyles, clipStyle: clipStyle, distX: 0, distY: 0 }, fillCSSObject({\n    clipPath: clipStyle\n  }, e))));\n}\n/**\r\n * @namespace Moveable.Clippable\r\n * @description Whether to clip the target.\r\n */\nvar Clippable = {\n  name: \"clippable\",\n  props: [\n  \"clippable\",\n  \"defaultClipPath\",\n  \"customClipPath\",\n  \"keepRatio\",\n  \"clipRelative\",\n  \"clipArea\",\n  \"dragWithClip\",\n  \"clipTargetBounds\",\n  \"clipVerticalGuidelines\",\n  \"clipHorizontalGuidelines\",\n  \"clipSnapThreshold\"],\n\n  events: [\n  \"clipStart\",\n  \"clip\",\n  \"clipEnd\"],\n\n  css: [\n  \".control.clip-control {\\nbackground: #6d6;\\ncursor: pointer;\\n}\\n.control.clip-control.clip-radius {\\nbackground: #d66;\\n}\\n.line.clip-line {\\nbackground: #6e6;\\ncursor: move;\\nz-index: 1;\\n}\\n.clip-area {\\nposition: absolute;\\ntop: 0;\\nleft: 0;\\n}\\n.clip-ellipse {\\nposition: absolute;\\ncursor: move;\\nborder: 1px solid #6d6;\\nborder: var(--zoompx) solid #6d6;\\nborder-radius: 50%;\\ntransform-origin: 0px 0px;\\n}\",\n  \":host {\\n--bounds-color: #d66;\\n}\",\n  \".guideline {\\npointer-events: none;\\nz-index: 2;\\n}\",\n  \".line.guideline.bounds {\\nbackground: #d66;\\nbackground: var(--bounds-color);\\n}\"],\n\n  render: function (moveable, React) {\n    var _a = moveable.props,customClipPath = _a.customClipPath,defaultClipPath = _a.defaultClipPath,clipArea = _a.clipArea,zoom = _a.zoom,groupable = _a.groupable;\n    var _b = moveable.getState(),target = _b.target,width = _b.width,height = _b.height,allMatrix = _b.allMatrix,is3d = _b.is3d,left = _b.left,top = _b.top,pos1 = _b.pos1,pos2 = _b.pos2,pos3 = _b.pos3,pos4 = _b.pos4,clipPathState = _b.clipPathState,snapBoundInfos = _b.snapBoundInfos,rotationRad = _b.rotation;\n    if (!target || groupable) {\n      return [];\n    }\n    var clipPath = getClipPath(target, width, height, defaultClipPath || \"inset\", clipPathState || customClipPath);\n    if (!clipPath) {\n      return [];\n    }\n    var n = is3d ? 4 : 3;\n    var type = clipPath.type;\n    var clipPoses = clipPath.poses;\n    var poses = clipPoses.map(function (pos) {\n      // return [x, y];\n      var calculatedPos = calculatePosition(allMatrix, pos.pos, n);\n      return [\n      calculatedPos[0] - left,\n      calculatedPos[1] - top];\n\n    });\n    var controls = [];\n    var lines = [];\n    var isRect = type === \"rect\";\n    var isInset = type === \"inset\";\n    var isPolygon = type === \"polygon\";\n    if (isRect || isInset || isPolygon) {\n      var linePoses_1 = isInset ? poses.slice(0, 8) : poses;\n      lines = linePoses_1.map(function (to, i) {\n        var from = i === 0 ? linePoses_1[linePoses_1.length - 1] : linePoses_1[i - 1];\n        var rad = getRad(from, to);\n        var dist = getDiagonalSize(from, to);\n        return React.createElement(\"div\", { key: \"clipLine\".concat(i), className: prefix(\"line\", \"clip-line\", \"snap-control\"), \"data-clip-index\": i, style: {\n            width: \"\".concat(dist, \"px\"),\n            transform: \"translate(\".concat(from[0], \"px, \").concat(from[1], \"px) rotate(\").concat(rad, \"rad) scaleY(\").concat(zoom, \")\")\n          } });\n      });\n    }\n    controls = poses.map(function (pos, i) {\n      return React.createElement(\"div\", { key: \"clipControl\".concat(i), className: prefix(\"control\", \"clip-control\", \"snap-control\"), \"data-clip-index\": i, style: {\n          transform: \"translate(\".concat(pos[0], \"px, \").concat(pos[1], \"px) rotate(\").concat(rotationRad, \"rad) scale(\").concat(zoom, \")\")\n        } });\n    });\n    if (isInset) {\n      controls.push.apply(controls, __spreadArray([], __read(poses.slice(8).map(function (pos, i) {\n        return React.createElement(\"div\", { key: \"clipRadiusControl\".concat(i), className: prefix(\"control\", \"clip-control\", \"clip-radius\", \"snap-control\"), \"data-clip-index\": 8 + i, style: {\n            transform: \"translate(\".concat(pos[0], \"px, \").concat(pos[1], \"px) rotate(\").concat(rotationRad, \"rad) scale(\").concat(zoom, \")\")\n          } });\n      })), false));\n    }\n    if (type === \"circle\" || type === \"ellipse\") {\n      var clipLeft = clipPath.left,clipTop = clipPath.top,radiusX = clipPath.radiusX,radiusY = clipPath.radiusY;\n      var _c = __read(minus(calculatePosition(allMatrix, [clipLeft, clipTop], n), calculatePosition(allMatrix, [0, 0], n)), 2),distLeft = _c[0],distTop = _c[1];\n      var ellipseClipPath = \"none\";\n      if (!clipArea) {\n        var piece = Math.max(10, radiusX / 5, radiusY / 5);\n        var areaPoses = [];\n        for (var i = 0; i <= piece; ++i) {\n          var rad = Math.PI * 2 / piece * i;\n          areaPoses.push([\n          radiusX + (radiusX - zoom) * Math.cos(rad),\n          radiusY + (radiusY - zoom) * Math.sin(rad)]\n          );\n        }\n        areaPoses.push([radiusX, -2]);\n        areaPoses.push([-2, -2]);\n        areaPoses.push([-2, radiusY * 2 + 2]);\n        areaPoses.push([radiusX * 2 + 2, radiusY * 2 + 2]);\n        areaPoses.push([radiusX * 2 + 2, -2]);\n        areaPoses.push([radiusX, -2]);\n        ellipseClipPath = \"polygon(\".concat(areaPoses.map(function (pos) {return \"\".concat(pos[0], \"px \").concat(pos[1], \"px\");}).join(\", \"), \")\");\n      }\n      controls.push(React.createElement(\"div\", { key: \"clipEllipse\", className: prefix(\"clip-ellipse\", \"snap-control\"), style: {\n          width: \"\".concat(radiusX * 2, \"px\"),\n          height: \"\".concat(radiusY * 2, \"px\"),\n          clipPath: ellipseClipPath,\n          transform: \"translate(\".concat(-left + distLeft, \"px, \").concat(-top + distTop, \"px) \").concat(makeMatrixCSS(allMatrix))\n        } }));\n    }\n    if (clipArea) {\n      var _d = getRect(__spreadArray([pos1, pos2, pos3, pos4], __read(poses), false)),allWidth = _d.width,allHeight = _d.height,allLeft_1 = _d.left,allTop_1 = _d.top;\n      if (isPolygon || isRect || isInset) {\n        var areaPoses = isInset ? poses.slice(0, 8) : poses;\n        controls.push(React.createElement(\"div\", { key: \"clipArea\", className: prefix(\"clip-area\", \"snap-control\"), style: {\n            width: \"\".concat(allWidth, \"px\"),\n            height: \"\".concat(allHeight, \"px\"),\n            transform: \"translate(\".concat(allLeft_1, \"px, \").concat(allTop_1, \"px)\"),\n            clipPath: \"polygon(\".concat(areaPoses.map(function (pos) {return \"\".concat(pos[0] - allLeft_1, \"px \").concat(pos[1] - allTop_1, \"px\");}).join(\", \"), \")\")\n          } }));\n      }\n    }\n    if (snapBoundInfos) {\n      [\"vertical\", \"horizontal\"].forEach(function (directionType) {\n        var info = snapBoundInfos[directionType];\n        var isHorizontal = directionType === \"horizontal\";\n        if (info.isSnap) {\n          lines.push.apply(lines, __spreadArray([], __read(info.snap.posInfos.map(function (_a, i) {\n            var pos = _a.pos;\n            var snapPos1 = minus(calculatePosition(allMatrix, isHorizontal ? [0, pos] : [pos, 0], n), [left, top]);\n            var snapPos2 = minus(calculatePosition(allMatrix, isHorizontal ? [width, pos] : [pos, height], n), [left, top]);\n            return renderLine(React, \"\", snapPos1, snapPos2, zoom, \"clip\".concat(directionType, \"snap\").concat(i), \"guideline\");\n          })), false));\n        }\n        if (info.isBound) {\n          lines.push.apply(lines, __spreadArray([], __read(info.bounds.map(function (_a, i) {\n            var pos = _a.pos;\n            var snapPos1 = minus(calculatePosition(allMatrix, isHorizontal ? [0, pos] : [pos, 0], n), [left, top]);\n            var snapPos2 = minus(calculatePosition(allMatrix, isHorizontal ? [width, pos] : [pos, height], n), [left, top]);\n            return renderLine(React, \"\", snapPos1, snapPos2, zoom, \"clip\".concat(directionType, \"bounds\").concat(i), \"guideline\", \"bounds\", \"bold\");\n          })), false));\n        }\n      });\n    }\n    return __spreadArray(__spreadArray([], __read(controls), false), __read(lines), false);\n  },\n  dragControlCondition: function (moveable, e) {\n    return e.inputEvent && (e.inputEvent.target.getAttribute(\"class\") || \"\").indexOf(\"clip\") > -1;\n  },\n  dragStart: function (moveable, e) {\n    var props = moveable.props;\n    var _a = props.dragWithClip,dragWithClip = _a === void 0 ? true : _a;\n    if (dragWithClip) {\n      return false;\n    }\n    return this.dragControlStart(moveable, e);\n  },\n  drag: function (moveable, e) {\n    return this.dragControl(moveable, __assign(__assign({}, e), { isDragTarget: true }));\n  },\n  dragEnd: function (moveable, e) {\n    return this.dragControlEnd(moveable, e);\n  },\n  dragControlStart: function (moveable, e) {\n    var state = moveable.state;\n    var _a = moveable.props,defaultClipPath = _a.defaultClipPath,customClipPath = _a.customClipPath;\n    var target = state.target,width = state.width,height = state.height;\n    var inputTarget = e.inputEvent ? e.inputEvent.target : null;\n    var className = inputTarget && inputTarget.getAttribute(\"class\") || \"\";\n    var datas = e.datas;\n    var clipPath = getClipPath(target, width, height, defaultClipPath || \"inset\", customClipPath);\n    if (!clipPath) {\n      return false;\n    }\n    var clipText = clipPath.clipText,type = clipPath.type,poses = clipPath.poses;\n    var result = triggerEvent(moveable, \"onClipStart\", fillParams(moveable, e, {\n      clipType: type,\n      clipStyle: clipText,\n      poses: poses.map(function (pos) {return pos.pos;})\n    }));\n    if (result === false) {\n      datas.isClipStart = false;\n      return false;\n    }\n    datas.isControl = className && className.indexOf(\"clip-control\") > -1;\n    datas.isLine = className.indexOf(\"clip-line\") > -1;\n    datas.isArea = className.indexOf(\"clip-area\") > -1 || className.indexOf(\"clip-ellipse\") > -1;\n    datas.clipIndex = inputTarget ? parseInt(inputTarget.getAttribute(\"data-clip-index\"), 10) : -1;\n    datas.clipPath = clipPath;\n    datas.isClipStart = true;\n    state.clipPathState = clipText;\n    setDragStart(moveable, e);\n    return true;\n  },\n  dragControl: function (moveable, e) {\n    var _a, _b, _c;\n    var datas = e.datas,originalDatas = e.originalDatas,isDragTarget = e.isDragTarget;\n    if (!datas.isClipStart) {\n      return false;\n    }\n    var _d = datas,isControl = _d.isControl,isLine = _d.isLine,isArea = _d.isArea,clipIndex = _d.clipIndex,clipPath = _d.clipPath;\n    if (!clipPath) {\n      return false;\n    }\n    var props = getProps(moveable.props, \"clippable\");\n    var keepRatio = props.keepRatio;\n    var distX = 0;\n    var distY = 0;\n    var originalDraggable = originalDatas.draggable;\n    var originalDist = getDragDist(e);\n    if (isDragTarget && originalDraggable) {\n      _a = __read(originalDraggable.prevBeforeDist, 2), distX = _a[0], distY = _a[1];\n    } else\n    {\n      _b = __read(originalDist, 2), distX = _b[0], distY = _b[1];\n    }\n    var firstDist = [distX, distY];\n    var state = moveable.state;\n    var width = state.width,height = state.height;\n    var isDragWithTarget = !isArea && !isControl && !isLine;\n    var clipType = clipPath.type,clipPoses = clipPath.poses,splitter = clipPath.splitter;\n    var poses = clipPoses.map(function (pos) {return pos.pos;});\n    if (isDragWithTarget) {\n      distX = -distX;\n      distY = -distY;\n    }\n    var isAll = !isControl || clipPoses[clipIndex].direction === \"nesw\";\n    var isRect = clipType === \"inset\" || clipType === \"rect\";\n    var dists = clipPoses.map(function () {return [0, 0];});\n    if (isControl && !isAll) {\n      var _e = clipPoses[clipIndex],horizontal = _e.horizontal,vertical = _e.vertical;\n      var dist = [\n      distX * abs(horizontal),\n      distY * abs(vertical)];\n\n      dists = moveControlPos(clipPoses, clipIndex, dist, isRect, keepRatio);\n    } else\n    if (isAll) {\n      dists = poses.map(function () {return [distX, distY];});\n    }\n    var nextPoses = poses.map(function (pos, i) {return plus(pos, dists[i]);});\n    var guidePoses = __spreadArray([], __read(nextPoses), false);\n    state.snapBoundInfos = null;\n    var isCircle = clipPath.type === \"circle\";\n    var isEllipse = clipPath.type === \"ellipse\";\n    if (isCircle || isEllipse) {\n      var guideRect = getRect(nextPoses);\n      var ry = abs(guideRect.bottom - guideRect.top);\n      var rx = abs(isEllipse ? guideRect.right - guideRect.left : ry);\n      var bottom = nextPoses[0][1] + ry;\n      var left = nextPoses[0][0] - rx;\n      var right = nextPoses[0][0] + rx;\n      // right\n      if (isCircle) {\n        guidePoses.push([right, guideRect.bottom]);\n        dists.push([1, 0]);\n      }\n      // bottom\n      guidePoses.push([guideRect.left, bottom]);\n      dists.push([0, 1]);\n      // left\n      guidePoses.push([left, guideRect.bottom]);\n      dists.push([1, 0]);\n    }\n    var guidelines = getDefaultGuidelines((props.clipHorizontalGuidelines || []).map(function (v) {return convertUnitSize(\"\".concat(v), height);}), (props.clipVerticalGuidelines || []).map(function (v) {return convertUnitSize(\"\".concat(v), width);}), width, height);\n    var guideXPoses = [];\n    var guideYPoses = [];\n    if (isCircle || isEllipse) {\n      guideXPoses = [guidePoses[4][0], guidePoses[2][0]];\n      guideYPoses = [guidePoses[1][1], guidePoses[3][1]];\n    } else\n    if (isRect) {\n      var rectPoses = [guidePoses[0], guidePoses[2], guidePoses[4], guidePoses[6]];\n      var rectDists_1 = [dists[0], dists[2], dists[4], dists[6]];\n      guideXPoses = rectPoses.filter(function (_, i) {return rectDists_1[i][0];}).map(function (pos) {return pos[0];});\n      guideYPoses = rectPoses.filter(function (_, i) {return rectDists_1[i][1];}).map(function (pos) {return pos[1];});\n    } else\n    {\n      guideXPoses = guidePoses.filter(function (_, i) {return dists[i][0];}).map(function (pos) {return pos[0];});\n      guideYPoses = guidePoses.filter(function (_, i) {return dists[i][1];}).map(function (pos) {return pos[1];});\n    }\n    var boundDelta = [0, 0];\n    var _f = checkSnapBounds(guidelines, props.clipTargetBounds && { left: 0, top: 0, right: width, bottom: height }, guideXPoses, guideYPoses, 5, 5),horizontalSnapInfo = _f.horizontal,verticalSnapInfo = _f.vertical;\n    var snapOffsetY = horizontalSnapInfo.offset;\n    var snapOffsetX = verticalSnapInfo.offset;\n    if (horizontalSnapInfo.isBound) {\n      boundDelta[1] += snapOffsetY;\n    }\n    if (verticalSnapInfo.isBound) {\n      boundDelta[0] += snapOffsetX;\n    }\n    if ((isEllipse || isCircle) && dists[0][0] === 0 && dists[0][1] === 0) {\n      var guideRect = getRect(nextPoses);\n      var cy = guideRect.bottom - guideRect.top;\n      var cx = isEllipse ? guideRect.right - guideRect.left : cy;\n      var distSnapX = verticalSnapInfo.isBound ?\n      abs(snapOffsetX) :\n      verticalSnapInfo.snapIndex === 0 ? -snapOffsetX : snapOffsetX;\n      var distSnapY = horizontalSnapInfo.isBound ?\n      abs(snapOffsetY) :\n      horizontalSnapInfo.snapIndex === 0 ? -snapOffsetY : snapOffsetY;\n      cx -= distSnapX;\n      cy -= distSnapY;\n      if (isCircle) {\n        cy = checkSnapBoundPriority(verticalSnapInfo, horizontalSnapInfo) > 0 ? cy : cx;\n        cx = cy;\n      }\n      var center = guidePoses[0];\n      guidePoses[1][1] = center[1] - cy;\n      guidePoses[2][0] = center[0] + cx;\n      guidePoses[3][1] = center[1] + cy;\n      guidePoses[4][0] = center[0] - cx;\n    } else\n    if (isRect && keepRatio && isControl) {\n      var _g = __read(getControlSize(clipPoses), 2),width_1 = _g[0],height_1 = _g[1];\n      var ratio = width_1 && height_1 ? width_1 / height_1 : 0;\n      var clipPose = clipPoses[clipIndex];\n      var direction = clipPose.direction || \"\";\n      var top_2 = guidePoses[1][1];\n      var bottom = guidePoses[5][1];\n      var left = guidePoses[7][0];\n      var right = guidePoses[3][0];\n      if (abs(snapOffsetY) <= abs(snapOffsetX)) {\n        snapOffsetY = sign(snapOffsetY) * abs(snapOffsetX) / ratio;\n      } else\n      {\n        snapOffsetX = sign(snapOffsetX) * abs(snapOffsetY) * ratio;\n      }\n      if (direction.indexOf(\"w\") > -1) {\n        left -= snapOffsetX;\n      } else\n      if (direction.indexOf(\"e\") > -1) {\n        right -= snapOffsetX;\n      } else\n      {\n        left += snapOffsetX / 2;\n        right -= snapOffsetX / 2;\n      }\n      if (direction.indexOf(\"n\") > -1) {\n        top_2 -= snapOffsetY;\n      } else\n      if (direction.indexOf(\"s\") > -1) {\n        bottom -= snapOffsetY;\n      } else\n      {\n        top_2 += snapOffsetY / 2;\n        bottom -= snapOffsetY / 2;\n      }\n      var nextControlPoses_2 = getRectPoses(top_2, right, bottom, left);\n      guidePoses.forEach(function (pos, i) {\n        var _a;\n        _a = __read(nextControlPoses_2[i].pos, 2), pos[0] = _a[0], pos[1] = _a[1];\n      });\n    } else\n    {\n      guidePoses.forEach(function (pos, j) {\n        var dist = dists[j];\n        if (dist[0]) {\n          pos[0] -= snapOffsetX;\n        }\n        if (dist[1]) {\n          pos[1] -= snapOffsetY;\n        }\n      });\n    }\n    var nextClipStyles = getClipStyles(moveable, clipPath, nextPoses);\n    var clipStyle = \"\".concat(clipType, \"(\").concat(nextClipStyles.join(splitter), \")\");\n    state.clipPathState = clipStyle;\n    if (isCircle || isEllipse) {\n      guideXPoses = [guidePoses[4][0], guidePoses[2][0]];\n      guideYPoses = [guidePoses[1][1], guidePoses[3][1]];\n    } else\n    if (isRect) {\n      var rectPoses = [guidePoses[0], guidePoses[2], guidePoses[4], guidePoses[6]];\n      guideXPoses = rectPoses.map(function (pos) {return pos[0];});\n      guideYPoses = rectPoses.map(function (pos) {return pos[1];});\n    } else\n    {\n      guideXPoses = guidePoses.map(function (pos) {return pos[0];});\n      guideYPoses = guidePoses.map(function (pos) {return pos[1];});\n    }\n    state.snapBoundInfos = checkSnapBounds(guidelines, props.clipTargetBounds && { left: 0, top: 0, right: width, bottom: height }, guideXPoses, guideYPoses, 1, 1);\n    if (originalDraggable) {\n      var is3d = state.is3d,allMatrix = state.allMatrix;\n      var n = is3d ? 4 : 3;\n      var dragDist = boundDelta;\n      if (isDragTarget) {\n        dragDist = [\n        firstDist[0] + boundDelta[0] - originalDist[0],\n        firstDist[1] + boundDelta[1] - originalDist[1]];\n\n      }\n      originalDraggable.deltaOffset = multiply(allMatrix, [dragDist[0], dragDist[1], 0, 0], n);\n    }\n    triggerEvent(moveable, \"onClip\", fillParams(moveable, e, __assign({ clipEventType: \"changed\", clipType: clipType, poses: nextPoses, clipStyle: clipStyle, clipStyles: nextClipStyles, distX: distX, distY: distY }, fillCSSObject((_c = {},\n    _c[clipType === \"rect\" ? \"clip\" : \"clipPath\"] = clipStyle,\n    _c), e))));\n    return true;\n  },\n  dragControlEnd: function (moveable, e) {\n    this.unset(moveable);\n    var isDrag = e.isDrag,datas = e.datas,isDouble = e.isDouble;\n    var isLine = datas.isLine,isClipStart = datas.isClipStart,isControl = datas.isControl;\n    if (!isClipStart) {\n      return false;\n    }\n    triggerEvent(moveable, \"onClipEnd\", fillEndParams(moveable, e, {}));\n    if (isDouble) {\n      if (isControl) {\n        removeClipPath(moveable, e);\n      } else\n      if (isLine) {\n        // add\n        addClipPath(moveable, e);\n      }\n    }\n    return isDouble || isDrag;\n  },\n  unset: function (moveable) {\n    moveable.state.clipPathState = \"\";\n    moveable.state.snapBoundInfos = null;\n  }\n};\n/**\r\n * Whether to clip the target. (default: false)\r\n * @name Moveable.Clippable#clippable\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body, {\r\n *     clippable: true,\r\n *     defaultClipPath: \"inset\",\r\n *     customClipPath: \"\",\r\n *     clipRelative: false,\r\n *     clipArea: false,\r\n *     dragWithClip: true,\r\n * });\r\n * moveable.on(\"clipStart\", e => {\r\n *     console.log(e);\r\n * }).on(\"clip\", e => {\r\n *     if (e.clipType === \"rect\") {\r\n *         e.target.style.clip = e.clipStyle;\r\n *     } else {\r\n *         e.target.style.clipPath = e.clipStyle;\r\n *     }\r\n * }).on(\"clipEnd\", e => {\r\n *     console.log(e);\r\n * });\r\n */\n/**\r\n *  If clippath is not set, the default value can be set. (defaultClipPath < style < customClipPath < dragging clipPath)\r\n * @name Moveable.Clippable#defaultClipPath\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body, {\r\n *     clippable: true,\r\n *     defaultClipPath: \"inset\",\r\n *     customClipPath: \"\",\r\n *     clipRelative: false,\r\n *     clipArea: false,\r\n *     dragWithClip: true,\r\n * });\r\n * moveable.on(\"clipStart\", e => {\r\n *     console.log(e);\r\n * }).on(\"clip\", e => {\r\n *     if (e.clipType === \"rect\") {\r\n *         e.target.style.clip = e.clipStyle;\r\n *     } else {\r\n *         e.target.style.clipPath = e.clipStyle;\r\n *     }\r\n * }).on(\"clipEnd\", e => {\r\n *     console.log(e);\r\n * });\r\n */\n/**\r\n * % Can be used instead of the absolute px (`rect` not possible) (default: false)\r\n * @name Moveable.Clippable#clipRelative\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body, {\r\n *     clippable: true,\r\n *     defaultClipPath: \"inset\",\r\n *     customClipPath: \"\",\r\n *     clipRelative: false,\r\n *     clipArea: false,\r\n *     dragWithClip: true,\r\n * });\r\n * moveable.on(\"clipStart\", e => {\r\n *     console.log(e);\r\n * }).on(\"clip\", e => {\r\n *     if (e.clipType === \"rect\") {\r\n *         e.target.style.clip = e.clipStyle;\r\n *     } else {\r\n *         e.target.style.clipPath = e.clipStyle;\r\n *     }\r\n * }).on(\"clipEnd\", e => {\r\n *     console.log(e);\r\n * });\r\n */\n/**\r\n * You can force the custom clipPath. (defaultClipPath < style < customClipPath < dragging clipPath)\r\n * @name Moveable.Clippable#customClipPath\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body, {\r\n *     clippable: true,\r\n *     defaultClipPath: \"inset\",\r\n *     customClipPath: \"\",\r\n *     clipRelative: false,\r\n *     clipArea: false,\r\n *     dragWithClip: true,\r\n * });\r\n * moveable.on(\"clipStart\", e => {\r\n *     console.log(e);\r\n * }).on(\"clip\", e => {\r\n *     if (e.clipType === \"rect\") {\r\n *         e.target.style.clip = e.clipStyle;\r\n *     } else {\r\n *         e.target.style.clipPath = e.clipStyle;\r\n *     }\r\n * }).on(\"clipEnd\", e => {\r\n *     console.log(e);\r\n * });\r\n */\n/**\r\n * When dragging the target, the clip also moves. (default: true)\r\n * @name Moveable.Clippable#dragWithClip\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body, {\r\n *     clippable: true,\r\n *     defaultClipPath: \"inset\",\r\n *     customClipPath: \"\",\r\n *     clipRelative: false,\r\n *     clipArea: false,\r\n *     dragWithClip: true,\r\n * });\r\n * moveable.on(\"clipStart\", e => {\r\n *     console.log(e);\r\n * }).on(\"clip\", e => {\r\n *     if (e.clipType === \"rect\") {\r\n *         e.target.style.clip = e.clipStyle;\r\n *     } else {\r\n *         e.target.style.clipPath = e.clipStyle;\r\n *     }\r\n * }).on(\"clipEnd\", e => {\r\n *     console.log(e);\r\n * });\r\n */\n/**\r\n * You can drag the clip by setting clipArea.\r\n * @name Moveable.Clippable#clipArea\r\n * @default false\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body, {\r\n *     clippable: true,\r\n *     defaultClipPath: \"inset\",\r\n *     customClipPath: \"\",\r\n *     clipRelative: false,\r\n *     clipArea: false,\r\n *     dragWithClip: true,\r\n * });\r\n * moveable.on(\"clipStart\", e => {\r\n *     console.log(e);\r\n * }).on(\"clip\", e => {\r\n *     if (e.clipType === \"rect\") {\r\n *         e.target.style.clip = e.clipStyle;\r\n *     } else {\r\n *         e.target.style.clipPath = e.clipStyle;\r\n *     }\r\n * }).on(\"clipEnd\", e => {\r\n *     console.log(e);\r\n * });\r\n */\n/**\r\n* Whether the clip is bound to the target.\r\n* @name Moveable.Clippable#clipTargetBounds\r\n* @default false\r\n* @example\r\n* import Moveable from \"moveable\";\r\n*\r\n* const moveable = new Moveable(document.body, {\r\n*     clippable: true,\r\n*     defaultClipPath: \"inset\",\r\n*     customClipPath: \"\",\r\n*     clipRelative: false,\r\n*     clipArea: false,\r\n*     dragWithClip: true,\r\n*     clipTargetBounds: true,\r\n* });\r\n* moveable.on(\"clipStart\", e => {\r\n*     console.log(e);\r\n* }).on(\"clip\", e => {\r\n*     if (e.clipType === \"rect\") {\r\n*         e.target.style.clip = e.clipStyle;\r\n*     } else {\r\n*         e.target.style.clipPath = e.clipStyle;\r\n*     }\r\n* }).on(\"clipEnd\", e => {\r\n*     console.log(e);\r\n* });\r\n*/\n/**\r\n * Add clip guidelines in the vertical direction.\r\n * @name Moveable.Clippable#clipVerticalGuidelines\r\n * @default 0\r\n * @example\r\n* import Moveable from \"moveable\";\r\n*\r\n* const moveable = new Moveable(document.body, {\r\n*     clippable: true,\r\n*     defaultClipPath: \"inset\",\r\n*     customClipPath: \"\",\r\n*     clipRelative: false,\r\n*     clipArea: false,\r\n*     dragWithClip: true,\r\n*     clipVerticalGuidelines: [0, 100, 200],\r\n*     clipHorizontalGuidelines: [0, 100, 200],\r\n*     clipSnapThreshold: 5,\r\n* });\r\n*/\n/**\r\n* Add clip guidelines in the horizontal direction.\r\n* @name Moveable.Clippable#clipHorizontalGuidelines\r\n* @default []\r\n* @example\r\n* import Moveable from \"moveable\";\r\n*\r\n* const moveable = new Moveable(document.body, {\r\n*     clippable: true,\r\n*     defaultClipPath: \"inset\",\r\n*     customClipPath: \"\",\r\n*     clipRelative: false,\r\n*     clipArea: false,\r\n*     dragWithClip: true,\r\n*     clipVerticalGuidelines: [0, 100, 200],\r\n*     clipHorizontalGuidelines: [0, 100, 200],\r\n*     clipSnapThreshold: 5,\r\n* });\r\n*/\n/**\r\n* istance value that can snap to clip guidelines.\r\n* @name Moveable.Clippable#clipSnapThreshold\r\n* @default 5\r\n* @example\r\n* import Moveable from \"moveable\";\r\n*\r\n* const moveable = new Moveable(document.body, {\r\n*     clippable: true,\r\n*     defaultClipPath: \"inset\",\r\n*     customClipPath: \"\",\r\n*     clipRelative: false,\r\n*     clipArea: false,\r\n*     dragWithClip: true,\r\n*     clipVerticalGuidelines: [0, 100, 200],\r\n*     clipHorizontalGuidelines: [0, 100, 200],\r\n*     clipSnapThreshold: 5,\r\n* });\r\n*/\n/**\r\n * When drag start the clip area or controls, the `clipStart` event is called.\r\n * @memberof Moveable.Clippable\r\n * @event clipStart\r\n * @param {Moveable.Clippable.OnClipStart} - Parameters for the `clipStart` event\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body, {\r\n *     clippable: true,\r\n *     defaultClipPath: \"inset\",\r\n *     customClipPath: \"\",\r\n *     clipRelative: false,\r\n *     clipArea: false,\r\n *     dragWithClip: true,\r\n * });\r\n * moveable.on(\"clipStart\", e => {\r\n *     console.log(e);\r\n * }).on(\"clip\", e => {\r\n *     if (e.clipType === \"rect\") {\r\n *         e.target.style.clip = e.clipStyle;\r\n *     } else {\r\n *         e.target.style.clipPath = e.clipStyle;\r\n *     }\r\n * }).on(\"clipEnd\", e => {\r\n *     console.log(e);\r\n * });\r\n */\n/**\r\n * When drag the clip area or controls, the `clip` event is called.\r\n * @memberof Moveable.Clippable\r\n * @event clip\r\n * @param {Moveable.Clippable.OnClip} - Parameters for the `clip` event\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body, {\r\n *     clippable: true,\r\n *     defaultClipPath: \"inset\",\r\n *     customClipPath: \"\",\r\n *     clipRelative: false,\r\n *     clipArea: false,\r\n *     dragWithClip: true,\r\n * });\r\n * moveable.on(\"clipStart\", e => {\r\n *     console.log(e);\r\n * }).on(\"clip\", e => {\r\n *     if (e.clipType === \"rect\") {\r\n *         e.target.style.clip = e.clipStyle;\r\n *     } else {\r\n *         e.target.style.clipPath = e.clipStyle;\r\n *     }\r\n * }).on(\"clipEnd\", e => {\r\n *     console.log(e);\r\n * });\r\n */\n/**\r\n * When drag end the clip area or controls, the `clipEnd` event is called.\r\n * @memberof Moveable.Clippable\r\n * @event clipEnd\r\n * @param {Moveable.Clippable.OnClipEnd} - Parameters for the `clipEnd` event\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body, {\r\n *     clippable: true,\r\n *     defaultClipPath: \"inset\",\r\n *     customClipPath: \"\",\r\n *     clipRelative: false,\r\n *     clipArea: false,\r\n *     dragWithClip: true,\r\n * });\r\n * moveable.on(\"clipStart\", e => {\r\n *     console.log(e);\r\n * }).on(\"clip\", e => {\r\n *     if (e.clipType === \"rect\") {\r\n *         e.target.style.clip = e.clipStyle;\r\n *     } else {\r\n *         e.target.style.clipPath = e.clipStyle;\r\n *     }\r\n * }).on(\"clipEnd\", e => {\r\n *     console.log(e);\r\n * });\r\n */\n\n/**\r\n * @namespace OriginDraggable\r\n * @memberof Moveable\r\n * @description Whether to drag origin (default: false)\r\n */\nvar OriginDraggable = {\n  name: \"originDraggable\",\n  props: [\n  \"originDraggable\",\n  \"originRelative\"],\n\n  events: [\n  \"dragOriginStart\",\n  \"dragOrigin\",\n  \"dragOriginEnd\"],\n\n  css: [\n  \":host[data-able-origindraggable] .control.origin {\\npointer-events: auto;\\n}\"],\n\n  dragControlCondition: function (_, e) {\n    if (e.isRequest) {\n      return e.requestAble === \"originDraggable\";\n    }\n    return hasClass(e.inputEvent.target, prefix(\"origin\"));\n  },\n  dragControlStart: function (moveable, e) {\n    var datas = e.datas;\n    setDragStart(moveable, e);\n    var params = fillParams(moveable, e, {\n      dragStart: Draggable.dragStart(moveable, new CustomGesto().dragStart([0, 0], e))\n    });\n    var result = triggerEvent(moveable, \"onDragOriginStart\", params);\n    datas.startOrigin = moveable.state.transformOrigin;\n    datas.startTargetOrigin = moveable.state.targetOrigin;\n    datas.prevOrigin = [0, 0];\n    datas.isDragOrigin = true;\n    if (result === false) {\n      datas.isDragOrigin = false;\n      return false;\n    }\n    return params;\n  },\n  dragControl: function (moveable, e) {\n    var datas = e.datas,isPinch = e.isPinch,isRequest = e.isRequest;\n    if (!datas.isDragOrigin) {\n      return false;\n    }\n    var _a = __read(getDragDist(e), 2),distX = _a[0],distY = _a[1];\n    var state = moveable.state;\n    var width = state.width,height = state.height,offsetMatrix = state.offsetMatrix,targetMatrix = state.targetMatrix,is3d = state.is3d;\n    var _b = moveable.props.originRelative,originRelative = _b === void 0 ? true : _b;\n    var n = is3d ? 4 : 3;\n    var dist = [distX, distY];\n    if (isRequest) {\n      var distOrigin = e.distOrigin;\n      if (distOrigin[0] || distOrigin[1]) {\n        dist = distOrigin;\n      }\n    }\n    var origin = plus(datas.startOrigin, dist);\n    var targetOrigin = plus(datas.startTargetOrigin, dist);\n    var delta = minus(dist, datas.prevOrigin);\n    var nextMatrix = getNextMatrix(offsetMatrix, targetMatrix, origin, n);\n    var rect = moveable.getRect();\n    var nextRect = getRect(calculatePoses(nextMatrix, width, height, n));\n    var dragDelta = [\n    rect.left - nextRect.left,\n    rect.top - nextRect.top];\n\n    datas.prevOrigin = dist;\n    var transformOrigin = [\n    convertCSSSize(targetOrigin[0], width, originRelative),\n    convertCSSSize(targetOrigin[1], height, originRelative)].\n    join(\" \");\n    var result = Draggable.drag(moveable, setCustomDrag(e, moveable.state, dragDelta, !!isPinch, false));\n    var params = fillParams(moveable, e, __assign(__assign({ width: width, height: height, origin: origin, dist: dist, delta: delta, transformOrigin: transformOrigin, drag: result }, fillCSSObject({\n      transformOrigin: transformOrigin,\n      transform: result.transform\n    }, e)), { afterTransform: result.transform }));\n    triggerEvent(moveable, \"onDragOrigin\", params);\n    return params;\n  },\n  dragControlEnd: function (moveable, e) {\n    var datas = e.datas;\n    if (!datas.isDragOrigin) {\n      return false;\n    }\n    triggerEvent(moveable, \"onDragOriginEnd\", fillEndParams(moveable, e, {}));\n    return true;\n  },\n  dragGroupControlCondition: function (moveable, e) {\n    return this.dragControlCondition(moveable, e);\n  },\n  dragGroupControlStart: function (moveable, e) {\n    var params = this.dragControlStart(moveable, e);\n    if (!params) {\n      return false;\n    }\n    return true;\n  },\n  dragGroupControl: function (moveable, e) {\n    var params = this.dragControl(moveable, e);\n    if (!params) {\n      return false;\n    }\n    moveable.transformOrigin = params.transformOrigin;\n    return true;\n  },\n  /**\r\n  * @method Moveable.OriginDraggable#request\r\n  * @param {object} e - the OriginDraggable's request parameter\r\n  * @param {number} [e.x] - x position\r\n  * @param {number} [e.y] - y position\r\n  * @param {number} [e.deltaX] - x number to move\r\n  * @param {number} [e.deltaY] - y number to move\r\n  * @param {array} [e.deltaOrigin] - left, top number to move transform-origin\r\n  * @param {array} [e.origin] - transform-origin position\r\n  * @param {number} [e.isInstant] - Whether to execute the request instantly\r\n  * @return {Moveable.Requester} Moveable Requester\r\n  * @example\r\n   * // Instantly Request (requestStart - request - requestEnd)\r\n  * // Use Relative Value\r\n  * moveable.request(\"originDraggable\", { deltaX: 10, deltaY: 10 }, true);\r\n  * // Use Absolute Value\r\n  * moveable.request(\"originDraggable\", { x: 200, y: 100 }, true);\r\n  * // Use Transform Value\r\n  * moveable.request(\"originDraggable\", { deltaOrigin: [10, 0] }, true);\r\n  * moveable.request(\"originDraggable\", { origin: [100, 0] }, true);\r\n  * // requestStart\r\n  * const requester = moveable.request(\"originDraggable\");\r\n  *\r\n  * // request\r\n  * // Use Relative Value\r\n  * requester.request({ deltaX: 10, deltaY: 10 });\r\n  * requester.request({ deltaX: 10, deltaY: 10 });\r\n  * requester.request({ deltaX: 10, deltaY: 10 });\r\n  * // Use Absolute Value\r\n  * moveable.request(\"originDraggable\", { x: 200, y: 100 });\r\n  * moveable.request(\"originDraggable\", { x: 220, y: 100 });\r\n  * moveable.request(\"originDraggable\", { x: 240, y: 100 });\r\n  *\r\n  * // requestEnd\r\n  * requester.requestEnd();\r\n  */\n\n  request: function (moveable) {\n    var datas = {};\n    var rect = moveable.getRect();\n    var distX = 0;\n    var distY = 0;\n    var transformOrigin = rect.transformOrigin;\n    var distOrigin = [0, 0];\n    return {\n      isControl: true,\n      requestStart: function () {\n        return { datas: datas };\n      },\n      request: function (e) {\n        if (\"deltaOrigin\" in e) {\n          distOrigin[0] += e.deltaOrigin[0];\n          distOrigin[1] += e.deltaOrigin[1];\n        } else\n        if (\"origin\" in e) {\n          distOrigin[0] = e.origin[0] - transformOrigin[0];\n          distOrigin[1] = e.origin[1] - transformOrigin[1];\n        } else\n        {\n          if (\"x\" in e) {\n            distX = e.x - rect.left;\n          } else\n          if (\"deltaX\" in e) {\n            distX += e.deltaX;\n          }\n          if (\"y\" in e) {\n            distY = e.y - rect.top;\n          } else\n          if (\"deltaY\" in e) {\n            distY += e.deltaY;\n          }\n        }\n        return { datas: datas, distX: distX, distY: distY, distOrigin: distOrigin };\n      },\n      requestEnd: function () {\n        return { datas: datas, isDrag: true };\n      }\n    };\n  }\n};\n/**\r\n * Whether to drag origin (default: false)\r\n * @name Moveable.OriginDraggable#originDraggable\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body, {\r\n *     originDraggable: true,\r\n * });\r\n * let translate = [0, 0];\r\n * moveable.on(\"dragOriginStart\", e => {\r\n *     e.dragStart && e.dragStart.set(translate);\r\n * }).on(\"dragOrigin\", e => {\r\n *     translate = e.drag.beforeTranslate;\r\n *     e.target.style.cssText\r\n *         = `transform-origin: ${e.transformOrigin};`\r\n *         + `transform: translate(${translate[0]}px, ${translate[1]}px)`;\r\n * }).on(\"dragOriginEnd\", e => {\r\n *     console.log(e);\r\n * });\r\n */\n/**\r\n * % Can be used instead of the absolute px (default: true)\r\n * @name Moveable.OriginDraggable#originRelative\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body, {\r\n *     originDraggable: true,\r\n *     originRelative: false,\r\n * });\r\n * moveable.originRelative = true;\r\n */\n/**\r\n* When drag start the origin, the `dragOriginStart` event is called.\r\n* @memberof Moveable.OriginDraggable\r\n* @event dragOriginStart\r\n* @param {Moveable.OriginDraggable.OnDragOriginStart} - Parameters for the `dragOriginStart` event\r\n* @example\r\n* import Moveable from \"moveable\";\r\n*\r\n* const moveable = new Moveable(document.body, {\r\n*     originDraggable: true,\r\n* });\r\n* let translate = [0, 0];\r\n* moveable.on(\"dragOriginStart\", e => {\r\n*     e.dragStart && e.dragStart.set(translate);\r\n* }).on(\"dragOrigin\", e => {\r\n*     translate = e.drag.beforeTranslate;\r\n*     e.target.style.cssText\r\n*         = `transform-origin: ${e.transformOrigin};`\r\n*         + `transform: translate(${translate[0]}px, ${translate[1]}px)`;\r\n* }).on(\"dragOriginEnd\", e => {\r\n*     console.log(e);\r\n* });\r\n*/\n/**\r\n* When drag the origin, the `dragOrigin` event is called.\r\n* @memberof Moveable.OriginDraggable\r\n* @event dragOrigin\r\n* @param {Moveable.OriginDraggable.OnDragOrigin} - Parameters for the `dragOrigin` event\r\n* @example\r\n* import Moveable from \"moveable\";\r\n*\r\n* const moveable = new Moveable(document.body, {\r\n*     originDraggable: true,\r\n* });\r\n* let translate = [0, 0];\r\n* moveable.on(\"dragOriginStart\", e => {\r\n*     e.dragStart && e.dragStart.set(translate);\r\n* }).on(\"dragOrigin\", e => {\r\n*     translate = e.drag.beforeTranslate;\r\n*     e.target.style.cssText\r\n*         = `transform-origin: ${e.transformOrigin};`\r\n*         + `transform: translate(${translate[0]}px, ${translate[1]}px)`;\r\n* }).on(\"dragOriginEnd\", e => {\r\n*     console.log(e);\r\n* });\r\n*/\n/**\r\n* When drag end the origin, the `dragOriginEnd` event is called.\r\n* @memberof Moveable.OriginDraggable\r\n* @event dragOriginEnd\r\n* @param {Moveable.OriginDraggable.OnDragOriginEnd} - Parameters for the `dragOriginEnd` event\r\n* @example\r\n* import Moveable from \"moveable\";\r\n*\r\n* const moveable = new Moveable(document.body, {\r\n*     originDraggable: true,\r\n* });\r\n* let translate = [0, 0];\r\n* moveable.on(\"dragOriginStart\", e => {\r\n*     e.dragStart && e.dragStart.set(translate);\r\n* }).on(\"dragOrigin\", e => {\r\n*     translate = e.drag.beforeTranslate;\r\n*     e.target.style.cssText\r\n*         = `transform-origin: ${e.transformOrigin};`\r\n*         + `transform: translate(${translate[0]}px, ${translate[1]}px)`;\r\n* }).on(\"dragOriginEnd\", e => {\r\n*     console.log(e);\r\n* });\r\n*/\n\nfunction addBorderRadiusByLine(controlPoses, lineIndex, distX, distY) {\n  // lineIndex\n  // 0 top\n  // 1 right\n  // 2 bottom\n  // 3 left\n  var horizontalsLength = controlPoses.filter(function (_a) {\n    var virtual = _a.virtual,horizontal = _a.horizontal;\n    return horizontal && !virtual;\n  }).length;\n  var verticalsLength = controlPoses.filter(function (_a) {\n    var virtual = _a.virtual,vertical = _a.vertical;\n    return vertical && !virtual;\n  }).length;\n  var controlIndex = -1;\n  //top\n  if (lineIndex === 0) {\n    if (horizontalsLength === 0) {\n      controlIndex = 0;\n    } else\n    if (horizontalsLength === 1) {\n      controlIndex = 1;\n    }\n  }\n  // bottom\n  if (lineIndex === 2) {\n    if (horizontalsLength <= 2) {\n      controlIndex = 2;\n    } else\n    if (horizontalsLength <= 3) {\n      controlIndex = 3;\n    }\n  }\n  // left\n  if (lineIndex === 3) {\n    if (verticalsLength === 0) {\n      controlIndex = 4;\n    } else\n    if (verticalsLength < 4) {\n      controlIndex = 7;\n    }\n  }\n  // right\n  if (lineIndex === 1) {\n    if (verticalsLength <= 1) {\n      controlIndex = 5;\n    } else\n    if (verticalsLength <= 2) {\n      controlIndex = 6;\n    }\n  }\n  if (controlIndex === -1 || !controlPoses[controlIndex].virtual) {\n    return;\n  }\n  var controlPoseInfo = controlPoses[controlIndex];\n  addBorderRadius(controlPoses, controlIndex);\n  if (controlIndex < 4) {\n    controlPoseInfo.pos[0] = distX;\n  } else\n  {\n    controlPoseInfo.pos[1] = distY;\n  }\n}\nfunction addBorderRadius(controlPoses, index) {\n  if (index < 4) {\n    controlPoses.slice(0, index + 1).forEach(function (info) {\n      info.virtual = false;\n    });\n  } else\n  {\n    if (controlPoses[0].virtual) {\n      controlPoses[0].virtual = false;\n    }\n    controlPoses.slice(4, index + 1).forEach(function (info) {\n      info.virtual = false;\n    });\n  }\n}\nfunction removeBorderRadius(controlPoses, index) {\n  if (index < 4) {\n    controlPoses.slice(index, 4).forEach(function (info) {\n      info.virtual = true;\n    });\n  } else\n  {\n    controlPoses.slice(index).forEach(function (info) {\n      info.virtual = true;\n    });\n  }\n}\nfunction getBorderRadius(borderRadius, width, height, minCounts, full) {\n  if (minCounts === void 0) {minCounts = [0, 0];}\n  var values = [];\n  if (!borderRadius || borderRadius === \"0px\") {\n    values = [];\n  } else\n  {\n    values = splitSpace(borderRadius);\n  }\n  return getRadiusValues(values, width, height, 0, 0, minCounts, full);\n}\nfunction triggerRoundEvent(moveable, e, dist, delta, nextPoses) {\n  var state = moveable.state;\n  var width = state.width,height = state.height;\n  var _a = getRadiusStyles(nextPoses, moveable.props.roundRelative, width, height),raws = _a.raws,styles = _a.styles,radiusPoses = _a.radiusPoses;\n  var _b = splitRadiusPoses(radiusPoses, raws),horizontals = _b.horizontals,verticals = _b.verticals;\n  var borderRadius = styles.join(\" \");\n  state.borderRadiusState = borderRadius;\n  var params = fillParams(moveable, e, __assign({ horizontals: horizontals, verticals: verticals, borderRadius: borderRadius, width: width, height: height, delta: delta, dist: dist }, fillCSSObject({\n    borderRadius: borderRadius\n  }, e)));\n  triggerEvent(moveable, \"onRound\", params);\n  return params;\n}\nfunction getStyleBorderRadius(moveable) {\n  var _a, _b;\n  var style = moveable.getState().style;\n  var borderRadius = style.borderRadius || \"\";\n  if (!borderRadius && moveable.props.groupable) {\n    var firstMoveable = moveable.moveables[0];\n    var firstTarget = moveable.getTargets()[0];\n    if (firstTarget) {\n      if ((firstMoveable === null || firstMoveable === void 0 ? void 0 : firstMoveable.props.target) === firstTarget) {\n        borderRadius = (_b = (_a = moveable.moveables[0]) === null || _a === void 0 ? void 0 : _a.state.style.borderRadius) !== null && _b !== void 0 ? _b : \"\";\n        style.borderRadius = borderRadius;\n      } else\n      {\n        borderRadius = getComputedStyle(firstTarget).borderRadius;\n        style.borderRadius = borderRadius;\n      }\n    }\n  }\n  return borderRadius;\n}\n/**\r\n * @namespace Moveable.Roundable\r\n * @description Whether to show and drag or double click border-radius\r\n */\nvar Roundable = {\n  name: \"roundable\",\n  props: [\n  \"roundable\",\n  \"roundRelative\",\n  \"minRoundControls\",\n  \"maxRoundControls\",\n  \"roundClickable\",\n  \"roundPadding\",\n  \"isDisplayShadowRoundControls\"],\n\n  events: [\n  \"roundStart\",\n  \"round\",\n  \"roundEnd\",\n  \"roundGroupStart\",\n  \"roundGroup\",\n  \"roundGroupEnd\"],\n\n  css: [\n  \".control.border-radius {\\nbackground: #d66;\\ncursor: pointer;\\nz-index: 3;\\n}\",\n  \".control.border-radius.vertical {\\nbackground: #d6d;\\nz-index: 2;\\n}\",\n  \".control.border-radius.virtual {\\nopacity: 0.5;\\nz-index: 1;\\n}\",\n  \":host.round-line-clickable .line.direction {\\ncursor: pointer;\\n}\"],\n\n  className: function (moveable) {\n    var roundClickable = moveable.props.roundClickable;\n    return roundClickable === true || roundClickable === \"line\" ? prefix(\"round-line-clickable\") : \"\";\n  },\n  requestStyle: function () {\n    return [\"borderRadius\"];\n  },\n  requestChildStyle: function () {\n    return [\"borderRadius\"];\n  },\n  render: function (moveable, React) {\n    var _a = moveable.getState(),target = _a.target,width = _a.width,height = _a.height,allMatrix = _a.allMatrix,is3d = _a.is3d,left = _a.left,top = _a.top,borderRadiusState = _a.borderRadiusState;\n    var _b = moveable.props,_c = _b.minRoundControls,minRoundControls = _c === void 0 ? [0, 0] : _c,_d = _b.maxRoundControls,maxRoundControls = _d === void 0 ? [4, 4] : _d,zoom = _b.zoom,_e = _b.roundPadding,roundPadding = _e === void 0 ? 0 : _e,isDisplayShadowRoundControls = _b.isDisplayShadowRoundControls,groupable = _b.groupable;\n    if (!target) {\n      return null;\n    }\n    var borderRadius = borderRadiusState || getStyleBorderRadius(moveable);\n    var n = is3d ? 4 : 3;\n    var radiusValues = getBorderRadius(borderRadius, width, height, minRoundControls, true);\n    if (!radiusValues) {\n      return null;\n    }\n    var verticalCount = 0;\n    var horizontalCount = 0;\n    var basePos = groupable ? [0, 0] : [left, top];\n    return radiusValues.map(function (v, i) {\n      var horizontal = v.horizontal;\n      var vertical = v.vertical;\n      var direction = v.direction || \"\";\n      var originalPos = __spreadArray([], __read(v.pos), false);\n      horizontalCount += Math.abs(horizontal);\n      verticalCount += Math.abs(vertical);\n      if (horizontal && direction.indexOf(\"n\") > -1) {\n        originalPos[1] -= roundPadding;\n      }\n      if (vertical && direction.indexOf(\"w\") > -1) {\n        originalPos[0] -= roundPadding;\n      }\n      if (horizontal && direction.indexOf(\"s\") > -1) {\n        originalPos[1] += roundPadding;\n      }\n      if (vertical && direction.indexOf(\"e\") > -1) {\n        originalPos[0] += roundPadding;\n      }\n      var pos = minus(calculatePosition(allMatrix, originalPos, n), basePos);\n      var isDisplayVerticalShadow = isDisplayShadowRoundControls &&\n      isDisplayShadowRoundControls !== \"horizontal\";\n      var isDisplay = v.vertical ?\n      verticalCount <= maxRoundControls[1] && (isDisplayVerticalShadow || !v.virtual) :\n      horizontalCount <= maxRoundControls[0] && (isDisplayShadowRoundControls || !v.virtual);\n      return React.createElement(\"div\", { key: \"borderRadiusControl\".concat(i), className: prefix(\"control\", \"border-radius\", v.vertical ? \"vertical\" : \"\", v.virtual ? \"virtual\" : \"\"), \"data-radius-index\": i, style: {\n          display: isDisplay ? \"block\" : \"none\",\n          transform: \"translate(\".concat(pos[0], \"px, \").concat(pos[1], \"px) scale(\").concat(zoom, \")\")\n        } });\n    });\n  },\n  dragControlCondition: function (moveable, e) {\n    if (!e.inputEvent || e.isRequest) {\n      return false;\n    }\n    var className = e.inputEvent.target.getAttribute(\"class\") || \"\";\n    return className.indexOf(\"border-radius\") > -1 ||\n    className.indexOf(\"moveable-line\") > -1 && className.indexOf(\"moveable-direction\") > -1;\n  },\n  dragGroupControlCondition: function (moveable, e) {\n    return this.dragControlCondition(moveable, e);\n  },\n  dragControlStart: function (moveable, e) {\n    var inputEvent = e.inputEvent,datas = e.datas;\n    var inputTarget = inputEvent.target;\n    var className = inputTarget.getAttribute(\"class\") || \"\";\n    var isControl = className.indexOf(\"border-radius\") > -1;\n    var isLine = className.indexOf(\"moveable-line\") > -1 && className.indexOf(\"moveable-direction\") > -1;\n    var controlIndex = isControl ? parseInt(inputTarget.getAttribute(\"data-radius-index\"), 10) : -1;\n    var lineIndex = -1;\n    if (isLine) {\n      var indexAttr = inputTarget.getAttribute(\"data-line-key\") || \"\";\n      if (indexAttr) {\n        lineIndex = parseInt(indexAttr.replace(/render-line-/g, \"\"), 10);\n        if (isNaN(lineIndex)) {\n          lineIndex = -1;\n        }\n      }\n    }\n    if (!isControl && !isLine) {\n      return false;\n    }\n    var params = fillParams(moveable, e, {});\n    var result = triggerEvent(moveable, \"onRoundStart\", params);\n    if (result === false) {\n      return false;\n    }\n    datas.lineIndex = lineIndex;\n    datas.controlIndex = controlIndex;\n    datas.isControl = isControl;\n    datas.isLine = isLine;\n    setDragStart(moveable, e);\n    var _a = moveable.props,roundRelative = _a.roundRelative,_b = _a.minRoundControls,minRoundControls = _b === void 0 ? [0, 0] : _b;\n    var state = moveable.state;\n    var width = state.width,height = state.height;\n    datas.isRound = true;\n    datas.prevDist = [0, 0];\n    var borderRadius = getStyleBorderRadius(moveable);\n    var controlPoses = getBorderRadius(borderRadius || \"\", width, height, minRoundControls, true) || [];\n    datas.controlPoses = controlPoses;\n    state.borderRadiusState = getRadiusStyles(controlPoses, roundRelative, width, height).styles.join(\" \");\n    return params;\n  },\n  dragControl: function (moveable, e) {\n    var datas = e.datas;\n    var controlPoses = datas.controlPoses;\n    if (!datas.isRound || !datas.isControl || !controlPoses.length) {\n      return false;\n    }\n    var index = datas.controlIndex;\n    var _a = __read(getDragDist(e), 2),distX = _a[0],distY = _a[1];\n    var dist = [distX, distY];\n    var delta = minus(dist, datas.prevDist);\n    var _b = moveable.props.maxRoundControls,maxRoundControls = _b === void 0 ? [4, 4] : _b;\n    var _c = moveable.state,width = _c.width,height = _c.height;\n    var selectedControlPose = controlPoses[index];\n    var selectedVertical = selectedControlPose.vertical;\n    var selectedHorizontal = selectedControlPose.horizontal;\n    // 0: [0, 1, 2, 3] maxCount === 1\n    // 0: [0, 2] maxCount === 2\n    // 1: [1, 3] maxCount === 2\n    // 0: [0] maxCount === 3\n    // 1: [1, 3] maxCount === 3\n    var dists = controlPoses.map(function (pose) {\n      var horizontal = pose.horizontal,vertical = pose.vertical;\n      var poseDist = [\n      horizontal * selectedHorizontal * dist[0],\n      vertical * selectedVertical * dist[1]];\n\n      if (horizontal) {\n        if (maxRoundControls[0] === 1) {\n          return poseDist;\n        } else\n        if (maxRoundControls[0] < 4 && horizontal !== selectedHorizontal) {\n          return poseDist;\n        }\n      } else\n      if (maxRoundControls[1] === 0) {\n        poseDist[1] = vertical * selectedHorizontal * dist[0] / width * height;\n        return poseDist;\n      } else\n      if (selectedVertical) {\n        if (maxRoundControls[1] === 1) {\n          return poseDist;\n        } else\n        if (maxRoundControls[1] < 4 && vertical !== selectedVertical) {\n          return poseDist;\n        }\n      }\n      return [0, 0];\n    });\n    dists[index] = dist;\n    var nextPoses = controlPoses.map(function (info, i) {\n      return __assign(__assign({}, info), { pos: plus(info.pos, dists[i]) });\n    });\n    if (index < 4) {\n      nextPoses.slice(0, index + 1).forEach(function (info) {\n        info.virtual = false;\n      });\n    } else\n    {\n      nextPoses.slice(4, index + 1).forEach(function (info) {\n        info.virtual = false;\n      });\n    }\n    datas.prevDist = [distX, distY];\n    return triggerRoundEvent(moveable, e, dist, delta, nextPoses);\n  },\n  dragControlEnd: function (moveable, e) {\n    var state = moveable.state;\n    state.borderRadiusState = \"\";\n    var datas = e.datas,isDouble = e.isDouble;\n    if (!datas.isRound) {\n      return false;\n    }\n    var isControl = datas.isControl,controlIndex = datas.controlIndex,isLine = datas.isLine,lineIndex = datas.lineIndex;\n    var controlPoses = datas.controlPoses;\n    var length = controlPoses.filter(function (_a) {\n      var virtual = _a.virtual;\n      return virtual;\n    }).length;\n    var _a = moveable.props.roundClickable,roundClickable = _a === void 0 ? true : _a;\n    if (isDouble && roundClickable) {\n      if (isControl && (roundClickable === true || roundClickable === \"control\")) {\n        removeBorderRadius(controlPoses, controlIndex);\n      } else\n      if (isLine && (roundClickable === true || roundClickable === \"line\")) {\n        var _b = __read(calculatePointerDist(moveable, e), 2),distX = _b[0],distY = _b[1];\n        addBorderRadiusByLine(controlPoses, lineIndex, distX, distY);\n      }\n      if (length !== controlPoses.filter(function (_a) {\n        var virtual = _a.virtual;\n        return virtual;\n      }).length) {\n        triggerRoundEvent(moveable, e, [0, 0], [0, 0], controlPoses);\n      }\n    }\n    var params = fillEndParams(moveable, e, {});\n    triggerEvent(moveable, \"onRoundEnd\", params);\n    state.borderRadiusState = \"\";\n    return params;\n  },\n  dragGroupControlStart: function (moveable, e) {\n    var result = this.dragControlStart(moveable, e);\n    if (!result) {\n      return false;\n    }\n    var moveables = moveable.moveables;\n    var targets = moveable.props.targets;\n    var events = fillChildEvents(moveable, \"roundable\", e);\n    var nextParams = __assign({ targets: moveable.props.targets, events: events.map(function (ev, i) {\n        return __assign(__assign({}, ev), { target: targets[i], moveable: moveables[i], currentTarget: moveables[i] });\n      }) }, result);\n    triggerEvent(moveable, \"onRoundGroupStart\", nextParams);\n    return result;\n  },\n  dragGroupControl: function (moveable, e) {\n    var result = this.dragControl(moveable, e);\n    if (!result) {\n      return false;\n    }\n    var moveables = moveable.moveables;\n    var targets = moveable.props.targets;\n    var events = fillChildEvents(moveable, \"roundable\", e);\n    var nextParams = __assign({ targets: moveable.props.targets, events: events.map(function (ev, i) {\n        return __assign(__assign(__assign({}, ev), { target: targets[i], moveable: moveables[i], currentTarget: moveables[i] }), fillCSSObject({\n          borderRadius: result.borderRadius\n        }, ev));\n      }) }, result);\n    triggerEvent(moveable, \"onRoundGroup\", nextParams);\n    return nextParams;\n  },\n  dragGroupControlEnd: function (moveable, e) {\n    var moveables = moveable.moveables;\n    var targets = moveable.props.targets;\n    var events = fillChildEvents(moveable, \"roundable\", e);\n    catchEvent(moveable, \"onRound\", function (parentEvent) {\n      var nextParams = __assign({ targets: moveable.props.targets, events: events.map(function (ev, i) {\n          return __assign(__assign(__assign({}, ev), { target: targets[i], moveable: moveables[i], currentTarget: moveables[i] }), fillCSSObject({\n            borderRadius: parentEvent.borderRadius\n          }, ev));\n        }) }, parentEvent);\n      triggerEvent(moveable, \"onRoundGroup\", nextParams);\n    });\n    var result = this.dragControlEnd(moveable, e);\n    if (!result) {\n      return false;\n    }\n    var nextParams = __assign({ targets: moveable.props.targets, events: events.map(function (ev, i) {\n        var _a;\n        return __assign(__assign({}, ev), { target: targets[i], moveable: moveables[i], currentTarget: moveables[i], lastEvent: (_a = ev.datas) === null || _a === void 0 ? void 0 : _a.lastEvent });\n      }) }, result);\n    triggerEvent(moveable, \"onRoundGroupEnd\", nextParams);\n    return nextParams;\n  },\n  unset: function (moveable) {\n    moveable.state.borderRadiusState = \"\";\n  }\n};\n/**\r\n * Whether to show and drag or double click border-radius, (default: false)\r\n * @name Moveable.Roundable#roundable\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body, {\r\n *     roundable: true,\r\n *     roundRelative: false,\r\n * });\r\n * moveable.on(\"roundStart\", e => {\r\n *     console.log(e);\r\n * }).on(\"round\", e => {\r\n *     e.target.style.borderRadius = e.borderRadius;\r\n * }).on(\"roundEnd\", e => {\r\n *     console.log(e);\r\n * });\r\n */\n/**\r\n * % Can be used instead of the absolute px\r\n * @name Moveable.Roundable#roundRelative\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body, {\r\n *     roundable: true,\r\n *     roundRelative: false,\r\n * });\r\n * moveable.on(\"roundStart\", e => {\r\n *     console.log(e);\r\n * }).on(\"round\", e => {\r\n *     e.target.style.borderRadius = e.borderRadius;\r\n * }).on(\"roundEnd\", e => {\r\n *     console.log(e);\r\n * });\r\n */\n/**\r\n * Minimum number of round controls. It moves in proportion by control. [horizontal, vertical] (default: [0, 0])\r\n * @name Moveable.Roundable#minRoundControls\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body, {\r\n *     roundable: true,\r\n *     roundRelative: false,\r\n *     minRoundControls: [0, 0],\r\n * });\r\n * moveable.minRoundControls = [1, 0];\r\n */\n/**\r\n * Maximum number of round controls. It moves in proportion by control. [horizontal, vertical] (default: [4, 4])\r\n * @name Moveable.Roundable#maxRoundControls\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body, {\r\n *     roundable: true,\r\n *     roundRelative: false,\r\n *     maxRoundControls: [4, 4],\r\n * });\r\n * moveable.maxRoundControls = [1, 0];\r\n */\n/**\r\n * Whether you can add/delete round controls by double-clicking a line or control.\r\n * @name Moveable.Roundable#roundClickable\r\n * @default true\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body, {\r\n *     roundable: true,\r\n *     roundRelative: false,\r\n *     roundClickable: true,\r\n * });\r\n * moveable.roundClickable = false;\r\n */\n/**\r\n * Whether to show a round control that does not actually exist as a shadow\r\n * @name Moveable.Roundable#isDisplayShadowRoundControls\r\n * @default false\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body, {\r\n *     roundable: true,\r\n *     isDisplayShadowRoundControls: false,\r\n * });\r\n * moveable.isDisplayShadowRoundControls = true;\r\n */\n/**\r\n * The padding value of the position of the round control\r\n * @name Moveable.Roundable#roundPadding\r\n * @default false\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body, {\r\n *     roundable: true,\r\n *     roundPadding: 0,\r\n * });\r\n * moveable.roundPadding = 15;\r\n */\n/**\r\n * When drag start the clip area or controls, the `roundStart` event is called.\r\n * @memberof Moveable.Roundable\r\n * @event roundStart\r\n * @param {Moveable.Roundable.OnRoundStart} - Parameters for the `roundStart` event\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body, {\r\n *     roundable: true,\r\n *     roundRelative: false,\r\n * });\r\n * moveable.on(\"roundStart\", e => {\r\n *     console.log(e);\r\n * }).on(\"round\", e => {\r\n *     e.target.style.borderRadius = e.borderRadius;\r\n * }).on(\"roundEnd\", e => {\r\n *     console.log(e);\r\n * });\r\n */\n/**\r\n * When drag or double click the border area or controls, the `round` event is called.\r\n * @memberof Moveable.Roundable\r\n * @event round\r\n * @param {Moveable.Roundable.OnRound} - Parameters for the `round` event\r\n * @example\r\n  * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body, {\r\n *     roundable: true,\r\n *     roundRelative: false,\r\n * });\r\n * moveable.on(\"roundStart\", e => {\r\n *     console.log(e);\r\n * }).on(\"round\", e => {\r\n *     e.target.style.borderRadius = e.borderRadius;\r\n * }).on(\"roundEnd\", e => {\r\n *     console.log(e);\r\n * });\r\n */\n/**\r\n * When drag end the border area or controls, the `roundEnd` event is called.\r\n * @memberof Moveable.Roundable\r\n * @event roundEnd\r\n * @param {Moveable.Roundable.onRoundEnd} - Parameters for the `roundEnd` event\r\n * @example\r\n  * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body, {\r\n *     roundable: true,\r\n *     roundRelative: false,\r\n * });\r\n * moveable.on(\"roundStart\", e => {\r\n *     console.log(e);\r\n * }).on(\"round\", e => {\r\n *     e.target.style.borderRadius = e.borderRadius;\r\n * }).on(\"roundEnd\", e => {\r\n *     console.log(e);\r\n * });\r\n */\n/**\r\n * When drag start the clip area or controls, the `roundGroupStart` event is called.\r\n * @memberof Moveable.Roundable\r\n * @event roundGroupStart\r\n * @param {Moveable.Roundable.OnRoundGroupStart} - Parameters for the `roundGroupStart` event\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body, {\r\n *     targets: [target1, target2, target3],\r\n *     roundable: true,\r\n * });\r\n * moveable.on(\"roundGroupStart\", e => {\r\n *     console.log(e.targets);\r\n * }).on(\"roundGroup\", e => {\r\n *   e.events.forEach(ev => {\r\n *       ev.target.style.cssText += ev.cssText;\r\n *   });\r\n * }).on(\"roundGroupEnd\", e => {\r\n *     console.log(e);\r\n * });\r\n */\n/**\r\n * When drag or double click the border area or controls, the `roundGroup` event is called.\r\n * @memberof Moveable.Roundable\r\n * @event roundGroup\r\n * @param {Moveable.Roundable.OnRoundGroup} - Parameters for the `roundGroup` event\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body, {\r\n *     targets: [target1, target2, target3],\r\n *     roundable: true,\r\n * });\r\n * moveable.on(\"roundGroupStart\", e => {\r\n *     console.log(e.targets);\r\n * }).on(\"roundGroup\", e => {\r\n *   e.events.forEach(ev => {\r\n *       ev.target.style.cssText += ev.cssText;\r\n *   });\r\n * }).on(\"roundGroupEnd\", e => {\r\n *     console.log(e);\r\n * });\r\n */\n/**\r\n * When drag end the border area or controls, the `roundGroupEnd` event is called.\r\n * @memberof Moveable.Roundable\r\n * @event roundGroupEnd\r\n * @param {Moveable.Roundable.onRoundGroupEnd} - Parameters for the `roundGroupEnd` event\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body, {\r\n *     targets: [target1, target2, target3],\r\n *     roundable: true,\r\n * });\r\n * moveable.on(\"roundGroupStart\", e => {\r\n *     console.log(e.targets);\r\n * }).on(\"roundGroup\", e => {\r\n *     e.events.forEach(ev => {\r\n *         ev.target.style.cssText += ev.cssText;\r\n *     });\r\n * }).on(\"roundGroupEnd\", e => {\r\n *     console.log(e);\r\n * });\r\n */\n\nfunction isIdentityMatrix(matrix, is3d) {\n  var n = is3d ? 4 : 3;\n  var identityMatrix = createIdentityMatrix(n);\n  var value = \"matrix\".concat(is3d ? \"3d\" : \"\", \"(\").concat(identityMatrix.join(\",\"), \")\");\n  return matrix === value || matrix === \"matrix(1,0,0,1,0,0)\";\n}\nvar BeforeRenderable = {\n  isPinch: true,\n  name: \"beforeRenderable\",\n  props: [],\n  events: [\n  \"beforeRenderStart\",\n  \"beforeRender\",\n  \"beforeRenderEnd\",\n  \"beforeRenderGroupStart\",\n  \"beforeRenderGroup\",\n  \"beforeRenderGroupEnd\"],\n\n  dragRelation: \"weak\",\n  setTransform: function (moveable, e) {\n    var _a = moveable.state,is3d = _a.is3d,targetMatrix = _a.targetMatrix,inlineTransform = _a.inlineTransform;\n    var cssMatrix = is3d ?\n    \"matrix3d(\".concat(targetMatrix.join(\",\"), \")\") :\n    \"matrix(\".concat(convertMatrixtoCSS(targetMatrix, true), \")\");\n    var startTransform = !inlineTransform || inlineTransform === \"none\" ? cssMatrix : inlineTransform;\n    e.datas.startTransforms = isIdentityMatrix(startTransform, is3d) ? [] : splitSpace(startTransform);\n  },\n  resetStyle: function (e) {\n    var datas = e.datas;\n    datas.nextStyle = {};\n    datas.nextTransforms = e.datas.startTransforms;\n    datas.nextTransformAppendedIndexes = [];\n  },\n  fillDragStartParams: function (moveable, e) {\n    return fillParams(moveable, e, {\n      setTransform: function (transform) {\n        e.datas.startTransforms = isArray(transform) ? transform : splitSpace(transform);\n      },\n      isPinch: !!e.isPinch\n    });\n  },\n  fillDragParams: function (moveable, e) {\n    return fillParams(moveable, e, {\n      isPinch: !!e.isPinch\n    });\n  },\n  dragStart: function (moveable, e) {\n    this.setTransform(moveable, e);\n    this.resetStyle(e);\n    triggerEvent(moveable, \"onBeforeRenderStart\", this.fillDragStartParams(moveable, e));\n  },\n  drag: function (moveable, e) {\n    if (!e.datas.startTransforms) {\n      this.setTransform(moveable, e);\n    }\n    this.resetStyle(e);\n    triggerEvent(moveable, \"onBeforeRender\", fillParams(moveable, e, {\n      isPinch: !!e.isPinch\n    }));\n  },\n  dragEnd: function (moveable, e) {\n    if (!e.datas.startTransforms) {\n      this.setTransform(moveable, e);\n      this.resetStyle(e);\n    }\n    triggerEvent(moveable, \"onBeforeRenderEnd\", fillParams(moveable, e, {\n      isPinch: !!e.isPinch,\n      isDrag: e.isDrag\n    }));\n  },\n  dragGroupStart: function (moveable, e) {\n    var _this = this;\n    this.dragStart(moveable, e);\n    var events = fillChildEvents(moveable, \"beforeRenderable\", e);\n    var moveables = moveable.moveables;\n    var params = events.map(function (childEvent, i) {\n      var childMoveable = moveables[i];\n      _this.setTransform(childMoveable, childEvent);\n      _this.resetStyle(childEvent);\n      return _this.fillDragStartParams(childMoveable, childEvent);\n    });\n    triggerEvent(moveable, \"onBeforeRenderGroupStart\", fillParams(moveable, e, {\n      isPinch: !!e.isPinch,\n      targets: moveable.props.targets,\n      setTransform: function () {},\n      events: params\n    }));\n  },\n  dragGroup: function (moveable, e) {\n    var _this = this;\n    this.drag(moveable, e);\n    var events = fillChildEvents(moveable, \"beforeRenderable\", e);\n    var moveables = moveable.moveables;\n    var params = events.map(function (childEvent, i) {\n      var childMoveable = moveables[i];\n      _this.resetStyle(childEvent);\n      return _this.fillDragParams(childMoveable, childEvent);\n    });\n    triggerEvent(moveable, \"onBeforeRenderGroup\", fillParams(moveable, e, {\n      isPinch: !!e.isPinch,\n      targets: moveable.props.targets,\n      events: params\n    }));\n  },\n  dragGroupEnd: function (moveable, e) {\n    this.dragEnd(moveable, e);\n    triggerEvent(moveable, \"onBeforeRenderGroupEnd\", fillParams(moveable, e, {\n      isPinch: !!e.isPinch,\n      isDrag: e.isDrag,\n      targets: moveable.props.targets\n    }));\n  },\n  dragControlStart: function (moveable, e) {\n    return this.dragStart(moveable, e);\n  },\n  dragControl: function (moveable, e) {\n    return this.drag(moveable, e);\n  },\n  dragControlEnd: function (moveable, e) {\n    return this.dragEnd(moveable, e);\n  },\n  dragGroupControlStart: function (moveable, e) {\n    return this.dragGroupStart(moveable, e);\n  },\n  dragGroupControl: function (moveable, e) {\n    return this.dragGroup(moveable, e);\n  },\n  dragGroupControlEnd: function (moveable, e) {\n    return this.dragGroupEnd(moveable, e);\n  }\n};\n\nvar Renderable = {\n  name: \"renderable\",\n  props: [],\n  events: [\n  \"renderStart\",\n  \"render\",\n  \"renderEnd\",\n  \"renderGroupStart\",\n  \"renderGroup\",\n  \"renderGroupEnd\"],\n\n  dragRelation: \"weak\",\n  dragStart: function (moveable, e) {\n    triggerEvent(moveable, \"onRenderStart\", fillParams(moveable, e, {\n      isPinch: !!e.isPinch\n    }));\n  },\n  drag: function (moveable, e) {\n    triggerEvent(moveable, \"onRender\", this.fillDragParams(moveable, e));\n  },\n  dragAfter: function (moveable, e) {\n    return this.drag(moveable, e);\n  },\n  dragEnd: function (moveable, e) {\n    triggerEvent(moveable, \"onRenderEnd\", this.fillDragEndParams(moveable, e));\n  },\n  dragGroupStart: function (moveable, e) {\n    triggerEvent(moveable, \"onRenderGroupStart\", fillParams(moveable, e, {\n      isPinch: !!e.isPinch,\n      targets: moveable.props.targets\n    }));\n  },\n  dragGroup: function (moveable, e) {\n    var _this = this;\n    var events = fillChildEvents(moveable, \"beforeRenderable\", e);\n    var moveables = moveable.moveables;\n    var params = events.map(function (childEvent, i) {\n      var childMoveable = moveables[i];\n      return _this.fillDragParams(childMoveable, childEvent);\n    });\n    triggerEvent(moveable, \"onRenderGroup\", fillParams(moveable, e, __assign(__assign({ isPinch: !!e.isPinch, targets: moveable.props.targets, transform: getNextTransformText(e), transformObject: {} }, fillCSSObject(getNextStyle(e))), { events: params })));\n  },\n  dragGroupEnd: function (moveable, e) {\n    var _this = this;\n    var events = fillChildEvents(moveable, \"beforeRenderable\", e);\n    var moveables = moveable.moveables;\n    var params = events.map(function (childEvent, i) {\n      var childMoveable = moveables[i];\n      return _this.fillDragEndParams(childMoveable, childEvent);\n    });\n    triggerEvent(moveable, \"onRenderGroupEnd\", fillParams(moveable, e, __assign({ isPinch: !!e.isPinch, isDrag: e.isDrag, targets: moveable.props.targets, events: params, transformObject: {}, transform: getNextTransformText(e) }, fillCSSObject(getNextStyle(e)))));\n  },\n  dragControlStart: function (moveable, e) {\n    return this.dragStart(moveable, e);\n  },\n  dragControl: function (moveable, e) {\n    return this.drag(moveable, e);\n  },\n  dragControlAfter: function (moveable, e) {\n    return this.dragAfter(moveable, e);\n  },\n  dragControlEnd: function (moveable, e) {\n    return this.dragEnd(moveable, e);\n  },\n  dragGroupControlStart: function (moveable, e) {\n    return this.dragGroupStart(moveable, e);\n  },\n  dragGroupControl: function (moveable, e) {\n    return this.dragGroup(moveable, e);\n  },\n  dragGroupControlEnd: function (moveable, e) {\n    return this.dragGroupEnd(moveable, e);\n  },\n  fillDragParams: function (moveable, e) {\n    var transformObject = {};\n    parse(getNextTransforms(e) || []).forEach(function (matrixInfo) {\n      transformObject[matrixInfo.name] = matrixInfo.functionValue;\n    });\n    return fillParams(moveable, e, __assign({ isPinch: !!e.isPinch, transformObject: transformObject, transform: getNextTransformText(e) }, fillCSSObject(getNextStyle(e))));\n  },\n  fillDragEndParams: function (moveable, e) {\n    var transformObject = {};\n    parse(getNextTransforms(e) || []).forEach(function (matrixInfo) {\n      transformObject[matrixInfo.name] = matrixInfo.functionValue;\n    });\n    return fillParams(moveable, e, __assign({ isPinch: !!e.isPinch, isDrag: e.isDrag, transformObject: transformObject, transform: getNextTransformText(e) }, fillCSSObject(getNextStyle(e))));\n  }\n};\n\nfunction triggerAble(moveable, moveableAbles, eventOperations, eventAffix, eventType, e, requestInstant) {\n  // pre setting\n  e.clientDistX = e.distX;\n  e.clientDistY = e.distY;\n  var isStart = eventType === \"Start\";\n  var isEnd = eventType === \"End\";\n  var isAfter = eventType === \"After\";\n  var target = moveable.state.target;\n  var isRequest = e.isRequest;\n  var isControl = eventAffix.indexOf(\"Control\") > -1;\n  if (!target ||\n  isStart && isControl && !isRequest && moveable.areaElement === e.inputEvent.target) {\n    return false;\n  }\n  var ables = __spreadArray([], __read(moveableAbles), false);\n  if (isRequest) {\n    var requestAble_1 = e.requestAble;\n    if (!ables.some(function (able) {return able.name === requestAble_1;})) {\n      ables.push.apply(ables, __spreadArray([], __read(moveable.props.ables.filter(function (able) {return able.name === requestAble_1;})), false));\n    }\n  }\n  if (!ables.length || ables.every(function (able) {return able.dragRelation;})) {\n    return false;\n  }\n  // \"drag\" \"Control\" \"After\"\n  var inputEvent = e.inputEvent;\n  var inputTarget;\n  if (isEnd && inputEvent) {\n    inputTarget = document.elementFromPoint(e.clientX, e.clientY) || inputEvent.target;\n  }\n  var isDragStop = false;\n  var stop = function () {\n    var _a;\n    isDragStop = true;\n    (_a = e.stop) === null || _a === void 0 ? void 0 : _a.call(e);\n  };\n  var isFirstStart = isStart && (!moveable.targetGesto || !moveable.controlGesto ||\n  !moveable.targetGesto.isFlag() || !moveable.controlGesto.isFlag());\n  if (isFirstStart) {\n    moveable.updateRect(eventType, true, false);\n  }\n  // trigger ables\n  var datas = e.datas;\n  var gestoType = isControl ? \"controlGesto\" : \"targetGesto\";\n  var prevGesto = moveable[gestoType];\n  var trigger = function (able, eventName, conditionName) {\n    if (!(eventName in able) || prevGesto !== moveable[gestoType]) {\n      return false;\n    }\n    var ableName = able.name;\n    var nextDatas = datas[ableName] || (datas[ableName] = {});\n    if (isStart) {\n      nextDatas.isEventStart = !conditionName ||\n      !able[conditionName] || able[conditionName](moveable, e);\n    }\n    if (!nextDatas.isEventStart) {\n      return false;\n    }\n    var result = able[eventName](moveable, __assign(__assign({}, e), { stop: stop, datas: nextDatas, originalDatas: datas, inputTarget: inputTarget }));\n    moveable._emitter.off();\n    if (isStart && result === false) {\n      nextDatas.isEventStart = false;\n    }\n    return result;\n  };\n  // unset ables for first drag start\n  if (isFirstStart) {\n    ables.forEach(function (able) {\n      able.unset && able.unset(moveable);\n    });\n  }\n  // BeforeRenderable\n  trigger(BeforeRenderable, \"drag\".concat(eventAffix).concat(eventType));\n  var forceEndedCount = 0;\n  var updatedCount = 0;\n  eventOperations.forEach(function (eventOperation) {\n    if (isDragStop) {\n      return false;\n    }\n    var eventName = \"\".concat(eventOperation).concat(eventAffix).concat(eventType);\n    var conditionName = \"\".concat(eventOperation).concat(eventAffix, \"Condition\");\n    if (eventType === \"\" && !isRequest) {\n      // Convert distX, distY\n      convertDragDist(moveable.state, e);\n    }\n    // const isGroup = eventAffix.indexOf(\"Group\") > -1;\n    var eventAbles = ables.filter(function (able) {return able[eventName];});\n    eventAbles = eventAbles.filter(function (able, i) {\n      return able.name && eventAbles.indexOf(able) === i;\n    });\n    var results = eventAbles.filter(function (able) {return trigger(able, eventName, conditionName);});\n    var isUpdate = results.length;\n    // end ables\n    if (isDragStop) {\n      ++forceEndedCount;\n    }\n    if (isUpdate) {\n      ++updatedCount;\n    }\n    if (!isDragStop && isStart && eventAbles.length && !isUpdate) {\n      forceEndedCount += eventAbles.filter(function (able) {\n        var ableName = able.name;\n        var nextDatas = datas[ableName];\n        if (nextDatas.isEventStart) {\n          if (able.dragRelation === \"strong\") {\n            return false;\n          }\n          // stop drag\n          return true;\n        }\n        // pre stop drag\n        return false;\n      }).length ? 1 : 0;\n    }\n  });\n  if (!isAfter || updatedCount) {\n    trigger(Renderable, \"drag\".concat(eventAffix).concat(eventType));\n  }\n  // stop gesto condition\n  var isForceEnd = prevGesto !== moveable[gestoType] || forceEndedCount === eventOperations.length;\n  if (isEnd || isDragStop || isForceEnd) {\n    moveable.state.gestos = {};\n    if (moveable.moveables) {\n      moveable.moveables.forEach(function (childMoveable) {\n        childMoveable.state.gestos = {};\n      });\n    }\n    ables.forEach(function (able) {\n      able.unset && able.unset(moveable);\n    });\n  }\n  if (isStart && !isForceEnd && !isRequest && updatedCount && moveable.props.preventDefault) {\n    e === null || e === void 0 ? void 0 : e.preventDefault();\n  }\n  if (moveable.isUnmounted || isForceEnd) {\n    return false;\n  }\n  if (!isStart && updatedCount && !requestInstant || isEnd) {\n    var flushSync = moveable.props.flushSync || defaultSync;\n    flushSync(function () {\n      moveable.updateRect(isEnd ? eventType : \"\", true, false);\n      moveable.forceUpdate();\n    });\n  }\n  if (!isStart && !isEnd && !isAfter && updatedCount && !requestInstant) {\n    triggerAble(moveable, moveableAbles, eventOperations, eventAffix, eventType + \"After\", e);\n  }\n  return true;\n}\nfunction checkMoveableTarget(moveable, isControl) {\n  return function (e, target) {\n    var _a;\n    if (target === void 0) {target = e.inputEvent.target;}\n    var eventTarget = target;\n    var areaElement = moveable.areaElement;\n    var dragTargetElement = moveable._dragTarget;\n    if (!dragTargetElement || !isControl && ((_a = moveable.controlGesto) === null || _a === void 0 ? void 0 : _a.isFlag())) {\n      return false;\n    }\n    return eventTarget === dragTargetElement ||\n    dragTargetElement.contains(eventTarget) ||\n    eventTarget === areaElement ||\n    !moveable.isMoveableElement(eventTarget) && !moveable.controlBox.contains(eventTarget) ||\n    hasClass(eventTarget, \"moveable-area\") ||\n    hasClass(eventTarget, \"moveable-padding\") ||\n    hasClass(eventTarget, \"moveable-edgeDraggable\");\n  };\n}\nfunction getTargetAbleGesto(moveable, moveableTarget, eventAffix) {\n  var controlBox = moveable.controlBox;\n  var targets = [];\n  var props = moveable.props;\n  var dragArea = props.dragArea;\n  var target = moveable.state.target;\n  var dragTarget = props.dragTarget;\n  targets.push(controlBox);\n  if (!dragArea || dragTarget) {\n    targets.push(moveableTarget);\n  }\n  if (!dragArea && dragTarget && target && moveableTarget !== target && props.dragTargetSelf) {\n    targets.push(target);\n  }\n  var checkTarget = checkMoveableTarget(moveable);\n  return getAbleGesto(moveable, targets, \"targetAbles\", eventAffix, {\n    dragStart: checkTarget,\n    pinchStart: checkTarget\n  });\n}\nfunction getControlAbleGesto(moveable, eventAffix) {\n  var controlBox = moveable.controlBox;\n  var targets = [];\n  targets.push(controlBox);\n  var checkTarget = checkMoveableTarget(moveable, true);\n  var checkControlTarget = function (e, target) {\n    if (target === void 0) {target = e.inputEvent.target;}\n    if (target === controlBox) {\n      return true;\n    }\n    var result = checkTarget(e, target);\n    return !result;\n  };\n  return getAbleGesto(moveable, targets, \"controlAbles\", eventAffix, {\n    dragStart: checkControlTarget,\n    pinchStart: checkControlTarget\n  });\n}\nfunction getAbleGesto(moveable, target, ableType, eventAffix, conditionFunctions) {\n  if (conditionFunctions === void 0) {conditionFunctions = {};}\n  var isTargetAbles = ableType === \"targetAbles\";\n  var _a = moveable.props,pinchOutside = _a.pinchOutside,pinchThreshold = _a.pinchThreshold,preventClickEventOnDrag = _a.preventClickEventOnDrag,preventClickDefault = _a.preventClickDefault,checkInput = _a.checkInput,dragFocusedInput = _a.dragFocusedInput,_b = _a.preventDefault,preventDefault = _b === void 0 ? true : _b,_c = _a.preventRightClick,preventRightClick = _c === void 0 ? true : _c,_d = _a.preventWheelClick,preventWheelClick = _d === void 0 ? true : _d,dragContaienrOption = _a.dragContainer;\n  var dragContainer = getRefTarget(dragContaienrOption, true);\n  var options = {\n    preventDefault: preventDefault,\n    preventRightClick: preventRightClick,\n    preventWheelClick: preventWheelClick,\n    container: dragContainer || getWindow(moveable.getControlBoxElement()),\n    pinchThreshold: pinchThreshold,\n    pinchOutside: pinchOutside,\n    preventClickEventOnDrag: isTargetAbles ? preventClickEventOnDrag : false,\n    preventClickEventOnDragStart: isTargetAbles ? preventClickDefault : false,\n    preventClickEventByCondition: isTargetAbles ? null : function (e) {\n      return moveable.controlBox.contains(e.target);\n    },\n    checkInput: isTargetAbles ? checkInput : false,\n    dragFocusedInput: dragFocusedInput\n  };\n  var gesto = new Gesto(target, options);\n  var isControl = eventAffix === \"Control\";\n  [\"drag\", \"pinch\"].forEach(function (eventOperation) {\n    [\"Start\", \"\", \"End\"].forEach(function (eventType) {\n      gesto.on(\"\".concat(eventOperation).concat(eventType), function (e) {\n        var _a;\n        var eventName = e.eventType;\n        var isPinchScheduled = eventOperation === \"drag\" && e.isPinch;\n        if (conditionFunctions[eventName] && !conditionFunctions[eventName](e)) {\n          e.stop();\n          return;\n        }\n        if (isPinchScheduled) {\n          return;\n        }\n        var eventOperations = eventOperation === \"drag\" ? [eventOperation] : [\"drag\", eventOperation];\n        var moveableAbles = __spreadArray([], __read(moveable[ableType]), false);\n        var result = triggerAble(moveable, moveableAbles, eventOperations, eventAffix, eventType, e);\n        if (!result) {\n          e.stop();\n        } else\n        if (moveable.props.stopPropagation || eventType === \"Start\" && isControl) {\n          (_a = e === null || e === void 0 ? void 0 : e.inputEvent) === null || _a === void 0 ? void 0 : _a.stopPropagation();\n        }\n      });\n    });\n  });\n  return gesto;\n}\n\nvar EventManager = /*#__PURE__*/function () {\n  function EventManager(target, moveable, eventName) {\n    var _this = this;\n    this.target = target;\n    this.moveable = moveable;\n    this.eventName = eventName;\n    this.ables = [];\n    this._onEvent = function (e) {\n      var eventName = _this.eventName;\n      var moveable = _this.moveable;\n      if (moveable.state.disableNativeEvent) {\n        return;\n      }\n      _this.ables.forEach(function (able) {\n        able[eventName](moveable, {\n          inputEvent: e\n        });\n      });\n    };\n    target.addEventListener(eventName.toLowerCase(), this._onEvent);\n  }\n  EventManager.prototype.setAbles = function (ables) {\n    this.ables = ables;\n  };\n  EventManager.prototype.destroy = function () {\n    this.target.removeEventListener(this.eventName.toLowerCase(), this._onEvent);\n    this.target = null;\n    this.moveable = null;\n  };\n  return EventManager;\n}();\n\nfunction calculateMatrixStack(target, container, rootContainer, isAbsolute3d) {\n  var _a;\n  if (rootContainer === void 0) {rootContainer = container;}\n  var _b = getMatrixStackInfo(target, container),matrixes = _b.matrixes,is3d = _b.is3d,prevTargetMatrix = _b.targetMatrix,transformOrigin = _b.transformOrigin,targetOrigin = _b.targetOrigin,offsetContainer = _b.offsetContainer,hasFixed = _b.hasFixed,containerZoom = _b.zoom; // prevMatrix\n  var _c = getCachedMatrixContainerInfo(offsetContainer, rootContainer),rootMatrixes = _c.matrixes,isRoot3d = _c.is3d,offsetRootContainer = _c.offsetContainer,rootZoom = _c.zoom; // prevRootMatrix\n  // if (rootContainer === document.body) {\n  //     console.log(offsetContainer, rootContainer, rootMatrixes);\n  // }\n  var isNext3d = isAbsolute3d || isRoot3d || is3d;\n  var n = isNext3d ? 4 : 3;\n  var isSVGGraphicElement = target.tagName.toLowerCase() !== \"svg\" && \"ownerSVGElement\" in target;\n  var targetMatrix = prevTargetMatrix;\n  // let allMatrix = prevMatrix ? convertDimension(prevMatrix, prevN!, n) : createIdentityMatrix(n);\n  // let rootMatrix = prevRootMatrix ? convertDimension(prevRootMatrix, prevN!, n) : createIdentityMatrix(n);\n  // let beforeMatrix = prevMatrix ? convertDimension(prevMatrix, prevN!, n) : createIdentityMatrix(n);\n  var allMatrix = createIdentityMatrix(n);\n  var rootMatrix = createIdentityMatrix(n);\n  var beforeMatrix = createIdentityMatrix(n);\n  var offsetMatrix = createIdentityMatrix(n);\n  var length = matrixes.length;\n  var nextRootMatrixes = rootMatrixes.map(function (info) {\n    return __assign(__assign({}, info), { matrix: info.matrix ? __spreadArray([], __read(info.matrix), false) : undefined });\n  }).reverse();\n  matrixes.reverse();\n  if (!is3d && isNext3d) {\n    targetMatrix = convertDimension(targetMatrix, 3, 4);\n    convert3DMatrixes(matrixes);\n  }\n  if (!isRoot3d && isNext3d) {\n    convert3DMatrixes(nextRootMatrixes);\n  }\n  // rootMatrix = (...) -> container -> offset -> absolute -> offset -> absolute(targetMatrix)\n  // rootMatrixBeforeOffset = lastOffsetMatrix -> (...) -> container\n  // beforeMatrix = (... -> container -> offset -> absolute) -> offset -> absolute(targetMatrix)\n  // offsetMatrix = (... -> container -> offset -> absolute -> offset) -> absolute(targetMatrix)\n  nextRootMatrixes.forEach(function (info) {\n    rootMatrix = multiply(rootMatrix, info.matrix, n);\n  });\n  var originalRootContainer = rootContainer || getDocumentBody(target);\n  var endContainer = ((_a = nextRootMatrixes[0]) === null || _a === void 0 ? void 0 : _a.target) ||\n  getOffsetInfo(originalRootContainer, originalRootContainer, true).offsetParent;\n  var rootMatrixBeforeOffset = nextRootMatrixes.slice(1).reduce(function (matrix, info) {\n    return multiply(matrix, info.matrix, n);\n  }, createIdentityMatrix(n));\n  matrixes.forEach(function (info, i) {\n    if (length - 2 === i) {\n      // length - 3\n      beforeMatrix = allMatrix.slice();\n    }\n    if (length - 1 === i) {\n      // length - 2\n      offsetMatrix = allMatrix.slice();\n    }\n    // calculate for SVGElement\n    if (!info.matrix) {\n      var nextInfo = matrixes[i + 1];\n      var offset = getSVGOffset(info, nextInfo, endContainer, n, multiply(rootMatrixBeforeOffset, allMatrix, n));\n      info.matrix = createOriginMatrix(offset, n);\n    }\n    allMatrix = multiply(allMatrix, info.matrix, n);\n  });\n  var isMatrix3d = !isSVGGraphicElement && is3d;\n  if (!targetMatrix) {\n    targetMatrix = createIdentityMatrix(isMatrix3d ? 4 : 3);\n  }\n  var targetTransform = makeMatrixCSS(isSVGGraphicElement && targetMatrix.length === 16 ?\n  convertDimension(targetMatrix, 4, 3) : targetMatrix, isMatrix3d);\n  var originalRootMatrix = rootMatrix;\n  rootMatrix = ignoreDimension(rootMatrix, n, n);\n  return {\n    hasZoom: containerZoom !== 1 || rootZoom !== 1,\n    hasFixed: hasFixed,\n    matrixes: matrixes,\n    rootMatrix: rootMatrix,\n    originalRootMatrix: originalRootMatrix,\n    beforeMatrix: beforeMatrix,\n    offsetMatrix: offsetMatrix,\n    allMatrix: allMatrix,\n    targetMatrix: targetMatrix,\n    targetTransform: targetTransform,\n    inlineTransform: target.style.transform,\n    transformOrigin: transformOrigin,\n    targetOrigin: targetOrigin,\n    is3d: isNext3d,\n    offsetContainer: offsetContainer,\n    offsetRootContainer: offsetRootContainer\n  };\n}\n\nfunction calculateElementInfo(target, container, rootContainer, isAbsolute3d) {\n  if (rootContainer === void 0) {rootContainer = container;}\n  var width = 0;\n  var height = 0;\n  var rotation = 0;\n  var allResult = {};\n  var sizes = getSize(target);\n  if (target) {\n    width = sizes.offsetWidth;\n    height = sizes.offsetHeight;\n  }\n  if (target) {\n    var result = calculateMatrixStack(target, container, rootContainer, isAbsolute3d);\n    var position = calculateElementPosition(result.allMatrix, result.transformOrigin, width, height);\n    allResult = __assign(__assign({}, result), position);\n    var rotationPosition = calculateElementPosition(result.allMatrix, [50, 50], 100, 100);\n    rotation = getRotationRad([rotationPosition.pos1, rotationPosition.pos2], rotationPosition.direction);\n  }\n  var n = isAbsolute3d ? 4 : 3;\n  return __assign(__assign(__assign({ hasZoom: false, width: width, height: height, rotation: rotation }, sizes), { originalRootMatrix: createIdentityMatrix(n), rootMatrix: createIdentityMatrix(n), beforeMatrix: createIdentityMatrix(n), offsetMatrix: createIdentityMatrix(n), allMatrix: createIdentityMatrix(n), targetMatrix: createIdentityMatrix(n), targetTransform: \"\", inlineTransform: \"\", transformOrigin: [0, 0], targetOrigin: [0, 0], is3d: !!isAbsolute3d, left: 0, top: 0, right: 0, bottom: 0, origin: [0, 0], pos1: [0, 0], pos2: [0, 0], pos3: [0, 0], pos4: [0, 0], direction: 1, hasFixed: false, offsetContainer: null, offsetRootContainer: null, matrixes: [] }), allResult);\n}\nfunction getElementInfo(target, container, rootContainer) {\n  if (rootContainer === void 0) {rootContainer = container;}\n  return calculateElementInfo(target, container, rootContainer, true);\n}\n\nfunction getMoveableTargetInfo(moveableElement, target, container, parentContainer, rootContainer, requestStyles) {\n  if (requestStyles === void 0) {requestStyles = [];}\n  var beforeDirection = 1;\n  var beforeOrigin = [0, 0];\n  var targetClientRect = resetClientRect();\n  var moveableClientRect = resetClientRect();\n  var containerClientRect = resetClientRect();\n  var rootContainerClientRect = resetClientRect();\n  var offsetDelta = [0, 0];\n  var style = {};\n  var result = calculateElementInfo(target, container, rootContainer, true);\n  if (target) {\n    var getStyle_1 = getCachedStyle(target);\n    requestStyles.forEach(function (name) {\n      style[name] = getStyle_1(name);\n    });\n    var n = result.is3d ? 4 : 3;\n    var beforePosition = calculateElementPosition(result.offsetMatrix, plus(result.transformOrigin, getOrigin(result.targetMatrix, n)), result.width, result.height);\n    beforeDirection = beforePosition.direction;\n    beforeOrigin = plus(beforePosition.origin, [beforePosition.left - result.left, beforePosition.top - result.top]);\n    rootContainerClientRect = getClientRect(result.offsetRootContainer);\n    var offsetContainer = getOffsetInfo(parentContainer, parentContainer, true).offsetParent ||\n    result.offsetRootContainer;\n    if (result.hasZoom) {\n      var absoluteTargetPosition = calculateElementPosition(multiply(result.originalRootMatrix, result.allMatrix), result.transformOrigin, result.width, result.height);\n      var absoluteContainerPosition = calculateElementPosition(result.originalRootMatrix, getTransformOriginArray(getCachedStyle(offsetContainer)(\"transformOrigin\")).map(function (pos) {return parseFloat(pos);}), offsetContainer.offsetWidth, offsetContainer.offsetHeight);\n      targetClientRect = getClientRectByPosition(absoluteTargetPosition, rootContainerClientRect);\n      containerClientRect = getClientRectByPosition(absoluteContainerPosition, rootContainerClientRect, offsetContainer, true);\n      if (moveableElement) {\n        var left = absoluteTargetPosition.left;\n        var top_1 = absoluteTargetPosition.top;\n        moveableClientRect = getClientRectByPosition({\n          left: left,\n          top: top_1,\n          bottom: top_1,\n          right: top_1\n        }, rootContainerClientRect);\n      }\n    } else\n    {\n      targetClientRect = getClientRect(target);\n      containerClientRect = getCachedClientRect(offsetContainer);\n      if (moveableElement) {\n        moveableClientRect = getClientRect(moveableElement);\n      }\n      var containerClientRectLeft = containerClientRect.left,containerClientRectTop = containerClientRect.top,containterClientLeft = containerClientRect.clientLeft,containerClientTop = containerClientRect.clientTop;\n      var clientDelta = [\n      targetClientRect.left - containerClientRectLeft,\n      targetClientRect.top - containerClientRectTop];\n\n      offsetDelta = minus(calculateInversePosition(result.rootMatrix, clientDelta, 4), [containterClientLeft + result.left, containerClientTop + result.top]);\n    }\n  }\n  return __assign({ targetClientRect: targetClientRect, containerClientRect: containerClientRect, moveableClientRect: moveableClientRect, rootContainerClientRect: rootContainerClientRect, beforeDirection: beforeDirection, beforeOrigin: beforeOrigin, originalBeforeOrigin: beforeOrigin, target: target, style: style, offsetDelta: offsetDelta }, result);\n}\n\nfunction getPersistState(rect) {\n  var pos1 = rect.pos1,pos2 = rect.pos2,pos3 = rect.pos3,pos4 = rect.pos4;\n  if (!pos1 || !pos2 || !pos3 || !pos4) {\n    return null;\n  }\n  var minPos = getMinMaxs([pos1, pos2, pos3, pos4]);\n  var posDelta = [minPos.minX, minPos.minY];\n  var origin = minus(rect.origin, posDelta);\n  pos1 = minus(pos1, posDelta);\n  pos2 = minus(pos2, posDelta);\n  pos3 = minus(pos3, posDelta);\n  pos4 = minus(pos4, posDelta);\n  return __assign(__assign({}, rect), { left: rect.left, top: rect.top, posDelta: posDelta, pos1: pos1, pos2: pos2, pos3: pos3, pos4: pos4, origin: origin, beforeOrigin: origin,\n    // originalBeforeOrigin: origin,\n    isPersisted: true });\n}\n\nvar MoveableManager = /*#__PURE__*/function (_super) {\n  __extends(MoveableManager, _super);\n  function MoveableManager() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.state = __assign({ container: null, gestos: {}, renderLines: [\n      [[0, 0], [0, 0]],\n      [[0, 0], [0, 0]],\n      [[0, 0], [0, 0]],\n      [[0, 0], [0, 0]]],\n      renderPoses: [[0, 0], [0, 0], [0, 0], [0, 0]], disableNativeEvent: false, posDelta: [0, 0] }, getMoveableTargetInfo(null));\n    _this.renderState = {};\n    _this.enabledAbles = [];\n    _this.targetAbles = [];\n    _this.controlAbles = [];\n    _this.rotation = 0;\n    _this.scale = [1, 1];\n    _this.isMoveableMounted = false;\n    _this.isUnmounted = false;\n    _this.events = {\n      \"mouseEnter\": null,\n      \"mouseLeave\": null\n    };\n    _this._emitter = new EventEmitter();\n    _this._prevOriginalDragTarget = null;\n    _this._originalDragTarget = null;\n    _this._prevDragTarget = null;\n    _this._dragTarget = null;\n    _this._prevPropTarget = null;\n    _this._propTarget = null;\n    _this._prevDragArea = false;\n    _this._isPropTargetChanged = false;\n    _this._hasFirstTarget = false;\n    _this._reiszeObserver = null;\n    _this._observerId = 0;\n    _this._mutationObserver = null;\n    _this._rootContainer = null;\n    _this._viewContainer = null;\n    _this._viewClassNames = [];\n    _this._store = {};\n    _this.checkUpdateRect = function () {\n      if (_this.isDragging()) {\n        return;\n      }\n      var parentMoveable = _this.props.parentMoveable;\n      if (parentMoveable) {\n        parentMoveable.checkUpdateRect();\n        return;\n      }\n      cancelAnimationFrame(_this._observerId);\n      _this._observerId = requestAnimationFrame(function () {\n        if (_this.isDragging()) {\n          return;\n        }\n        _this.updateRect();\n      });\n    };\n    _this._onPreventClick = function (e) {\n      e.stopPropagation();\n      e.preventDefault();\n      // removeEvent(window, \"click\", this._onPreventClick, true);\n    };\n    return _this;\n  }\n  MoveableManager.prototype.render = function () {\n    var props = this.props;\n    var state = this.getState();\n    var parentPosition = props.parentPosition,className = props.className,propsTarget = props.target,zoom = props.zoom,cspNonce = props.cspNonce,translateZ = props.translateZ,ControlBoxElement = props.cssStyled,groupable = props.groupable,linePadding = props.linePadding,controlPadding = props.controlPadding;\n    this._checkUpdateRootContainer();\n    this.checkUpdate();\n    this.updateRenderPoses();\n    var _a = __read(parentPosition || [0, 0], 2),parentLeft = _a[0],parentTop = _a[1];\n    var left = state.left,top = state.top,stateTarget = state.target,direction = state.direction,hasFixed = state.hasFixed,offsetDelta = state.offsetDelta;\n    var groupTargets = props.targets;\n    var isDragging = this.isDragging();\n    var ableAttributes = {};\n    this.getEnabledAbles().forEach(function (able) {\n      ableAttributes[\"data-able-\".concat(able.name.toLowerCase())] = true;\n    });\n    var ableClassName = this._getAbleClassName();\n    var isDisplay = groupTargets && groupTargets.length && (stateTarget || groupable) ||\n    propsTarget ||\n    !this._hasFirstTarget && this.state.isPersisted;\n    var isVisible = this.controlBox || this.props.firstRenderState || this.props.persistData;\n    var translate = [left - parentLeft, top - parentTop];\n    if (!groupable && props.useAccuratePosition) {\n      translate[0] += offsetDelta[0];\n      translate[1] += offsetDelta[1];\n    }\n    var style = {\n      \"position\": hasFixed ? \"fixed\" : \"absolute\",\n      \"display\": isDisplay ? \"block\" : \"none\",\n      \"visibility\": isVisible ? \"visible\" : \"hidden\",\n      \"transform\": \"translate3d(\".concat(translate[0], \"px, \").concat(translate[1], \"px, \").concat(translateZ, \")\"),\n      \"--zoom\": zoom,\n      \"--zoompx\": \"\".concat(zoom, \"px\")\n    };\n    if (linePadding) {\n      style[\"--moveable-line-padding\"] = linePadding;\n    }\n    if (controlPadding) {\n      style[\"--moveable-control-padding\"] = controlPadding;\n    }\n    return React.createElement(ControlBoxElement, __assign({ cspNonce: cspNonce, ref: ref(this, \"controlBox\"), className: \"\".concat(prefix(\"control-box\", direction === -1 ? \"reverse\" : \"\", isDragging ? \"dragging\" : \"\"), \" \").concat(ableClassName, \" \").concat(className) }, ableAttributes, { onClick: this._onPreventClick, style: style }),\n    this.renderAbles(),\n    this._renderLines());\n  };\n  MoveableManager.prototype.componentDidMount = function () {\n    this.isMoveableMounted = true;\n    this.isUnmounted = false;\n    var props = this.props;\n    var parentMoveable = props.parentMoveable,container = props.container;\n    this._checkUpdateRootContainer();\n    this._checkUpdateViewContainer();\n    this._updateTargets();\n    this._updateNativeEvents();\n    this._updateEvents();\n    this.updateCheckInput();\n    this._updateObserver(this.props);\n    if (!container && !parentMoveable && !this.state.isPersisted) {\n      this.updateRect(\"\", false, false);\n      this.forceUpdate();\n    }\n  };\n  MoveableManager.prototype.componentDidUpdate = function (prevProps) {\n    this._checkUpdateRootContainer();\n    this._checkUpdateViewContainer();\n    this._updateNativeEvents();\n    this._updateTargets();\n    this._updateEvents();\n    this.updateCheckInput();\n    this._updateObserver(prevProps);\n  };\n  MoveableManager.prototype.componentWillUnmount = function () {\n    var _a, _b;\n    this.isMoveableMounted = false;\n    this.isUnmounted = true;\n    this._emitter.off();\n    (_a = this._reiszeObserver) === null || _a === void 0 ? void 0 : _a.disconnect();\n    (_b = this._mutationObserver) === null || _b === void 0 ? void 0 : _b.disconnect();\n    var viewContainer = this._viewContainer;\n    if (viewContainer) {\n      this._changeAbleViewClassNames([]);\n    }\n    unsetGesto(this, false);\n    unsetGesto(this, true);\n    var events = this.events;\n    for (var name_1 in events) {\n      var manager = events[name_1];\n      manager && manager.destroy();\n    }\n  };\n  MoveableManager.prototype.getTargets = function () {\n    var target = this.props.target;\n    return target ? [target] : [];\n  };\n  /**\r\n   * Get the able used in MoveableManager.\r\n   * @method Moveable#getAble\r\n   * @param - able name\r\n   */\n  MoveableManager.prototype.getAble = function (ableName) {\n    var ables = this.props.ables || [];\n    return find(ables, function (able) {return able.name === ableName;});\n  };\n  MoveableManager.prototype.getContainer = function () {\n    var _a = this.props,parentMoveable = _a.parentMoveable,wrapperMoveable = _a.wrapperMoveable,container = _a.container;\n    return container ||\n    wrapperMoveable && wrapperMoveable.getContainer() ||\n    parentMoveable && parentMoveable.getContainer() ||\n    this.controlBox.parentElement;\n  };\n  /**\r\n   * Returns the element of the control box.\r\n   * @method Moveable#getControlBoxElement\r\n   */\n  MoveableManager.prototype.getControlBoxElement = function () {\n    return this.controlBox;\n  };\n  /**\r\n   * Target element to be dragged in moveable\r\n   * @method Moveable#getDragElement\r\n   */\n  MoveableManager.prototype.getDragElement = function () {\n    return this._dragTarget;\n  };\n  /**\r\n   * Check if the target is an element included in the moveable.\r\n   * @method Moveable#isMoveableElement\r\n   * @param - the target\r\n   * @example\r\n   * import Moveable from \"moveable\";\r\n   *\r\n   * const moveable = new Moveable(document.body);\r\n   *\r\n   * window.addEventListener(\"click\", e => {\r\n   *     if (!moveable.isMoveableElement(e.target)) {\r\n   *         moveable.target = e.target;\r\n   *     }\r\n   * });\r\n   */\n  MoveableManager.prototype.isMoveableElement = function (target) {\n    var _a;\n    return target && (((_a = target.getAttribute) === null || _a === void 0 ? void 0 : _a.call(target, \"class\")) || \"\").indexOf(PREFIX) > -1;\n  };\n  /**\r\n   * You can drag start the Moveable through the external `MouseEvent`or `TouchEvent`. (Angular: ngDragStart)\r\n   * @method Moveable#dragStart\r\n   * @param - external `MouseEvent`or `TouchEvent`\r\n   * @example\r\n   * import Moveable from \"moveable\";\r\n   *\r\n   * const moveable = new Moveable(document.body);\r\n   *\r\n   * document.body.addEventListener(\"mousedown\", e => {\r\n   *     if (!moveable.isMoveableElement(e.target)) {\r\n   *          moveable.dragStart(e);\r\n   *     }\r\n   * });\r\n   */\n  MoveableManager.prototype.dragStart = function (e, target) {\n    if (target === void 0) {target = e.target;}\n    var targetGesto = this.targetGesto;\n    var controlGesto = this.controlGesto;\n    if (targetGesto && checkMoveableTarget(this)({ inputEvent: e }, target)) {\n      if (!targetGesto.isFlag()) {\n        targetGesto.triggerDragStart(e);\n      }\n    } else\n    if (controlGesto && this.isMoveableElement(target)) {\n      if (!controlGesto.isFlag()) {\n        controlGesto.triggerDragStart(e);\n      }\n    }\n    return this;\n  };\n  /**\r\n   * Hit test an element or rect on a moveable target.\r\n   * (100% = 100)\r\n   * @method Moveable#hitTest\r\n   * @param - element or rect to test\r\n   * @return - Get hit test rate (rate > 0 is hitted)\r\n   * @example\r\n   * import Moveable from \"moveable\";\r\n   *\r\n   * const moveable = new Moveable(document.body);\r\n   *\r\n   * document.body.addEventListener(\"mousedown\", e => {\r\n   *     if (moveable.hitTest(e.target) > 0) {\r\n   *          console.log(\"hiited\");\r\n   *     }\r\n   * });\r\n   */\n  MoveableManager.prototype.hitTest = function (el) {\n    var _a = this.state,target = _a.target,pos1 = _a.pos1,pos2 = _a.pos2,pos3 = _a.pos3,pos4 = _a.pos4,targetClientRect = _a.targetClientRect;\n    if (!target) {\n      return 0;\n    }\n    var rect;\n    if (isNode(el)) {\n      var clientRect = el.getBoundingClientRect();\n      rect = {\n        left: clientRect.left,\n        top: clientRect.top,\n        width: clientRect.width,\n        height: clientRect.height\n      };\n    } else\n    {\n      rect = __assign({ width: 0, height: 0 }, el);\n    }\n    var rectLeft = rect.left,rectTop = rect.top,rectWidth = rect.width,rectHeight = rect.height;\n    var points = fitPoints([pos1, pos2, pos4, pos3], targetClientRect);\n    var size = getOverlapSize(points, [\n    [rectLeft, rectTop],\n    [rectLeft + rectWidth, rectTop],\n    [rectLeft + rectWidth, rectTop + rectHeight],\n    [rectLeft, rectTop + rectHeight]]\n    );\n    var totalSize = getAreaSize(points);\n    if (!size || !totalSize) {\n      return 0;\n    }\n    return Math.min(100, size / totalSize * 100);\n  };\n  /**\r\n   * Whether the coordinates are inside Moveable\r\n   * @method Moveable#isInside\r\n   * @param - x coordinate\r\n   * @param - y coordinate\r\n   * @return - True if the coordinate is in moveable or false\r\n   * @example\r\n   * import Moveable from \"moveable\";\r\n   *\r\n   * const moveable = new Moveable(document.body);\r\n   *\r\n   * document.body.addEventListener(\"mousedown\", e => {\r\n   *     if (moveable.isInside(e.clientX, e.clientY)) {\r\n   *          console.log(\"inside\");\r\n   *     }\r\n   * });\r\n   */\n  MoveableManager.prototype.isInside = function (clientX, clientY) {\n    var _a = this.state,target = _a.target,pos1 = _a.pos1,pos2 = _a.pos2,pos3 = _a.pos3,pos4 = _a.pos4,targetClientRect = _a.targetClientRect;\n    if (!target) {\n      return false;\n    }\n    return isInside([clientX, clientY], fitPoints([pos1, pos2, pos4, pos3], targetClientRect));\n  };\n  /**\r\n   * If the width, height, left, and top of all elements change, update the shape of the moveable.\r\n   * @method Moveable#updateRect\r\n   * @example\r\n   * import Moveable from \"moveable\";\r\n   *\r\n   * const moveable = new Moveable(document.body);\r\n   *\r\n   * window.addEventListener(\"resize\", e => {\r\n   *     moveable.updateRect();\r\n   * });\r\n   */\n  MoveableManager.prototype.updateRect = function (type, isTarget, isSetState) {\n    if (isSetState === void 0) {isSetState = true;}\n    var props = this.props;\n    var isSingle = !props.parentPosition && !props.wrapperMoveable;\n    if (isSingle) {\n      setStoreCache(true);\n    }\n    var parentMoveable = props.parentMoveable;\n    var state = this.state;\n    var target = state.target || props.target;\n    var container = this.getContainer();\n    var rootContainer = parentMoveable ?\n    parentMoveable._rootContainer :\n    this._rootContainer;\n    var nextState = getMoveableTargetInfo(this.controlBox, target, container, container, rootContainer || container, this._getRequestStyles());\n    if (!target && this._hasFirstTarget && props.persistData) {\n      var persistState = getPersistState(props.persistData);\n      for (var name_2 in persistState) {\n        nextState[name_2] = persistState[name_2];\n      }\n    }\n    if (isSingle) {\n      setStoreCache();\n    }\n    this.updateState(nextState, parentMoveable ? false : isSetState);\n  };\n  /**\r\n   * Check if the moveable state is being dragged.\r\n   * @method Moveable#isDragging\r\n   * @param - If you want to check if able is dragging, specify ableName.\r\n   * @example\r\n   * import Moveable from \"moveable\";\r\n   *\r\n   * const moveable = new Moveable(document.body);\r\n   *\r\n   * // false\r\n   * console.log(moveable.isDragging());\r\n   *\r\n   * moveable.on(\"drag\", () => {\r\n   *   // true\r\n   *   console.log(moveable.isDragging());\r\n   * });\r\n   */\n  MoveableManager.prototype.isDragging = function (ableName) {\n    var _a, _b;\n    var targetGesto = this.targetGesto;\n    var controlGesto = this.controlGesto;\n    if (targetGesto === null || targetGesto === void 0 ? void 0 : targetGesto.isFlag()) {\n      if (!ableName) {\n        return true;\n      }\n      var data = targetGesto.getEventData();\n      return !!((_a = data[ableName]) === null || _a === void 0 ? void 0 : _a.isEventStart);\n    }\n    if (controlGesto === null || controlGesto === void 0 ? void 0 : controlGesto.isFlag()) {\n      if (!ableName) {\n        return true;\n      }\n      var data = controlGesto.getEventData();\n      return !!((_b = data[ableName]) === null || _b === void 0 ? void 0 : _b.isEventStart);\n    }\n    return false;\n  };\n  /**\r\n   * If the width, height, left, and top of the only target change, update the shape of the moveable.\r\n   * Use `.updateRect()` method\r\n   * @method Moveable#updateTarget\r\n   * @deprecated\r\n   * @example\r\n   * import Moveable from \"moveable\";\r\n   *\r\n   * const moveable = new Moveable(document.body);\r\n   *\r\n   * moveable.updateTarget();\r\n   */\n  MoveableManager.prototype.updateTarget = function (type) {\n    this.updateRect(type, true);\n  };\n  /**\r\n   * You can get the vertex information, position and offset size information of the target based on the container.\r\n   * @method Moveable#getRect\r\n   * @return - The Rect Info\r\n   * @example\r\n   * import Moveable from \"moveable\";\r\n   *\r\n   * const moveable = new Moveable(document.body);\r\n   *\r\n   * const rectInfo = moveable.getRect();\r\n   */\n  MoveableManager.prototype.getRect = function () {\n    var state = this.state;\n    var poses = getAbsolutePosesByState(this.state);\n    var _a = __read(poses, 4),pos1 = _a[0],pos2 = _a[1],pos3 = _a[2],pos4 = _a[3];\n    var rect = getRect(poses);\n    var offsetWidth = state.width,offsetHeight = state.height;\n    var width = rect.width,height = rect.height,left = rect.left,top = rect.top;\n    var statePos = [state.left, state.top];\n    var origin = plus(statePos, state.origin);\n    var beforeOrigin = plus(statePos, state.beforeOrigin);\n    var transformOrigin = state.transformOrigin;\n    return {\n      width: width,\n      height: height,\n      left: left,\n      top: top,\n      pos1: pos1,\n      pos2: pos2,\n      pos3: pos3,\n      pos4: pos4,\n      offsetWidth: offsetWidth,\n      offsetHeight: offsetHeight,\n      beforeOrigin: beforeOrigin,\n      origin: origin,\n      transformOrigin: transformOrigin,\n      rotation: this.getRotation()\n    };\n  };\n  /**\r\n   * Get a manager that manages the moveable's state and props.\r\n   * @method Moveable#getManager\r\n   * @return - The Rect Info\r\n   * @example\r\n   * import Moveable from \"moveable\";\r\n   *\r\n   * const moveable = new Moveable(document.body);\r\n   *\r\n   * const manager = moveable.getManager(); // real moveable class instance\r\n   */\n  MoveableManager.prototype.getManager = function () {\n    return this;\n  };\n  /**\r\n   * You can stop the dragging currently in progress through a method from outside.\r\n   * @method Moveable#stopDrag\r\n   * @return - The Rect Info\r\n   * @example\r\n   * import Moveable from \"moveable\";\r\n   *\r\n   * const moveable = new Moveable(document.body);\r\n   *\r\n   * moveable.stopDrag();\r\n   */\n  MoveableManager.prototype.stopDrag = function (type) {\n    if (!type || type === \"target\") {\n      var gesto = this.targetGesto;\n      if ((gesto === null || gesto === void 0 ? void 0 : gesto.isIdle()) === false) {\n        unsetAbles(this, false);\n      }\n      gesto === null || gesto === void 0 ? void 0 : gesto.stop();\n    }\n    if (!type || type === \"control\") {\n      var gesto = this.controlGesto;\n      if ((gesto === null || gesto === void 0 ? void 0 : gesto.isIdle()) === false) {\n        unsetAbles(this, true);\n      }\n      gesto === null || gesto === void 0 ? void 0 : gesto.stop();\n    }\n  };\n  MoveableManager.prototype.getRotation = function () {\n    var _a = this.state,pos1 = _a.pos1,pos2 = _a.pos2,direction = _a.direction;\n    return getAbsoluteRotation(pos1, pos2, direction);\n  };\n  /**\r\n   * Request able through a method rather than an event.\r\n   * At the moment of execution, requestStart is executed,\r\n   * and then request and requestEnd can be executed through Requester.\r\n   * @method Moveable#request\r\n   * @see {@link https://daybrush.com/moveable/release/latest/doc/Moveable.Draggable.html#request|Draggable Requester}\r\n   * @see {@link https://daybrush.com/moveable/release/latest/doc/Moveable.Resizable.html#request|Resizable Requester}\r\n   * @see {@link https://daybrush.com/moveable/release/latest/doc/Moveable.Scalable.html#request|Scalable Requester}\r\n   * @see {@link https://daybrush.com/moveable/release/latest/doc/Moveable.Rotatable.html#request|Rotatable Requester}\r\n   * @see {@link https://daybrush.com/moveable/release/latest/doc/Moveable.OriginDraggable.html#request|OriginDraggable Requester}\r\n   * @param - ableName\r\n   * @param - request to be able params.\r\n   * @param - If isInstant is true, request and requestEnd are executed immediately.\r\n   * @return - Able Requester. If there is no request in able, nothing will work.\r\n   * @example\r\n   * import Moveable from \"moveable\";\r\n   *\r\n   * const moveable = new Moveable(document.body);\r\n   *\r\n   * // Instantly Request (requestStart - request - requestEnd)\r\n   * moveable.request(\"draggable\", { deltaX: 10, deltaY: 10 }, true);\r\n   *\r\n   * // Start move\r\n   * const requester = moveable.request(\"draggable\");\r\n   * requester.request({ deltaX: 10, deltaY: 10 });\r\n   * requester.request({ deltaX: 10, deltaY: 10 });\r\n   * requester.request({ deltaX: 10, deltaY: 10 });\r\n   * requester.requestEnd();\r\n   */\n  MoveableManager.prototype.request = function (ableName, param, isInstant) {\n    if (param === void 0) {param = {};}\n    var self = this;\n    var props = self.props;\n    var manager = props.parentMoveable || props.wrapperMoveable || self;\n    var allAbles = manager.props.ables;\n    var groupable = props.groupable;\n    var requsetAble = find(allAbles, function (able) {return able.name === ableName;});\n    if (this.isDragging() || !requsetAble || !requsetAble.request) {\n      return {\n        request: function () {\n          return this;\n        },\n        requestEnd: function () {\n          return this;\n        }\n      };\n    }\n    var ableRequester = requsetAble.request(self);\n    var requestInstant = isInstant || param.isInstant;\n    var ableType = ableRequester.isControl ? \"controlAbles\" : \"targetAbles\";\n    var eventAffix = \"\".concat(groupable ? \"Group\" : \"\").concat(ableRequester.isControl ? \"Control\" : \"\");\n    var moveableAbles = __spreadArray([], __read(manager[ableType]), false);\n    var requester = {\n      request: function (ableParam) {\n        triggerAble(self, moveableAbles, [\"drag\"], eventAffix, \"\", __assign(__assign({}, ableRequester.request(ableParam)), { requestAble: ableName, isRequest: true }), requestInstant);\n        return requester;\n      },\n      requestEnd: function () {\n        triggerAble(self, moveableAbles, [\"drag\"], eventAffix, \"End\", __assign(__assign({}, ableRequester.requestEnd()), { requestAble: ableName, isRequest: true }), requestInstant);\n        return requester;\n      }\n    };\n    triggerAble(self, moveableAbles, [\"drag\"], eventAffix, \"Start\", __assign(__assign({}, ableRequester.requestStart(param)), { requestAble: ableName, isRequest: true }), requestInstant);\n    return requestInstant ? requester.request(param).requestEnd() : requester;\n  };\n  /**\r\n   * moveable is the top level that manages targets\r\n   * `Single`: MoveableManager instance\r\n   * `Group`: MoveableGroup instance\r\n   * `IndividualGroup`: MoveableIndividaulGroup instance\r\n   * Returns leaf target MoveableManagers.\r\n   */\n  MoveableManager.prototype.getMoveables = function () {\n    return [this];\n  };\n  /**\r\n   * Remove the Moveable object and the events.\r\n   * @method Moveable#destroy\r\n   * @example\r\n   * import Moveable from \"moveable\";\r\n   *\r\n   * const moveable = new Moveable(document.body);\r\n   *\r\n   * moveable.destroy();\r\n   */\n  MoveableManager.prototype.destroy = function () {\n    this.componentWillUnmount();\n  };\n  MoveableManager.prototype.updateRenderPoses = function () {\n    var state = this.getState();\n    var props = this.props;\n    var padding = props.padding;\n    var originalBeforeOrigin = state.originalBeforeOrigin,transformOrigin = state.transformOrigin,allMatrix = state.allMatrix,is3d = state.is3d,pos1 = state.pos1,pos2 = state.pos2,pos3 = state.pos3,pos4 = state.pos4,stateLeft = state.left,stateTop = state.top,isPersisted = state.isPersisted;\n    var zoom = props.zoom || 1;\n    if (!padding && zoom <= 1) {\n      state.renderPoses = [\n      pos1,\n      pos2,\n      pos3,\n      pos4];\n\n      state.renderLines = [\n      [pos1, pos2],\n      [pos2, pos4],\n      [pos4, pos3],\n      [pos3, pos1]];\n\n      return;\n    }\n    var _a = getPaddingBox(padding || {}),left = _a.left,top = _a.top,bottom = _a.bottom,right = _a.right;\n    var n = is3d ? 4 : 3;\n    // const clipPathInfo = getClipPath(\n    //     props.target,\n    //     offsetWidth,\n    //     offsetHeight,\n    // );\n    // if (clipPathInfo) {\n    //     left -= Math.max(0, clipPathInfo.left);\n    //     top -= Math.max(0, clipPathInfo.top);\n    //     bottom -= Math.max(0, offsetHeight - clipPathInfo.bottom);\n    //     right -= Math.max(0, offsetWidth - clipPathInfo.right);\n    // }\n    var absoluteOrigin = [];\n    if (isPersisted) {\n      absoluteOrigin = transformOrigin;\n    } else\n    if (this.controlBox && props.groupable) {\n      absoluteOrigin = originalBeforeOrigin;\n    } else\n    {\n      absoluteOrigin = plus(originalBeforeOrigin, [stateLeft, stateTop]);\n    }\n    var nextMatrix = multiplies(n, createOriginMatrix(absoluteOrigin.map(function (v) {return -v;}), n), allMatrix, createOriginMatrix(transformOrigin, n));\n    var renderPos1 = calculatePadding(nextMatrix, pos1, [-left, -top], n);\n    var renderPos2 = calculatePadding(nextMatrix, pos2, [right, -top], n);\n    var renderPos3 = calculatePadding(nextMatrix, pos3, [-left, bottom], n);\n    var renderPos4 = calculatePadding(nextMatrix, pos4, [right, bottom], n);\n    state.renderPoses = [\n    renderPos1,\n    renderPos2,\n    renderPos3,\n    renderPos4];\n\n    state.renderLines = [\n    [renderPos1, renderPos2],\n    [renderPos2, renderPos4],\n    [renderPos4, renderPos3],\n    [renderPos3, renderPos1]];\n\n    if (zoom) {\n      var zoomOffset = zoom / 2;\n      state.renderLines = [\n      [\n      calculatePadding(nextMatrix, pos1, [-left - zoomOffset, -top], n),\n      calculatePadding(nextMatrix, pos2, [right + zoomOffset, -top], n)],\n\n      [\n      calculatePadding(nextMatrix, pos2, [right, -top - zoomOffset], n),\n      calculatePadding(nextMatrix, pos4, [right, bottom + zoomOffset], n)],\n\n      [\n      calculatePadding(nextMatrix, pos4, [right + zoomOffset, bottom], n),\n      calculatePadding(nextMatrix, pos3, [-left - zoomOffset, bottom], n)],\n\n      [\n      calculatePadding(nextMatrix, pos3, [-left, bottom + zoomOffset], n),\n      calculatePadding(nextMatrix, pos1, [-left, -top - zoomOffset], n)]];\n\n\n    }\n  };\n  MoveableManager.prototype.checkUpdate = function () {\n    this._isPropTargetChanged = false;\n    var _a = this.props,target = _a.target,container = _a.container,parentMoveable = _a.parentMoveable;\n    var _b = this.state,stateTarget = _b.target,stateContainer = _b.container;\n    if (!stateTarget && !target) {\n      return;\n    }\n    this.updateAbles();\n    var isTargetChanged = !equals(stateTarget, target);\n    var isChanged = isTargetChanged || !equals(stateContainer, container);\n    if (!isChanged) {\n      return;\n    }\n    var moveableContainer = container || this.controlBox;\n    if (moveableContainer) {\n      this.unsetAbles();\n    }\n    this.updateState({ target: target, container: container });\n    if (!parentMoveable && moveableContainer) {\n      this.updateRect(\"End\", false, false);\n    }\n    this._isPropTargetChanged = isTargetChanged;\n  };\n  MoveableManager.prototype.waitToChangeTarget = function () {\n    return new Promise(function () {});\n  };\n  MoveableManager.prototype.triggerEvent = function (name, e) {\n    var props = this.props;\n    this._emitter.trigger(name, e);\n    if (props.parentMoveable && e.isRequest && !e.isRequestChild) {\n      return props.parentMoveable.triggerEvent(name, e, true);\n    }\n    var callback = props[name];\n    return callback && callback(e);\n  };\n  MoveableManager.prototype.useCSS = function (tag, css) {\n    var customStyleMap = this.props.customStyledMap;\n    var key = tag + css;\n    if (!customStyleMap[key]) {\n      customStyleMap[key] = styled(tag, css);\n    }\n    return customStyleMap[key];\n  };\n  MoveableManager.prototype.getState = function () {\n    var _a;\n    var props = this.props;\n    if (props.target || ((_a = props.targets) === null || _a === void 0 ? void 0 : _a.length)) {\n      this._hasFirstTarget = true;\n    }\n    var hasControlBox = this.controlBox;\n    var persistData = props.persistData;\n    var firstRenderState = props.firstRenderState;\n    if (firstRenderState && !hasControlBox) {\n      return firstRenderState;\n    }\n    if (!this._hasFirstTarget && persistData) {\n      var persistState = getPersistState(persistData);\n      if (persistState) {\n        this.updateState(persistState, false);\n        return this.state;\n      }\n    }\n    this.state.isPersisted = false;\n    return this.state;\n  };\n  MoveableManager.prototype.updateSelectors = function () {};\n  MoveableManager.prototype.unsetAbles = function () {\n    var _this = this;\n    this.targetAbles.forEach(function (able) {\n      if (able.unset) {\n        able.unset(_this);\n      }\n    });\n  };\n  MoveableManager.prototype.updateAbles = function (ables, eventAffix) {\n    if (ables === void 0) {ables = this.props.ables;}\n    if (eventAffix === void 0) {eventAffix = \"\";}\n    var props = this.props;\n    var triggerAblesSimultaneously = props.triggerAblesSimultaneously;\n    var enabledAbles = this.getEnabledAbles(ables);\n    var dragStart = \"drag\".concat(eventAffix, \"Start\");\n    var pinchStart = \"pinch\".concat(eventAffix, \"Start\");\n    var dragControlStart = \"drag\".concat(eventAffix, \"ControlStart\");\n    var targetAbles = filterAbles(enabledAbles, [dragStart, pinchStart], triggerAblesSimultaneously);\n    var controlAbles = filterAbles(enabledAbles, [dragControlStart], triggerAblesSimultaneously);\n    this.enabledAbles = enabledAbles;\n    this.targetAbles = targetAbles;\n    this.controlAbles = controlAbles;\n  };\n  MoveableManager.prototype.updateState = function (nextState, isSetState) {\n    if (isSetState) {\n      if (this.isUnmounted) {\n        return;\n      }\n      this.setState(nextState);\n    } else\n    {\n      var state = this.state;\n      for (var name_3 in nextState) {\n        state[name_3] = nextState[name_3];\n      }\n    }\n  };\n  MoveableManager.prototype.getEnabledAbles = function (ables) {\n    if (ables === void 0) {ables = this.props.ables;}\n    var props = this.props;\n    return ables.filter(function (able) {return able && (able.always && props[able.name] !== false ||\n      props[able.name]);});\n  };\n  MoveableManager.prototype.renderAbles = function () {\n    var _this = this;\n    var props = this.props;\n    var triggerAblesSimultaneously = props.triggerAblesSimultaneously;\n    var Renderer = {\n      createElement: createElement\n    };\n    this.renderState = {};\n    return groupByMap(flat(filterAbles(this.getEnabledAbles(), [\"render\"], triggerAblesSimultaneously).map(function (_a) {\n      var render = _a.render;\n      return render(_this, Renderer) || [];\n    })).filter(function (el) {return el;}), function (_a) {\n      var key = _a.key;\n      return key;\n    }).map(function (group) {return group[0];});\n  };\n  MoveableManager.prototype.updateCheckInput = function () {\n    this.targetGesto && (this.targetGesto.options.checkInput = this.props.checkInput);\n  };\n  MoveableManager.prototype._getRequestStyles = function () {\n    var styleNames = this.getEnabledAbles().reduce(function (names, able) {\n      var _a, _b;\n      var ableStyleNames = (_b = (_a = able.requestStyle) === null || _a === void 0 ? void 0 : _a.call(able)) !== null && _b !== void 0 ? _b : [];\n      return __spreadArray(__spreadArray([], __read(names), false), __read(ableStyleNames), false);\n    }, __spreadArray([], __read(this.props.requestStyles || []), false));\n    return styleNames;\n  };\n  MoveableManager.prototype._updateObserver = function (prevProps) {\n    this._updateResizeObserver(prevProps);\n    this._updateMutationObserver(prevProps);\n  };\n  MoveableManager.prototype._updateEvents = function () {\n    var hasTargetAble = this.targetAbles.length;\n    var hasControlAble = this.controlAbles.length;\n    var target = this._dragTarget;\n    var isUnset = !hasTargetAble && this.targetGesto ||\n    this._isTargetChanged(true);\n    if (isUnset) {\n      unsetGesto(this, false);\n      this.updateState({ gestos: {} });\n    }\n    if (!hasControlAble) {\n      unsetGesto(this, true);\n    }\n    if (target && hasTargetAble && !this.targetGesto) {\n      this.targetGesto = getTargetAbleGesto(this, target, \"\");\n    }\n    if (!this.controlGesto && hasControlAble) {\n      this.controlGesto = getControlAbleGesto(this, \"Control\");\n    }\n  };\n  MoveableManager.prototype._updateTargets = function () {\n    var props = this.props;\n    this._prevPropTarget = this._propTarget;\n    this._prevDragTarget = this._dragTarget;\n    this._prevOriginalDragTarget = this._originalDragTarget;\n    this._prevDragArea = props.dragArea;\n    this._propTarget = props.target;\n    this._originalDragTarget = props.dragTarget || props.target;\n    this._dragTarget = getRefTarget(this._originalDragTarget, true);\n  };\n  MoveableManager.prototype._renderLines = function () {\n    var props = this.props;\n    var _a = props,zoom = _a.zoom,hideDefaultLines = _a.hideDefaultLines,hideChildMoveableDefaultLines = _a.hideChildMoveableDefaultLines,parentMoveable = _a.parentMoveable;\n    if (hideDefaultLines || parentMoveable && hideChildMoveableDefaultLines) {\n      return [];\n    }\n    var state = this.getState();\n    var Renderer = {\n      createElement: createElement\n    };\n    return state.renderLines.map(function (line, i) {\n      return renderLine(Renderer, \"\", line[0], line[1], zoom, \"render-line-\".concat(i));\n    });\n  };\n  MoveableManager.prototype._isTargetChanged = function (useDragArea) {\n    var props = this.props;\n    var nextTarget = props.dragTarget || props.target;\n    var prevTarget = this._prevOriginalDragTarget;\n    var prevDragArea = this._prevDragArea;\n    var dragArea = props.dragArea;\n    // check target without dragArea\n    var isDragTargetChanged = !dragArea && prevTarget !== nextTarget;\n    var isDragAreaChanged = (useDragArea || dragArea) && prevDragArea !== dragArea;\n    return isDragTargetChanged || isDragAreaChanged || this._prevPropTarget != this._propTarget;\n  };\n  MoveableManager.prototype._updateNativeEvents = function () {\n    var _this = this;\n    var props = this.props;\n    var target = props.dragArea ? this.areaElement : this.state.target;\n    var events = this.events;\n    var eventKeys = getKeys(events);\n    if (this._isTargetChanged()) {\n      for (var eventName in events) {\n        var manager = events[eventName];\n        manager && manager.destroy();\n        events[eventName] = null;\n      }\n    }\n    if (!target) {\n      return;\n    }\n    var enabledAbles = this.enabledAbles;\n    eventKeys.forEach(function (eventName) {\n      var ables = filterAbles(enabledAbles, [eventName]);\n      var hasAbles = ables.length > 0;\n      var manager = events[eventName];\n      if (!hasAbles) {\n        if (manager) {\n          manager.destroy();\n          events[eventName] = null;\n        }\n        return;\n      }\n      if (!manager) {\n        manager = new EventManager(target, _this, eventName);\n        events[eventName] = manager;\n      }\n      manager.setAbles(ables);\n    });\n  };\n  MoveableManager.prototype._checkUpdateRootContainer = function () {\n    var rootContainer = this.props.rootContainer;\n    if (!this._rootContainer && rootContainer) {\n      this._rootContainer = getRefTarget(rootContainer, true);\n    }\n  };\n  MoveableManager.prototype._checkUpdateViewContainer = function () {\n    var viewContainerOption = this.props.viewContainer;\n    if (!this._viewContainer && viewContainerOption) {\n      this._viewContainer = getRefTarget(viewContainerOption, true);\n    }\n    var viewContainer = this._viewContainer;\n    if (viewContainer) {\n      this._changeAbleViewClassNames(__spreadArray(__spreadArray([], __read(this._getAbleViewClassNames()), false), [\n      this.isDragging() ? VIEW_DRAGGING : \"\"],\n      false));\n    }\n  };\n  MoveableManager.prototype._changeAbleViewClassNames = function (classNames) {\n    var viewContainer = this._viewContainer;\n    var nextClassNames = groupBy(classNames.filter(Boolean), function (el) {return el;}).map(function (_a) {\n      var _b = __read(_a, 1),className = _b[0];\n      return className;\n    });\n    var prevClassNames = this._viewClassNames;\n    var _a = diff$1(prevClassNames, nextClassNames),removed = _a.removed,added = _a.added;\n    removed.forEach(function (index) {\n      removeClass(viewContainer, prevClassNames[index]);\n    });\n    added.forEach(function (index) {\n      addClass(viewContainer, nextClassNames[index]);\n    });\n    this._viewClassNames = nextClassNames;\n  };\n  MoveableManager.prototype._getAbleViewClassNames = function () {\n    var _this = this;\n    return (this.getEnabledAbles().map(function (able) {\n      var _a;\n      return ((_a = able.viewClassName) === null || _a === void 0 ? void 0 : _a.call(able, _this)) || \"\";\n    }).join(\" \") + \" \".concat(this._getAbleClassName(\"-view\"))).split(/\\s+/g);\n  };\n  MoveableManager.prototype._getAbleClassName = function (classPrefix) {\n    var _this = this;\n    if (classPrefix === void 0) {classPrefix = \"\";}\n    var ables = this.getEnabledAbles();\n    var targetGesto = this.targetGesto;\n    var controlGesto = this.controlGesto;\n    var targetGestoData = (targetGesto === null || targetGesto === void 0 ? void 0 : targetGesto.isFlag()) ?\n    targetGesto.getEventData() : {};\n    var controlGestoData = (controlGesto === null || controlGesto === void 0 ? void 0 : controlGesto.isFlag()) ?\n    controlGesto.getEventData() : {};\n    return ables.map(function (able) {\n      var _a, _b, _c;\n      var name = able.name;\n      var className = ((_a = able.className) === null || _a === void 0 ? void 0 : _a.call(able, _this)) || \"\";\n      if (((_b = targetGestoData[name]) === null || _b === void 0 ? void 0 : _b.isEventStart) || (\n      (_c = controlGestoData[name]) === null || _c === void 0 ? void 0 : _c.isEventStart)) {\n        className += \" \".concat(prefix(\"\".concat(name).concat(classPrefix, \"-dragging\")));\n      }\n      return className.trim();\n    }).filter(Boolean).join(\" \");\n  };\n  MoveableManager.prototype._updateResizeObserver = function (prevProps) {\n    var _a;\n    var props = this.props;\n    var target = props.target;\n    var win = getWindow(this.getControlBoxElement());\n    if (!win.ResizeObserver || !target || !props.useResizeObserver) {\n      (_a = this._reiszeObserver) === null || _a === void 0 ? void 0 : _a.disconnect();\n      return;\n    }\n    if (prevProps.target === target && this._reiszeObserver) {\n      return;\n    }\n    var observer = new win.ResizeObserver(this.checkUpdateRect);\n    observer.observe(target, {\n      box: \"border-box\"\n    });\n    this._reiszeObserver = observer;\n  };\n  MoveableManager.prototype._updateMutationObserver = function (prevProps) {\n    var _this = this;\n    var _a;\n    var props = this.props;\n    var target = props.target;\n    var win = getWindow(this.getControlBoxElement());\n    if (!win.MutationObserver || !target || !props.useMutationObserver) {\n      (_a = this._mutationObserver) === null || _a === void 0 ? void 0 : _a.disconnect();\n      return;\n    }\n    if (prevProps.target === target && this._mutationObserver) {\n      return;\n    }\n    var observer = new win.MutationObserver(function (records) {\n      var e_1, _a;\n      try {\n        for (var records_1 = __values(records), records_1_1 = records_1.next(); !records_1_1.done; records_1_1 = records_1.next()) {\n          var mutation = records_1_1.value;\n          if (mutation.type === \"attributes\" && mutation.attributeName === \"style\") {\n            _this.checkUpdateRect();\n          }\n        }\n      }\n      catch (e_1_1) {e_1 = { error: e_1_1 };} finally\n      {\n        try {\n          if (records_1_1 && !records_1_1.done && (_a = records_1.return)) _a.call(records_1);\n        } finally\n        {if (e_1) throw e_1.error;}\n      }\n    });\n    observer.observe(target, {\n      attributes: true\n    });\n    this._mutationObserver = observer;\n  };\n  MoveableManager.defaultProps = {\n    dragTargetSelf: false,\n    target: null,\n    dragTarget: null,\n    container: null,\n    rootContainer: null,\n    origin: true,\n    parentMoveable: null,\n    wrapperMoveable: null,\n    isWrapperMounted: false,\n    parentPosition: null,\n    warpSelf: false,\n    svgOrigin: \"\",\n    dragContainer: null,\n    useResizeObserver: false,\n    useMutationObserver: false,\n    preventDefault: true,\n    preventRightClick: true,\n    preventWheelClick: true,\n    linePadding: 0,\n    controlPadding: 0,\n    ables: [],\n    pinchThreshold: 20,\n    dragArea: false,\n    passDragArea: false,\n    transformOrigin: \"\",\n    className: \"\",\n    zoom: 1,\n    triggerAblesSimultaneously: false,\n    padding: {},\n    pinchOutside: true,\n    checkInput: false,\n    dragFocusedInput: false,\n    groupable: false,\n    hideDefaultLines: false,\n    cspNonce: \"\",\n    translateZ: 0,\n    cssStyled: null,\n    customStyledMap: {},\n    props: {},\n    stopPropagation: false,\n    preventClickDefault: false,\n    preventClickEventOnDrag: true,\n    flushSync: defaultSync,\n    firstRenderState: null,\n    persistData: null,\n    viewContainer: null,\n    requestStyles: [],\n    useAccuratePosition: false\n  };\n  return MoveableManager;\n}(React.PureComponent);\n/**\r\n * The target to indicate Moveable Control Box.\r\n * @name Moveable#target\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body);\r\n * moveable.target = document.querySelector(\".target\");\r\n */\n/**\r\n * Zooms in the elements of a moveable.\r\n * @name Moveable#zoom\r\n * @default 1\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body);\r\n * moveable.zoom = 2;\r\n */\n/**\r\n * Whether the target size is detected and updated whenever it changes.\r\n * @name Moveable#useResizeObserver\r\n * @default false\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body);\r\n * moveable.useResizeObserver = true;\r\n */\n/**\r\n * Resize, Scale Events at edges\r\n * @name Moveable#edge\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body);\r\n * moveable.edge = true;\r\n */\n/**\r\n * You can specify the className of the moveable controlbox.\r\n * @name Moveable#className\r\n * @default \"\"\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body, {\r\n *   className: \"\",\r\n * });\r\n *\r\n * moveable.className = \"moveable1\";\r\n */\n/**\r\n * The target(s) to drag Moveable target(s)\r\n * @name Moveable#dragTarget\r\n * @default target\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body);\r\n * moveable.target = document.querySelector(\".target\");\r\n * moveable.dragTarget = document.querySelector(\".dragTarget\");\r\n */\n/**\r\n * `renderStart` event occurs at the first start of all events.\r\n * @memberof Moveable\r\n * @event renderStart\r\n * @param {Moveable.OnRenderStart} - Parameters for the `renderStart` event\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body, {\r\n *     target: document.querySelector(\".target\"),\r\n * });\r\n * moveable.on(\"renderStart\", ({ target }) => {\r\n *     console.log(\"onRenderStart\", target);\r\n * });\r\n */\n/**\r\n * `render` event occurs before the target is drawn on the screen.\r\n * @memberof Moveable\r\n * @event render\r\n * @param {Moveable.OnRender} - Parameters for the `render` event\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body, {\r\n *     target: document.querySelector(\".target\"),\r\n * });\r\n * moveable.on(\"render\", ({ target }) => {\r\n *     console.log(\"onRender\", target);\r\n * });\r\n */\n/**\r\n * `renderEnd` event occurs at the end of all events.\r\n * @memberof Moveable\r\n * @event renderEnd\r\n * @param {Moveable.OnRenderEnd} - Parameters for the `renderEnd` event\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body, {\r\n *     target: document.querySelector(\".target\"),\r\n * });\r\n * moveable.on(\"renderEnd\", ({ target }) => {\r\n *     console.log(\"onRenderEnd\", target);\r\n * });\r\n */\n/**\r\n * `renderGroupStart` event occurs at the first start of all events in group.\r\n * @memberof Moveable\r\n * @event renderGroupStart\r\n * @param {Moveable.OnRenderGroupStart} - Parameters for the `renderGroupStart` event\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body, {\r\n *     target: [].slice.call(document.querySelectorAll(\".target\")),\r\n * });\r\n * moveable.on(\"renderGroupStart\", ({ targets }) => {\r\n *     console.log(\"onRenderGroupStart\", targets);\r\n * });\r\n */\n/**\r\n * `renderGroup` event occurs before the target is drawn on the screen in group.\r\n * @memberof Moveable\r\n * @event renderGroup\r\n * @param {Moveable.OnRenderGroup} - Parameters for the `renderGroup` event\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body, {\r\n *     target: [].slice.call(document.querySelectorAll(\".target\")),\r\n * });\r\n * moveable.on(\"renderGroup\", ({ targets }) => {\r\n *     console.log(\"onRenderGroup\", targets);\r\n * });\r\n */\n/**\r\n * `renderGroupEnd` event occurs at the end of all events in group.\r\n * @memberof Moveable\r\n * @event renderGroupEnd\r\n * @param {Moveable.OnRenderGroupEnd} - Parameters for the `renderGroupEnd` event\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body, {\r\n *     target: [].slice.call(document.querySelectorAll(\".target\")),\r\n * });\r\n * moveable.on(\"renderGroupEnd\", ({ targets }) => {\r\n *     console.log(\"onRenderGroupEnd\", targets);\r\n * });\r\n */\n\nvar Groupable = {\n  name: \"groupable\",\n  props: [\n  \"defaultGroupRotate\",\n  \"useDefaultGroupRotate\",\n  \"defaultGroupOrigin\",\n  \"groupable\",\n  \"groupableProps\",\n  \"targetGroups\",\n  \"hideChildMoveableDefaultLines\"],\n\n  events: [],\n  render: function (moveable, React) {\n    var _a;\n    var props = moveable.props;\n    var targets = props.targets || [];\n    var _b = moveable.getState(),left = _b.left,top = _b.top,isPersisted = _b.isPersisted;\n    var zoom = props.zoom || 1;\n    var renderGroupRects = moveable.renderGroupRects;\n    var persistDatChildren = ((_a = props.persistData) === null || _a === void 0 ? void 0 : _a.children) || [];\n    if (isPersisted) {\n      targets = persistDatChildren.map(function () {return null;});\n    } else\n    {\n      persistDatChildren = [];\n    }\n    var parentPosition = watchValue(moveable, \"parentPosition\", [left, top], function (styles) {return styles.join(\",\");});\n    var requestStyles = watchValue(moveable, \"requestStyles\", moveable.getRequestChildStyles(), function (styles) {return styles.join(\",\");});\n    moveable.moveables = moveable.moveables.slice(0, targets.length);\n    return __spreadArray(__spreadArray([], __read(targets.map(function (target, i) {\n      return React.createElement(MoveableManager, { key: \"moveable\" + i, ref: refs(moveable, \"moveables\", i), target: target, origin: false, requestStyles: requestStyles, cssStyled: props.cssStyled, customStyledMap: props.customStyledMap, useResizeObserver: props.useResizeObserver, useMutationObserver: props.useMutationObserver, hideChildMoveableDefaultLines: props.hideChildMoveableDefaultLines, parentMoveable: moveable, parentPosition: [left, top], persistData: persistDatChildren[i], zoom: zoom });\n    })), false), __read(flat(renderGroupRects.map(function (_a, i) {\n      var pos1 = _a.pos1,pos2 = _a.pos2,pos3 = _a.pos3,pos4 = _a.pos4;\n      var poses = [pos1, pos2, pos3, pos4];\n      return [\n      [0, 1],\n      [1, 3],\n      [3, 2],\n      [2, 0]].\n      map(function (_a, j) {\n        var _b = __read(_a, 2),from = _b[0],to = _b[1];\n        return renderLine(React, \"\", minus(poses[from], parentPosition), minus(poses[to], parentPosition), zoom, \"group-rect-\".concat(i, \"-\").concat(j));\n      });\n    }))), false);\n  }\n};\n\nvar Clickable = makeAble(\"clickable\", {\n  props: [\n  \"clickable\"],\n\n  events: [\n  \"click\",\n  \"clickGroup\"],\n\n  always: true,\n  dragRelation: \"weak\",\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  dragStart: function () {\n    return;\n  },\n  dragControlStart: function () {\n    return;\n  },\n  dragGroupStart: function (moveable, e) {\n    e.datas.inputTarget = e.inputEvent && e.inputEvent.target;\n  },\n  dragEnd: function (moveable, e) {\n    var target = moveable.props.target;\n    var inputEvent = e.inputEvent;\n    var inputTarget = e.inputTarget;\n    var isMoveableElement = moveable.isMoveableElement(inputTarget);\n    var containsElement = !isMoveableElement && moveable.controlBox.contains(inputTarget);\n    if (!inputEvent || !inputTarget || e.isDrag ||\n    moveable.isMoveableElement(inputTarget) ||\n    containsElement\n    // External event duplicate target or dragAreaElement\n    ) {\n      return;\n    }\n    var containsTarget = target.contains(inputTarget);\n    triggerEvent(moveable, \"onClick\", fillParams(moveable, e, {\n      isDouble: e.isDouble,\n      inputTarget: inputTarget,\n      isTarget: target === inputTarget,\n      moveableTarget: moveable.props.target,\n      containsTarget: containsTarget\n    }));\n  },\n  dragGroupEnd: function (moveable, e) {\n    var inputEvent = e.inputEvent;\n    var inputTarget = e.inputTarget;\n    if (!inputEvent || !inputTarget || e.isDrag ||\n    moveable.isMoveableElement(inputTarget)\n    // External event duplicate target or dragAreaElement\n    || e.datas.inputTarget === inputTarget) {\n      return;\n    }\n    var targets = moveable.props.targets;\n    var targetIndex = targets.indexOf(inputTarget);\n    var isTarget = targetIndex > -1;\n    var containsTarget = false;\n    if (targetIndex === -1) {\n      targetIndex = findIndex(targets, function (parentTarget) {return parentTarget.contains(inputTarget);});\n      containsTarget = targetIndex > -1;\n    }\n    triggerEvent(moveable, \"onClickGroup\", fillParams(moveable, e, {\n      isDouble: e.isDouble,\n      targets: targets,\n      inputTarget: inputTarget,\n      targetIndex: targetIndex,\n      isTarget: isTarget,\n      containsTarget: containsTarget,\n      moveableTarget: targets[targetIndex]\n    }));\n  },\n  dragControlEnd: function (moveable, e) {\n    this.dragEnd(moveable, e);\n  },\n  dragGroupControlEnd: function (moveable, e) {\n    this.dragEnd(moveable, e);\n  }\n});\n/**\r\n * When you click on the element, the `click` event is called.\r\n * @memberof Moveable\r\n * @event click\r\n * @param {Moveable.OnClick} - Parameters for the `click` event\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body, {\r\n *     target: document.querySelector(\".target\"),\r\n * });\r\n * moveable.on(\"click\", ({ hasTarget, containsTarget, targetIndex }) => {\r\n *     // If you click on an element other than the target and not included in the target, index is -1.\r\n *     console.log(\"onClickGroup\", target, hasTarget, containsTarget, targetIndex);\r\n * });\r\n */\n/**\r\n * When you click on the element inside the group, the `clickGroup` event is called.\r\n * @memberof Moveable\r\n * @event clickGroup\r\n * @param {Moveable.OnClickGroup} - Parameters for the `clickGroup` event\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body, {\r\n *     target: [].slice.call(document.querySelectorAll(\".target\")),\r\n * });\r\n * moveable.on(\"clickGroup\", ({ inputTarget, isTarget, containsTarget, targetIndex }) => {\r\n *     // If you click on an element other than the target and not included in the target, index is -1.\r\n *     console.log(\"onClickGroup\", inputTarget, isTarget, containsTarget, targetIndex);\r\n * });\r\n */\n\nfunction getDraggableEvent(e) {\n  var datas = e.originalDatas.draggable;\n  if (!datas) {\n    e.originalDatas.draggable = {};\n    datas = e.originalDatas.draggable;\n  }\n  return __assign(__assign({}, e), { datas: datas });\n}\nvar edgeDraggable = makeAble(\"edgeDraggable\", {\n  css: [\n  \".edge.edgeDraggable.line {\\ncursor: move;\\n}\"],\n\n  render: function (moveable, React) {\n    var props = moveable.props;\n    var edge = props.edgeDraggable;\n    if (!edge) {\n      return [];\n    }\n    return renderEdgeLines(React, \"edgeDraggable\", edge, moveable.getState().renderPoses, props.zoom);\n  },\n  dragCondition: function (moveable, e) {\n    var _a;\n    var props = moveable.props;\n    var target = (_a = e.inputEvent) === null || _a === void 0 ? void 0 : _a.target;\n    if (!props.edgeDraggable || !target) {\n      return false;\n    }\n    return !props.draggable &&\n    hasClass(target, prefix(\"direction\")) &&\n    hasClass(target, prefix(\"edge\")) &&\n    hasClass(target, prefix(\"edgeDraggable\"));\n  },\n  dragStart: function (moveable, e) {\n    return Draggable.dragStart(moveable, getDraggableEvent(e));\n  },\n  drag: function (moveable, e) {\n    return Draggable.drag(moveable, getDraggableEvent(e));\n  },\n  dragEnd: function (moveable, e) {\n    return Draggable.dragEnd(moveable, getDraggableEvent(e));\n  },\n  dragGroupCondition: function (moveable, e) {\n    var _a;\n    var props = moveable.props;\n    var target = (_a = e.inputEvent) === null || _a === void 0 ? void 0 : _a.target;\n    if (!props.edgeDraggable || !target) {\n      return false;\n    }\n    return !props.draggable && hasClass(target, prefix(\"direction\")) && hasClass(target, prefix(\"line\"));\n  },\n  dragGroupStart: function (moveable, e) {\n    return Draggable.dragGroupStart(moveable, getDraggableEvent(e));\n  },\n  dragGroup: function (moveable, e) {\n    return Draggable.dragGroup(moveable, getDraggableEvent(e));\n  },\n  dragGroupEnd: function (moveable, e) {\n    return Draggable.dragGroupEnd(moveable, getDraggableEvent(e));\n  },\n  unset: function (moveable) {\n    return Draggable.unset(moveable);\n  }\n});\n/**\r\n * Whether to move by dragging the edge line (default: false)\r\n * @name Moveable.Draggable#edgeDraggable\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body, {\r\n *  draggable: true,\r\n *  edgeDraggable: false,\r\n * });\r\n *\r\n * moveable.edgeDraggable = true;\r\n */\n\nvar IndividualGroupable = {\n  name: \"individualGroupable\",\n  props: [\n  \"individualGroupable\",\n  \"individualGroupableProps\"],\n\n  events: []\n};\n\nvar MOVEABLE_ABLES = [\nBeforeRenderable,\nDefault, Snappable, Pinchable,\nDraggable, edgeDraggable,\nResizable, Scalable, Warpable, Rotatable,\nScrollable, Padding, Origin,\nOriginDraggable,\nClippable, Roundable, Groupable, IndividualGroupable,\nClickable,\nDragArea,\nRenderable];\n\nvar MOVEABLE_EVENTS = /*#__PURE__*/MOVEABLE_ABLES.reduce(function (current, able) {\n  (able.events || []).forEach(function (name) {\n    pushSet(current, name);\n  });\n  return current;\n}, []);\nvar MOVEABLE_PROPS = /*#__PURE__*/MOVEABLE_ABLES.reduce(function (current, able) {\n  (able.props || []).forEach(function (name) {\n    pushSet(current, name);\n  });\n  return current;\n}, []);\n\nfunction solveConstantsDistance(_a, pos) {\n  var _b = __read(_a, 3),a = _b[0],b = _b[1],c = _b[2];\n  return (a * pos[0] + b * pos[1] + c) / Math.sqrt(a * a + b * b);\n}\nfunction solveC(_a, pos) {\n  var _b = __read(_a, 2),a = _b[0],b = _b[1];\n  // ax + by + c = 0\n  // -ax -by;\n  return -a * pos[0] - b * pos[1];\n}\n\nfunction getMaxPos(poses, index) {\n  return Math.max.apply(Math, __spreadArray([], __read(poses.map(function (_a) {\n    var _b = __read(_a, 4),pos1 = _b[0],pos2 = _b[1],pos3 = _b[2],pos4 = _b[3];\n    return Math.max(pos1[index], pos2[index], pos3[index], pos4[index]);\n  })), false));\n}\nfunction getMinPos(poses, index) {\n  return Math.min.apply(Math, __spreadArray([], __read(poses.map(function (_a) {\n    var _b = __read(_a, 4),pos1 = _b[0],pos2 = _b[1],pos3 = _b[2],pos4 = _b[3];\n    return Math.min(pos1[index], pos2[index], pos3[index], pos4[index]);\n  })), false));\n}\nfunction getGroupRect(parentPoses, rotation) {\n  var _a, _b, _c;\n  var pos1 = [0, 0];\n  var pos2 = [0, 0];\n  var pos3 = [0, 0];\n  var pos4 = [0, 0];\n  var width = 0;\n  var height = 0;\n  if (!parentPoses.length) {\n    return {\n      pos1: pos1,\n      pos2: pos2,\n      pos3: pos3,\n      pos4: pos4,\n      minX: 0,\n      minY: 0,\n      maxX: 0,\n      maxY: 0,\n      width: width,\n      height: height,\n      rotation: rotation\n    };\n  }\n  var fixedRotation = throttle(rotation, TINY_NUM);\n  if (fixedRotation % 90) {\n    var rad = fixedRotation / 180 * Math.PI;\n    var a1_1 = Math.tan(rad);\n    var a2_1 = -1 / a1_1;\n    // ax = y  // -ax + y = 0 // 0 => 1\n    // -ax = y // ax + y = 0  // 0 => 3\n    var a1MinMax_1 = [MAX_NUM, MIN_NUM];\n    var a1MinMaxPos_1 = [[0, 0], [0, 0]];\n    var a2MinMax_1 = [MAX_NUM, MIN_NUM];\n    var a2MinMaxPos_1 = [[0, 0], [0, 0]];\n    parentPoses.forEach(function (poses) {\n      poses.forEach(function (pos) {\n        // const b1 = pos[1] - a1 * pos[0];\n        // const b2 = pos[1] - a2 * pos[0];\n        var a1Dist = solveConstantsDistance([-a1_1, 1, 0], pos);\n        var a2Dist = solveConstantsDistance([-a2_1, 1, 0], pos);\n        if (a1MinMax_1[0] > a1Dist) {\n          a1MinMaxPos_1[0] = pos;\n          a1MinMax_1[0] = a1Dist;\n        }\n        if (a1MinMax_1[1] < a1Dist) {\n          a1MinMaxPos_1[1] = pos;\n          a1MinMax_1[1] = a1Dist;\n        }\n        if (a2MinMax_1[0] > a2Dist) {\n          a2MinMaxPos_1[0] = pos;\n          a2MinMax_1[0] = a2Dist;\n        }\n        if (a2MinMax_1[1] < a2Dist) {\n          a2MinMaxPos_1[1] = pos;\n          a2MinMax_1[1] = a2Dist;\n        }\n      });\n    });\n    var _d = __read(a1MinMaxPos_1, 2),a1MinPos = _d[0],a1MaxPos = _d[1];\n    var _e = __read(a2MinMaxPos_1, 2),a2MinPos = _e[0],a2MaxPos = _e[1];\n    var minHorizontalLine = [-a1_1, 1, solveC([-a1_1, 1], a1MinPos)];\n    var maxHorizontalLine = [-a1_1, 1, solveC([-a1_1, 1], a1MaxPos)];\n    var minVerticalLine = [-a2_1, 1, solveC([-a2_1, 1], a2MinPos)];\n    var maxVerticalLine = [-a2_1, 1, solveC([-a2_1, 1], a2MaxPos)];\n    _a = __read([\n    [minHorizontalLine, minVerticalLine],\n    [minHorizontalLine, maxVerticalLine],\n    [maxHorizontalLine, minVerticalLine],\n    [maxHorizontalLine, maxVerticalLine]].\n    map(function (_a) {\n      var _b = __read(_a, 2),line1 = _b[0],line2 = _b[1];\n      return getIntersectionPointsByConstants(line1, line2)[0];\n    }), 4), pos1 = _a[0], pos2 = _a[1], pos3 = _a[2], pos4 = _a[3];\n    width = a2MinMax_1[1] - a2MinMax_1[0];\n    height = a1MinMax_1[1] - a1MinMax_1[0];\n  } else\n  {\n    var minX_1 = getMinPos(parentPoses, 0);\n    var minY_1 = getMinPos(parentPoses, 1);\n    var maxX_1 = getMaxPos(parentPoses, 0);\n    var maxY_1 = getMaxPos(parentPoses, 1);\n    pos1 = [minX_1, minY_1];\n    pos2 = [maxX_1, minY_1];\n    pos3 = [minX_1, maxY_1];\n    pos4 = [maxX_1, maxY_1];\n    width = maxX_1 - minX_1;\n    height = maxY_1 - minY_1;\n    if (fixedRotation % 180) {\n      // 0\n      // 1 2\n      // 3 4\n      // 90\n      // 3 1\n      // 4 2\n      // 180\n      // 4 3\n      // 2 1\n      // 270\n      // 2 4\n      // 1 3\n      // 1, 2, 3,4 = 3 1 4 2\n      var changedX = [pos3, pos1, pos4, pos2];\n      _b = __read(changedX, 4), pos1 = _b[0], pos2 = _b[1], pos3 = _b[2], pos4 = _b[3];\n      width = maxY_1 - minY_1;\n      height = maxX_1 - minX_1;\n    }\n  }\n  if (fixedRotation % 360 > 180) {\n    // 1 2   4 3\n    // 3 4   2 1\n    var changedX = [pos4, pos3, pos2, pos1];\n    _c = __read(changedX, 4), pos1 = _c[0], pos2 = _c[1], pos3 = _c[2], pos4 = _c[3];\n  }\n  var _f = getMinMaxs([pos1, pos2, pos3, pos4]),minX = _f.minX,minY = _f.minY,maxX = _f.maxX,maxY = _f.maxY;\n  return {\n    pos1: pos1,\n    pos2: pos2,\n    pos3: pos3,\n    pos4: pos4,\n    width: width,\n    height: height,\n    minX: minX,\n    minY: minY,\n    maxX: maxX,\n    maxY: maxY,\n    rotation: rotation\n  };\n}\nfunction findMoveableGroups(moveables, childTargetGroups) {\n  var groups = childTargetGroups.map(function (targetGroup) {\n    if (isArray(targetGroup)) {\n      var childMoveableGroups = findMoveableGroups(moveables, targetGroup);\n      var length_1 = childMoveableGroups.length;\n      if (length_1 > 1) {\n        return childMoveableGroups;\n      } else\n      if (length_1 === 1) {\n        return childMoveableGroups[0];\n      } else\n      {\n        return null;\n      }\n    } else\n    {\n      var checked = find(moveables, function (_a) {\n        var manager = _a.manager;\n        return manager.props.target === targetGroup;\n      });\n      if (checked) {\n        checked.finded = true;\n        return checked.manager;\n      }\n      return null;\n    }\n  }).filter(Boolean);\n  if (groups.length === 1 && isArray(groups[0])) {\n    return groups[0];\n  }\n  return groups;\n}\n/**\r\n * @namespace Moveable.Group\r\n * @description You can make targets moveable.\r\n */\nvar MoveableGroup = /*#__PURE__*/function (_super) {\n  __extends(MoveableGroup, _super);\n  function MoveableGroup() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.differ = new ChildrenDiffer();\n    _this.moveables = [];\n    _this.transformOrigin = \"50% 50%\";\n    _this.renderGroupRects = [];\n    _this._targetGroups = [];\n    _this._hasFirstTargets = false;\n    return _this;\n  }\n  MoveableGroup.prototype.componentDidMount = function () {\n    _super.prototype.componentDidMount.call(this);\n  };\n  MoveableGroup.prototype.checkUpdate = function () {\n    this._isPropTargetChanged = false;\n    this.updateAbles();\n  };\n  MoveableGroup.prototype.getTargets = function () {\n    return this.props.targets;\n  };\n  MoveableGroup.prototype.updateRect = function (type, isTarget, isSetState) {\n    var _a;\n    if (isSetState === void 0) {isSetState = true;}\n    var state = this.state;\n    if (!this.controlBox || state.isPersisted) {\n      return;\n    }\n    setStoreCache(true);\n    this.moveables.forEach(function (moveable) {\n      moveable.updateRect(type, false, false);\n    });\n    var props = this.props;\n    var moveables = this.moveables;\n    var target = state.target || props.target;\n    var checkeds = moveables.map(function (moveable) {return { finded: false, manager: moveable };});\n    var targetGroups = this.props.targetGroups || [];\n    var moveableGroups = findMoveableGroups(checkeds, targetGroups);\n    var useDefaultGroupRotate = props.useDefaultGroupRotate;\n    moveableGroups.push.apply(moveableGroups, __spreadArray([], __read(checkeds.filter(function (_a) {\n      var finded = _a.finded;\n      return !finded;\n    }).map(function (_a) {\n      var manager = _a.manager;\n      return manager;\n    })), false));\n    var renderGroupRects = [];\n    var isReset = !isTarget || type !== \"\" && props.updateGroup;\n    var defaultGroupRotate = props.defaultGroupRotate || 0;\n    if (!this._hasFirstTargets) {\n      var persistedRoatation = (_a = props.persistData) === null || _a === void 0 ? void 0 : _a.rotation;\n      if (persistedRoatation != null) {\n        defaultGroupRotate = persistedRoatation;\n      }\n    }\n    function getMoveableGroupRect(group, parentRotation, isRoot) {\n      var posesRotations = group.map(function (moveable) {\n        if (isArray(moveable)) {\n          var rect = getMoveableGroupRect(moveable, parentRotation);\n          var poses = [rect.pos1, rect.pos2, rect.pos3, rect.pos4];\n          renderGroupRects.push(rect);\n          return { poses: poses, rotation: rect.rotation };\n        } else\n        {\n          return {\n            poses: getAbsolutePosesByState(moveable.state),\n            rotation: moveable.getRotation()\n          };\n        }\n      });\n      var rotations = posesRotations.map(function (_a) {\n        var rotation = _a.rotation;\n        return rotation;\n      });\n      var groupRotation = 0;\n      var firstRotation = rotations[0];\n      var isSameRotation = rotations.every(function (nextRotation) {\n        return Math.abs(firstRotation - nextRotation) < 0.1;\n      });\n      if (isReset) {\n        groupRotation = !useDefaultGroupRotate && isSameRotation ? firstRotation : defaultGroupRotate;\n      } else\n      {\n        groupRotation = !useDefaultGroupRotate && !isRoot && isSameRotation ? firstRotation : parentRotation;\n      }\n      var groupPoses = posesRotations.map(function (_a) {\n        var poses = _a.poses;\n        return poses;\n      });\n      var groupRect = getGroupRect(groupPoses, groupRotation);\n      return groupRect;\n    }\n    var rootGroupRect = getMoveableGroupRect(moveableGroups, this.rotation, true);\n    if (isReset) {\n      // reset rotataion\n      this.rotation = rootGroupRect.rotation;\n      this.transformOrigin = props.defaultGroupOrigin || \"50% 50%\";\n      this.scale = [1, 1];\n    }\n    this._targetGroups = targetGroups;\n    this.renderGroupRects = renderGroupRects;\n    var transformOrigin = this.transformOrigin;\n    var rotation = this.rotation;\n    var scale = this.scale;\n    var width = rootGroupRect.width,height = rootGroupRect.height,minX = rootGroupRect.minX,minY = rootGroupRect.minY;\n    var posesInfo = rotatePosesInfo([\n    [0, 0],\n    [width, 0],\n    [0, height],\n    [width, height]],\n    convertTransformOriginArray(transformOrigin, width, height), this.rotation / 180 * Math.PI);\n    var _b = getMinMaxs(posesInfo.result),deltaX = _b.minX,deltaY = _b.minY;\n    var rotateScale = \" rotate(\".concat(rotation, \"deg)\") +\n    \" scale(\".concat(sign(scale[0]), \", \").concat(sign(scale[1]), \")\");\n    var transform = \"translate(\".concat(-deltaX, \"px, \").concat(-deltaY, \"px)\").concat(rotateScale);\n    this.controlBox.style.transform =\n    \"translate3d(\".concat(minX, \"px, \").concat(minY, \"px, \").concat(this.props.translateZ || 0, \")\");\n    target.style.cssText += \"left:0px;top:0px;\" +\n    \"transform-origin:\".concat(transformOrigin, \";\") +\n    \"width:\".concat(width, \"px;height:\").concat(height, \"px;\") +\n    \"transform: \".concat(transform);\n    state.width = width;\n    state.height = height;\n    var container = this.getContainer();\n    var info = getMoveableTargetInfo(this.controlBox, target, this.controlBox, this.getContainer(), this._rootContainer || container, []);\n    var pos = [info.left, info.top];\n    var _c = __read(getAbsolutePosesByState(info), 4),pos1 = _c[0],pos2 = _c[1],pos3 = _c[2],pos4 = _c[3]; // info.left + info.pos(1 ~ 4)\n    var minPos = getMinMaxs([pos1, pos2, pos3, pos4]);\n    var delta = [minPos.minX, minPos.minY];\n    var direction = sign(scale[0] * scale[1]);\n    info.pos1 = minus(pos1, delta);\n    info.pos2 = minus(pos2, delta);\n    info.pos3 = minus(pos3, delta);\n    info.pos4 = minus(pos4, delta);\n    // info.left = info.left + delta[0];\n    // info.top = info.top + delta[1];\n    info.left = minX - info.left + delta[0];\n    info.top = minY - info.top + delta[1];\n    info.origin = minus(plus(pos, info.origin), delta);\n    info.beforeOrigin = minus(plus(pos, info.beforeOrigin), delta);\n    info.originalBeforeOrigin = plus(pos, info.originalBeforeOrigin);\n    info.transformOrigin = minus(plus(pos, info.transformOrigin), delta);\n    target.style.transform =\n    \"translate(\".concat(-deltaX - delta[0], \"px, \").concat(-deltaY - delta[1], \"px)\") +\n    rotateScale;\n    setStoreCache();\n    this.updateState(__assign(__assign({}, info), { posDelta: delta, direction: direction, beforeDirection: direction }), isSetState);\n  };\n  MoveableGroup.prototype.getRect = function () {\n    return __assign(__assign({}, _super.prototype.getRect.call(this)), { children: this.moveables.map(function (child) {return child.getRect();}) });\n  };\n  MoveableGroup.prototype.triggerEvent = function (name, e, isManager) {\n    if (isManager || name.indexOf(\"Group\") > -1) {\n      return _super.prototype.triggerEvent.call(this, name, e);\n    } else\n    {\n      this._emitter.trigger(name, e);\n    }\n  };\n  MoveableGroup.prototype.getRequestChildStyles = function () {\n    var styleNames = this.getEnabledAbles().reduce(function (names, able) {\n      var _a, _b;\n      var ableStyleNames = (_b = (_a = able.requestChildStyle) === null || _a === void 0 ? void 0 : _a.call(able)) !== null && _b !== void 0 ? _b : [];\n      return __spreadArray(__spreadArray([], __read(names), false), __read(ableStyleNames), false);\n    }, []);\n    return styleNames;\n  };\n  MoveableGroup.prototype.getMoveables = function () {\n    return __spreadArray([], __read(this.moveables), false);\n  };\n  MoveableGroup.prototype.updateAbles = function () {\n    _super.prototype.updateAbles.call(this, __spreadArray(__spreadArray([], __read(this.props.ables), false), [Groupable], false), \"Group\");\n  };\n  MoveableGroup.prototype._updateTargets = function () {\n    _super.prototype._updateTargets.call(this);\n    this._originalDragTarget = this.props.dragTarget || this.areaElement;\n    this._dragTarget = getRefTarget(this._originalDragTarget, true);\n  };\n  MoveableGroup.prototype._updateEvents = function () {\n    var state = this.state;\n    var props = this.props;\n    var prevTarget = this._prevDragTarget;\n    var nextTarget = props.dragTarget || this.areaElement;\n    var targets = props.targets;\n    var _a = this.differ.update(targets),added = _a.added,changed = _a.changed,removed = _a.removed;\n    var isTargetChanged = added.length || removed.length;\n    if (isTargetChanged || this._prevOriginalDragTarget !== this._originalDragTarget) {\n      unsetGesto(this, false);\n      unsetGesto(this, true);\n      this.updateState({ gestos: {} });\n    }\n    if (prevTarget !== nextTarget) {\n      state.target = null;\n    }\n    if (!state.target) {\n      state.target = this.areaElement;\n      this.controlBox.style.display = \"block\";\n    }\n    if (state.target) {\n      if (!this.targetGesto) {\n        this.targetGesto = getTargetAbleGesto(this, this._dragTarget, \"Group\");\n      }\n      if (!this.controlGesto) {\n        this.controlGesto = getControlAbleGesto(this, \"GroupControl\");\n      }\n    }\n    var isContainerChanged = !equals(state.container, props.container);\n    if (isContainerChanged) {\n      state.container = props.container;\n    }\n    if (isContainerChanged ||\n    isTargetChanged ||\n    this.transformOrigin !== (props.defaultGroupOrigin || \"50% 50%\") ||\n    changed.length ||\n    targets.length && !isDeepArrayEquals(this._targetGroups, props.targetGroups || [])) {\n      this.updateRect();\n      this._hasFirstTargets = true;\n    }\n    this._isPropTargetChanged = !!isTargetChanged;\n  };\n  MoveableGroup.prototype._updateObserver = function () {};\n  MoveableGroup.defaultProps = __assign(__assign({}, MoveableManager.defaultProps), { transformOrigin: [\"50%\", \"50%\"], groupable: true, dragArea: true, keepRatio: true, targets: [], defaultGroupRotate: 0, defaultGroupOrigin: \"50% 50%\" });\n  return MoveableGroup;\n}(MoveableManager);\n\n/**\r\n * @namespace Moveable.IndividualGroup\r\n * @description Create targets individually, not as a group.Create targets individually, not as a group.\r\n */\nvar MoveableIndividualGroup = /*#__PURE__*/function (_super) {\n  __extends(MoveableIndividualGroup, _super);\n  function MoveableIndividualGroup() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.moveables = [];\n    return _this;\n  }\n  MoveableIndividualGroup.prototype.render = function () {\n    var _this = this;\n    var _a;\n    var props = this.props;\n    var cspNonce = props.cspNonce,ControlBoxElement = props.cssStyled,persistData = props.persistData;\n    var targets = props.targets || [];\n    var length = targets.length;\n    var canPersist = this.isUnmounted || !length;\n    var persistDatChildren = (_a = persistData === null || persistData === void 0 ? void 0 : persistData.children) !== null && _a !== void 0 ? _a : [];\n    if (canPersist && !length && persistDatChildren.length) {\n      targets = persistDatChildren.map(function () {return null;});\n    } else\n    if (!canPersist) {\n      persistDatChildren = [];\n    }\n    return React.createElement(ControlBoxElement, { cspNonce: cspNonce, ref: ref(this, \"controlBox\"), className: prefix(\"control-box\") }, targets.map(function (target, i) {\n      var _a, _b;\n      var individualProps = (_b = (_a = props.individualGroupableProps) === null || _a === void 0 ? void 0 : _a.call(props, target, i)) !== null && _b !== void 0 ? _b : {};\n      return React.createElement(MoveableManager, __assign({ key: \"moveable\" + i, ref: refs(_this, \"moveables\", i) }, props, individualProps, { target: target, wrapperMoveable: _this, isWrapperMounted: _this.isMoveableMounted, persistData: persistDatChildren[i] }));\n    }));\n  };\n  MoveableIndividualGroup.prototype.componentDidMount = function () {};\n  MoveableIndividualGroup.prototype.componentDidUpdate = function () {};\n  MoveableIndividualGroup.prototype.getTargets = function () {\n    return this.props.targets;\n  };\n  MoveableIndividualGroup.prototype.updateRect = function (type, isTarget, isSetState) {\n    if (isSetState === void 0) {isSetState = true;}\n    setStoreCache(true);\n    this.moveables.forEach(function (moveable) {\n      moveable.updateRect(type, isTarget, isSetState);\n    });\n    setStoreCache();\n  };\n  MoveableIndividualGroup.prototype.getRect = function () {\n    return __assign(__assign({}, _super.prototype.getRect.call(this)), { children: this.moveables.map(function (child) {return child.getRect();}) });\n  };\n  MoveableIndividualGroup.prototype.request = function (ableName, param, isInstant) {\n    if (param === void 0) {param = {};}\n    var results = this.moveables.map(function (m) {return m.request(ableName, __assign(__assign({}, param), { isInstant: false }), false);});\n    var requestInstant = isInstant || param.isInstant;\n    var requester = {\n      request: function (ableParam) {\n        results.forEach(function (r) {return r.request(ableParam);});\n        return this;\n      },\n      requestEnd: function () {\n        results.forEach(function (r) {return r.requestEnd();});\n        return this;\n      }\n    };\n    return requestInstant ? requester.request(param).requestEnd() : requester;\n  };\n  MoveableIndividualGroup.prototype.dragStart = function (e, target) {\n    if (target === void 0) {target = e.target;}\n    var inputTarget = target;\n    var childMoveable = find(this.moveables, function (child) {\n      var target = child.getTargets()[0];\n      var controlBoxElement = child.getControlBoxElement();\n      var dragElement = child.getDragElement();\n      if (!target || !dragElement) {\n        return false;\n      }\n      return dragElement === inputTarget || dragElement.contains(inputTarget) ||\n      dragElement !== target && target === inputTarget || target.contains(inputTarget) ||\n      controlBoxElement === inputTarget || controlBoxElement.contains(inputTarget);\n    });\n    if (childMoveable) {\n      childMoveable.dragStart(e, target);\n    }\n    return this;\n  };\n  MoveableIndividualGroup.prototype.hitTest = function () {\n    return 0;\n  };\n  MoveableIndividualGroup.prototype.isInside = function () {\n    return false;\n  };\n  MoveableIndividualGroup.prototype.isDragging = function () {\n    return false;\n  };\n  MoveableIndividualGroup.prototype.getDragElement = function () {\n    return null;\n  };\n  MoveableIndividualGroup.prototype.getMoveables = function () {\n    return __spreadArray([], __read(this.moveables), false);\n  };\n  MoveableIndividualGroup.prototype.updateRenderPoses = function () {};\n  MoveableIndividualGroup.prototype.checkUpdate = function () {};\n  MoveableIndividualGroup.prototype.triggerEvent = function () {};\n  MoveableIndividualGroup.prototype.updateAbles = function () {};\n  MoveableIndividualGroup.prototype._updateEvents = function () {};\n  MoveableIndividualGroup.prototype._updateObserver = function () {};\n  return MoveableIndividualGroup;\n}(MoveableManager);\n\nfunction getElementTargets(refTargets, selectorMap) {\n  var elementTargets = [];\n  refTargets.forEach(function (target) {\n    if (!target) {\n      return;\n    }\n    if (isString(target)) {\n      if (selectorMap[target]) {\n        elementTargets.push.apply(elementTargets, __spreadArray([], __read(selectorMap[target]), false));\n      }\n      return;\n    }\n    if (isArray(target)) {\n      elementTargets.push.apply(elementTargets, __spreadArray([], __read(getElementTargets(target, selectorMap)), false));\n    } else\n    {\n      elementTargets.push(target);\n    }\n  });\n  return elementTargets;\n}\nfunction getTargetGroups(refTargets, selectorMap) {\n  var targetGroups = [];\n  refTargets.forEach(function (target) {\n    if (!target) {\n      return;\n    }\n    if (isString(target)) {\n      if (selectorMap[target]) {\n        targetGroups.push.apply(targetGroups, __spreadArray([], __read(selectorMap[target]), false));\n      }\n      return;\n    }\n    if (isArray(target)) {\n      targetGroups.push(getTargetGroups(target, selectorMap));\n    } else\n    {\n      targetGroups.push(target);\n    }\n  });\n  return targetGroups;\n}\nfunction compareRefTargets(prevRefTargets, nextRefTargets) {\n  return prevRefTargets.length !== nextRefTargets.length || prevRefTargets.some(function (target, i) {\n    var nextTarget = nextRefTargets[i];\n    if (!target && !nextTarget) {\n      return false;\n    } else\n    if (target != nextTarget) {\n      if (isArray(target) && isArray(nextTarget)) {\n        return compareRefTargets(target, nextTarget);\n      }\n      return true;\n    }\n    return false;\n  });\n}\nvar InitialMoveable = /*#__PURE__*/function (_super) {\n  __extends(InitialMoveable, _super);\n  function InitialMoveable() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.refTargets = [];\n    _this.selectorMap = {};\n    _this._differ = new ChildrenDiffer();\n    _this._elementTargets = [];\n    _this._tmpRefTargets = [];\n    _this._tmpSelectorMap = {};\n    _this._onChangeTargets = null;\n    return _this;\n  }\n  InitialMoveable.makeStyled = function () {\n    var cssMap = {};\n    var ables = this.getTotalAbles();\n    ables.forEach(function (_a) {\n      var css = _a.css;\n      if (!css) {\n        return;\n      }\n      css.forEach(function (text) {\n        cssMap[text] = true;\n      });\n    });\n    var style = getKeys(cssMap).join(\"\\n\");\n    this.defaultStyled = styled(\"div\", prefixCSS(PREFIX, MOVEABLE_CSS + style));\n  };\n  InitialMoveable.getTotalAbles = function () {\n    return __spreadArray([Default, Groupable, IndividualGroupable, DragArea], __read(this.defaultAbles), false);\n  };\n  InitialMoveable.prototype.render = function () {\n    var _a;\n    var moveableContructor = this.constructor;\n    if (!moveableContructor.defaultStyled) {\n      moveableContructor.makeStyled();\n    }\n    var _b = this.props,userAbles = _b.ables,userProps = _b.props,props = __rest(_b, [\"ables\", \"props\"]);\n    var _c = __read(this._updateRefs(true), 2),refTargets = _c[0],nextSelectorMap = _c[1];\n    var elementTargets = getElementTargets(refTargets, nextSelectorMap);\n    var isGroup = elementTargets.length > 1;\n    var totalAbles = moveableContructor.getTotalAbles();\n    var ables = __spreadArray(__spreadArray([], __read(totalAbles), false), __read(userAbles || []), false);\n    var nextProps = __assign(__assign(__assign({}, props), userProps || {}), { ables: ables, cssStyled: moveableContructor.defaultStyled, customStyledMap: moveableContructor.customStyledMap });\n    this._elementTargets = elementTargets;\n    var firstRenderState = null;\n    var prevMoveable = this.moveable;\n    var persistData = props.persistData;\n    if (persistData === null || persistData === void 0 ? void 0 : persistData.children) {\n      isGroup = true;\n    }\n    // Even one child is treated as a group if individualGroupable is enabled. #867\n    if (props.individualGroupable) {\n      return React.createElement(MoveableIndividualGroup, __assign({ key: \"individual-group\", ref: ref(this, \"moveable\") }, nextProps, { target: null, targets: elementTargets }));\n    }\n    if (isGroup) {\n      var targetGroups = getTargetGroups(refTargets, nextSelectorMap);\n      // manager\n      if (prevMoveable && !prevMoveable.props.groupable && !prevMoveable.props.individualGroupable) {\n        var target = prevMoveable.props.target;\n        if (target && elementTargets.indexOf(target) > -1) {\n          firstRenderState = __assign({}, prevMoveable.state);\n        }\n      }\n      return React.createElement(MoveableGroup, __assign({ key: \"group\", ref: ref(this, \"moveable\") }, nextProps, (_a = props.groupableProps) !== null && _a !== void 0 ? _a : {}, { target: null, targets: elementTargets, targetGroups: targetGroups, firstRenderState: firstRenderState }));\n    } else\n    {\n      var target_1 = elementTargets[0];\n      // manager\n      if (prevMoveable && (prevMoveable.props.groupable || prevMoveable.props.individualGroupable)) {\n        var moveables = prevMoveable.moveables || [];\n        var prevTargetMoveable = find(moveables, function (mv) {return mv.props.target === target_1;});\n        if (prevTargetMoveable) {\n          firstRenderState = __assign({}, prevTargetMoveable.state);\n        }\n      }\n      return React.createElement(MoveableManager, __assign({ key: \"single\", ref: ref(this, \"moveable\") }, nextProps, { target: target_1, firstRenderState: firstRenderState }));\n    }\n  };\n  InitialMoveable.prototype.componentDidMount = function () {\n    this._checkChangeTargets();\n  };\n  InitialMoveable.prototype.componentDidUpdate = function () {\n    this._checkChangeTargets();\n  };\n  InitialMoveable.prototype.componentWillUnmount = function () {\n    this.selectorMap = {};\n    this.refTargets = [];\n  };\n  /**\r\n   * Get targets set in moveable through target or targets of props.\r\n   * @method Moveable#getTargets\r\n   * @example\r\n   * import Moveable from \"moveable\";\r\n   *\r\n   * const moveable = new Moveable(document.body, {\r\n   *    target: [targetRef, \".target\", document.querySelectorAll(\".target\")],\r\n   * });\r\n   *\r\n   * console.log(moveable.getTargets());\r\n   */\n  InitialMoveable.prototype.getTargets = function () {\n    var _a, _b;\n    return (_b = (_a = this.moveable) === null || _a === void 0 ? void 0 : _a.getTargets()) !== null && _b !== void 0 ? _b : [];\n  };\n  /**\r\n   * If the element list corresponding to the selector among the targets is changed, it is updated.\r\n   * @method Moveable#updateSelectors\r\n   * @example\r\n   * import Moveable from \"moveable\";\r\n   *\r\n   * const moveable = new Moveable(document.body, {\r\n   *    target: \".target\",\r\n   * });\r\n   *\r\n   * moveable.updateSelectors();\r\n   */\n  InitialMoveable.prototype.updateSelectors = function () {\n    this.selectorMap = {};\n    this._updateRefs();\n    this.forceUpdate();\n  };\n  /**\r\n   * User changes target and waits for target to change.\r\n   * @method Moveable#waitToChangeTarget\r\n   * @story combination-with-other-components--components-selecto\r\n   * @example\r\n   * document.querySelector(\".target\").addEventListener(\"mousedown\", e => {\r\n   *   moveable.waitToChangeTarget().then(() => {\r\n   *      moveable.dragStart(e, e.currentTarget);\r\n   *   });\r\n   *   moveable.target = e.currentTarget;\r\n   * });\r\n   */\n  InitialMoveable.prototype.waitToChangeTarget = function () {\n    // let resolvePromise: (e: OnChangeTarget) => void;\n    var _this = this;\n    // this._onChangeTargets = () => {\n    //     this._onChangeTargets = null;\n    //     resolvePromise({\n    //         moveable: this.getManager(),\n    //         targets: this._elementTargets,\n    //     });\n    // };\n    // return new Promise<OnChangeTarget>(resolve => {\n    //     resolvePromise = resolve;\n    // });\n    var resolvePromise;\n    this._onChangeTargets = function () {\n      _this._onChangeTargets = null;\n      resolvePromise();\n    };\n    return new Promise(function (resolve) {\n      resolvePromise = resolve;\n    });\n  };\n  InitialMoveable.prototype.waitToChangeTargets = function () {\n    return this.waitToChangeTarget();\n  };\n  InitialMoveable.prototype.getManager = function () {\n    return this.moveable;\n  };\n  InitialMoveable.prototype.getMoveables = function () {\n    return this.moveable.getMoveables();\n  };\n  InitialMoveable.prototype.getDragElement = function () {\n    return this.moveable.getDragElement();\n  };\n  InitialMoveable.prototype._updateRefs = function (isRender) {\n    var prevRefTargets = this.refTargets;\n    var nextRefTargets = getRefTargets(this.props.target || this.props.targets);\n    var isBrowser = typeof document !== \"undefined\";\n    var isUpdate = compareRefTargets(prevRefTargets, nextRefTargets);\n    var selectorMap = this.selectorMap;\n    var nextSelectorMap = {};\n    this.refTargets.forEach(function updateSelectorMap(target) {\n      if (isString(target)) {\n        var selectorTarget = selectorMap[target];\n        if (selectorTarget) {\n          nextSelectorMap[target] = selectorMap[target];\n        } else\n        if (isBrowser) {\n          isUpdate = true;\n          nextSelectorMap[target] = [].slice.call(document.querySelectorAll(target));\n        }\n      } else\n      if (isArray(target)) {\n        target.forEach(updateSelectorMap);\n      }\n    });\n    this._tmpRefTargets = nextRefTargets;\n    this._tmpSelectorMap = nextSelectorMap;\n    return [\n    nextRefTargets,\n    nextSelectorMap,\n    !isRender && isUpdate];\n\n  };\n  InitialMoveable.prototype._checkChangeTargets = function () {\n    var _a, _b, _c;\n    this.refTargets = this._tmpRefTargets;\n    this.selectorMap = this._tmpSelectorMap;\n    var _d = this._differ.update(this._elementTargets),added = _d.added,removed = _d.removed;\n    var isTargetChanged = added.length || removed.length;\n    if (isTargetChanged) {\n      (_b = (_a = this.props).onChangeTargets) === null || _b === void 0 ? void 0 : _b.call(_a, {\n        moveable: this.moveable,\n        targets: this._elementTargets\n      });\n      (_c = this._onChangeTargets) === null || _c === void 0 ? void 0 : _c.call(this);\n    }\n    var _e = __read(this._updateRefs(), 3),refTargets = _e[0],selectorMap = _e[1],isUpdate = _e[2];\n    this.refTargets = refTargets;\n    this.selectorMap = selectorMap;\n    if (isUpdate) {\n      this.forceUpdate();\n    }\n  };\n  InitialMoveable.defaultAbles = [];\n  InitialMoveable.customStyledMap = {};\n  InitialMoveable.defaultStyled = null;\n  __decorate([\n  withMethods(MOVEABLE_METHODS)],\n  InitialMoveable.prototype, \"moveable\", void 0);\n  return InitialMoveable;\n}(React.PureComponent);\n\nvar Moveable = /*#__PURE__*/function (_super) {\n  __extends(Moveable, _super);\n  function Moveable() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n  Moveable.defaultAbles = MOVEABLE_ABLES;\n  return Moveable;\n}(InitialMoveable);\n\nfunction makeMoveable(ables) {\n  var _a;\n  return _a = /*#__PURE__*/function (_super) {\n    __extends(Moveable, _super);\n    function Moveable() {\n      return _super !== null && _super.apply(this, arguments) || this;\n    }\n    return Moveable;\n  }(InitialMoveable),\n  _a.defaultAbles = ables,\n  _a;\n}\n\nexport { Clippable, DIRECTIONS, Draggable, edgeDraggable as EdgeDraggable, InitialMoveable, MOVEABLE_ABLES, MOVEABLE_EVENTS, MOVEABLE_METHODS, MOVEABLE_PROPS, Pinchable, Resizable, Rotatable, Roundable, Scalable, Snappable, Warpable, calculateElementPosition, Moveable as default, getElementInfo, makeAble, makeMoveable };", "import * as React from \"react\";\nimport Moveable from \"react-moveable\";\nimport { ref } from \"framework-utils\";\n\nexport default class InnerMoveable extends React.Component<any> {\n    public state: any = {};\n    public moveable!: Moveable;\n    constructor(props: any) {\n        super(props);\n        this.state = this.props;\n    }\n    public render(): React.ReactNode {\n        return <Moveable ref={ref(this, \"moveable\")} {...this.state} />;\n    }\n}\n", "import {\n    MOVEABLE_PROPS,\n    MOVEABLE_METHODS,\n    MOVEABLE_EVENTS,\n} from \"react-moveable\";\n\nexport const PROPERTIES: string[] = MOVEABLE_PROPS;\nexport const METHODS: string[] = MOVEABLE_METHODS;\nexport const EVENTS: string[] = MOVEABLE_EVENTS;\n", "import { ref, Properties } from \"framework-utils\";\nimport * as React from \"react\";\nimport { renderSelf, ContainerProvider } from \"croact\";\nimport InnerMoveable from \"./InnerMoveable\";\nimport {\n    MoveableInterface,\n    MoveableOptions, MoveableProperties,\n} from \"react-moveable/types\";\nimport { camelize, getDocument, isArray } from \"@daybrush/utils\";\nimport { MoveableEventsParameters } from \"./types\";\nimport { PROPERTIES, EVENTS, METHODS } from \"./consts\";\nimport EventEmitter from \"@scena/event-emitter\";\n/**\n * Moveable is Draggable! Resizable! Scalable! Rotatable!\n * @sort 1\n * @alias Moveable\n * @extends EventEmitter\n */\n@Properties(METHODS, (prototype, property) => {\n    if (prototype[property]) {\n        return;\n    }\n    prototype[property] = function(...args: any[]) {\n        const self = this.getMoveable();\n\n        if (!self || !self[property]) {\n            return;\n        }\n        return self[property](...args);\n    };\n})\n@Properties(PROPERTIES, (prototype, property) => {\n    Object.defineProperty(prototype, property, {\n        get() {\n            return this.getMoveable().props[property];\n        },\n        set(value) {\n            this.setState({\n                [property]: value,\n            });\n        },\n        enumerable: true,\n        configurable: true,\n    });\n})\nclass MoveableManager extends EventEmitter<MoveableEventsParameters> {\n    private innerMoveable!: InnerMoveable | null;\n    private containerProvider: ContainerProvider | null = null;\n    private selfElement: HTMLElement | null = null;\n    private _warp = false;\n    /**\n     *\n     */\n    constructor(parentElement: HTMLElement, options: MoveableOptions = {}) {\n        super();\n        const nextOptions = { ...options };\n\n        const events: any = {};\n\n        EVENTS.forEach(name => {\n            events[camelize(`on ${name}`)] = (e: any) => this.trigger<any>(name, e);\n        });\n        let selfElement!: HTMLElement;\n\n        if (options.warpSelf) {\n            delete options.warpSelf;\n            this._warp = true;\n            selfElement = parentElement;\n        } else {\n            selfElement = getDocument(parentElement).createElement(\"div\");\n            parentElement.appendChild(selfElement);\n        }\n        this.containerProvider = renderSelf(\n            <InnerMoveable\n                ref={ref(this, \"innerMoveable\")}\n                {...nextOptions}\n                {...events}\n            /> as any,\n            selfElement,\n        );\n\n        this.selfElement = selfElement;\n        const target = nextOptions.target!;\n        if (isArray(target) && target.length > 1) {\n            this.updateRect();\n        }\n    }\n    public setState(state: Partial<MoveableOptions>, callback?: () => any) {\n        this.innerMoveable!.setState(state, callback);\n    }\n    public forceUpdate(callback?: () => any) {\n        this.innerMoveable!.forceUpdate(callback);\n    }\n    public dragStart(e: MouseEvent | TouchEvent, target: EventTarget | null = e.target) {\n        const innerMoveable = this.innerMoveable;\n        if ((innerMoveable as any).$_timer) {\n            this.forceUpdate();\n        }\n        this.getMoveable().dragStart(e, target);\n    }\n    public destroy() {\n        const selfElement = this.selfElement!;\n\n        renderSelf(\n            null,\n            selfElement!,\n            this.containerProvider,\n        );\n        if (!this._warp) {\n            selfElement?.parentElement?.removeChild(selfElement);\n        }\n        this.containerProvider = null;\n\n        this.off();\n        this.selfElement = null;\n        this.innerMoveable = null;\n    }\n    private getMoveable() {\n        return this.innerMoveable!.moveable;\n    }\n}\n\ninterface MoveableManager extends MoveableInterface, MoveableProperties {\n}\n\nexport default MoveableManager;\n", "import MoveableManager from \"./MoveableManager\";\n\nexport default class Moveable extends MoveableManager {}\n", "import { Able, DefaultProps } from \"react-moveable/types\";\nimport { getElementInfo as getElementInfoFunction, makeAble as makeAbleFunction } from \"react-moveable\";\n\nexport function getElementInfo(\n    target: SVGElement | HTMLElement,\n    container?: SVGElement | HTMLElement | null,\n    rootContainer?: SVGElement | HTMLElement | null | undefined,\n) {\n    return getElementInfoFunction(target, container, rootContainer);\n};\nexport function makeAble<\n    Name extends string,\n    AbleObject extends Partial<Able<any, any>>,\n>(name: Name, able: AbleObject) {\n    return makeAbleFunction<Name, AbleObject>(name, able);\n}\n", "import { DragPreviewImage, useDrag } from \"react-dnd\";\n\ninterface DroppedBoxProps {\n  children: any;\n  name: string;\n  editMode?: boolean;\n}\n\nexport function DroppedBox(props: DroppedBoxProps) {\n  const { children, name } = props;\n\n  const [{ isDragging }, drag, preview] = useDrag(\n    () => ({\n      type: \"box\",\n      item: { name },\n      collect: (monitor) => ({\n        isDragging: monitor.isDragging(),\n      }),\n    }),\n    [name]\n  );\n\n  return (\n    <>\n      <DragPreviewImage\n        src={`/image/campaign/${name}-thumbnail.png`}\n        connect={preview}\n      />\n      <div\n        className=\"box\"\n        ref={drag}\n        style={{\n          display: \"inline-block\",\n          width: \"20%\",\n          cursor: \"move\",\n          borderRadius: 10,\n          backgroundColor: isDragging ? \"rgba(255,255,255,0.8)\" : \"transparent\",\n          opacity: isDragging ? 0.4 : 1,\n        }}\n        data-testid=\"box\"\n      >\n        {children}\n      </div>\n    </>\n  );\n}\n", "import { useTranslation } from \"react-i18next\";\nimport { Flex, Typography } from \"antd\";\n\nconst { Text, Title } = Typography;\n\nexport function CampaignTitle() {\n  const { t } = useTranslation();\n\n  return (\n    <Flex\n      vertical\n      gap={0}\n      justify=\"center\"\n      style={{ marginBottom: 10, textAlign: \"center\" }}\n    >\n      <Title\n        style={{\n          marginBlock: 0,\n          color: \"inherit\",\n          fontSize: 28,\n        }}\n        level={2}\n      >\n        {t(\"this is your profile\")}\n      </Title>\n      <div style={{ marginTop: 10 }}>\n        <Text\n          style={{\n            fontSize: \"0.85em\",\n            color: \"inherit\",\n          }}\n        >\n          {t(\"customize profile by your own style, and share to your friends\")}\n        </Text>\n      </div>\n    </Flex>\n  );\n}\n", "import { useTranslation } from \"react-i18next\";\nimport { Avatar, Flex, Space, Typography } from \"antd\";\nimport {\n  DownloadOutlined,\n  GiftOutlined,\n  PlusOutlined,\n  ShareAltOutlined,\n} from \"@ant-design/icons\";\n\nconst { Text } = Typography;\n\ninterface CampaignControlProps {\n  onNewClicked: () => void;\n  onSaveClicked: () => void;\n  onShareClicked: () => void;\n  onGiftClicked: () => void;\n}\n\nexport function CampaignControl(props: CampaignControlProps) {\n  const { t } = useTranslation();\n  const { onGiftClicked, onNewClicked, onSaveClicked, onShareClicked } = props;\n\n  const iconStyle = {\n    backgroundColor: \"#eb4d4f\",\n    cursor: \"pointer\",\n    lineHeight: \"45px\",\n  };\n\n  return (\n    <Flex gap={20} align=\"center\" justify=\"center\" style={{ marginTop: 20 }}>\n      <Space direction=\"vertical\" align=\"center\">\n        <Avatar\n          icon={<PlusOutlined />}\n          style={iconStyle}\n          onClick={onNewClicked}\n          size={50}\n        />\n        <Text style={{ color: \"#fff\" }}>{t(\"create new\")}</Text>\n      </Space>\n      <Space direction=\"vertical\" align=\"center\">\n        <Avatar\n          icon={<DownloadOutlined />}\n          style={iconStyle}\n          onClick={onSaveClicked}\n          size={50}\n        />\n        <Text style={{ color: \"#fff\" }}>{t(\"Download\")}</Text>\n      </Space>\n      <Space direction=\"vertical\" align=\"center\">\n        <Avatar\n          icon={<ShareAltOutlined />}\n          style={iconStyle}\n          onClick={onShareClicked}\n          size={50}\n        />\n        <Text style={{ color: \"#fff\" }}>{t(\"share\")}</Text>\n      </Space>\n      <Space direction=\"vertical\" align=\"center\">\n        <Avatar\n          icon={<GiftOutlined />}\n          style={iconStyle}\n          onClick={onGiftClicked}\n          size={50}\n        />\n        <Text style={{ color: \"#fff\" }}>{t(\"get the gift\")}</Text>\n      </Space>\n    </Flex>\n  );\n}\n", "import { useMatches } from \"@remix-run/react\";\nimport { Image, Space, Typography } from \"antd\";\nimport { useTranslation } from \"react-i18next\";\nimport { TiltButton } from \"~/components/common\";\nconst { Text, Title } = Typography;\n\ninterface CampaignGiftProps {\n  onBack: () => void;\n  gift: any;\n}\n\nexport function CampaignGift(props: CampaignGiftProps) {\n  const { t } = useTranslation();\n  const matches = useMatches();\n  const { cdnUrl } = matches[0].data;\n  const { gift, onBack } = props;\n\n  return (\n    <div\n      style={{\n        justifyContent: \"center\",\n        textAlign: \"center\",\n      }}\n    >\n      <Title level={5}>{t(\"This is your gift\")}</Title>\n      <Space direction=\"vertical\">\n        {gift && <Image src={`${cdnUrl}/${gift}`} style={{ width: \"50%\" }} />}\n        <div>\n          <Space direction=\"vertical\" size={1}>\n            <Text>{t(\"select your profile frame\")}</Text>\n            <Text>{t(\"by clicking your profile picture\")}</Text>\n          </Space>\n        </div>\n      </Space>\n      <TiltButton\n        color=\"primary\"\n        onClick={onBack}\n        style={{ marginTop: \"10px\" }}\n      >\n        <Space>{t(\"go to profile\")}</Space>\n      </TiltButton>\n    </div>\n  );\n}\n", "import { Avatar, Button } from \"antd\";\nimport { CloseOutlined, EditOutlined } from \"@ant-design/icons\";\nimport { useTranslation } from \"react-i18next\";\nimport { Media } from \"~/components/common\";\n\ninterface CampaignEditButtonProps {\n  editMode: boolean;\n  onClick: () => void;\n}\n\nexport function CampaignEditButton(props: CampaignEditButtonProps) {\n  const { t } = useTranslation();\n  const { editMode, onClick } = props;\n\n  return (\n    <div\n      style={{\n        position: \"absolute\",\n        top: 0,\n        right: -15,\n      }}\n    >\n      <Media greaterThan=\"sm\">\n        {editMode ? (\n          <Avatar\n            icon={<CloseOutlined />}\n            style={{\n              backgroundColor: \"#eb4d4f\",\n              cursor: \"pointer\",\n            }}\n            onClick={onClick}\n            size={48}\n          />\n        ) : (\n          <Button\n            style={{\n              height: 48,\n              color: \"#fff\",\n              backgroundColor: \"#eb4d4f\",\n              border: \"none\",\n            }}\n            icon={<EditOutlined />}\n            shape=\"round\"\n            onClick={onClick}\n          >\n            {t(\"edit\")}\n          </Button>\n        )}\n      </Media>\n      <Media at=\"sm\">\n        {editMode ? (\n          <Avatar\n            icon={<CloseOutlined />}\n            style={{\n              backgroundColor: \"#eb4d4f\",\n              cursor: \"pointer\",\n            }}\n            onClick={onClick}\n            size={36}\n          />\n        ) : (\n          <Button\n            style={{\n              height: 32,\n              padding: \"0 10px\",\n              fontSize: 10,\n              color: \"#fff\",\n              backgroundColor: \"#eb4d4f\",\n              border: \"none\",\n            }}\n            icon={<EditOutlined />}\n            shape=\"round\"\n            onClick={onClick}\n          >\n            {t(\"edit\")}\n          </Button>\n        )}\n      </Media>\n    </div>\n  );\n}\n", "import { Image } from \"antd\";\nimport { DroppedBox } from \"~/components/common\";\n\nexport function CampaignStickers() {\n  return Array(20)\n    .fill(\"\")\n    .map((_, index) => (\n      <DroppedBox key={`sticker-${index + 1}`} name={`sticker-${index + 1}`}>\n        <Image\n          preview={false}\n          src={`/image/campaign/sticker-${index + 1}.png`}\n          className=\"campaign-sticker-drop\"\n        />\n      </DroppedBox>\n    ));\n}\n", "import { CameraOutlined } from \"@ant-design/icons\";\nimport { OverlayBg } from \"~/components/common\";\n\ninterface CampaignThumbnailUploadProps {\n  style: React.CSSProperties;\n  onUpload: (e: any) => void;\n}\n\nexport function CampaignThumbnailUpload(props: CampaignThumbnailUploadProps) {\n  const { style, onUpload } = props;\n\n  return (\n    <label htmlFor=\"upload-button\" style={style}>\n      <OverlayBg style={{ cursor: \"pointer\" }}>\n        <CameraOutlined style={{ fontSize: 36, color: \"#fff\" }} />\n      </OverlayBg>\n      <input\n        type=\"file\"\n        id=\"upload-button\"\n        accept=\"image/png,image/jpeg\"\n        style={{ display: \"none\" }}\n        onChange={onUpload}\n      />\n    </label>\n  );\n}\n"],
  "mappings": "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",
  "names": ["equal", "a", "b", "i", "global", "domtoimage", "node", "domNode", "filter", "children", "source", "target", "className", "element", "style", "content", "toBlob", "i", "doc", "a", "get", "url", "string", "i", "l", "n", "e", "u", "s", "k", "B", "import_react", "DndContext", "createContext", "dragDropManager", "undefined", "randomString", "i", "subscribe", "invariant", "condition", "format", "args", "isProduction", "undefined", "Error", "error", "argIndex", "replace", "name", "framesToPop", "process", "get", "obj", "path", "defaultValue", "split", "reduce", "a", "c", "without", "items", "item", "filter", "i", "isObject", "input", "xor", "itemsA", "itemsB", "map", "Map", "insertItem", "item", "set", "has", "get", "forEach", "result", "count", "key", "push", "intersection", "filter", "t", "indexOf", "INIT_COORDS", "BEGIN_DRAG", "PUBLISH_DRAG_SOURCE", "HOVER", "DROP", "END_DRAG", "setClientOffset", "clientOffset", "sourceClientOffset", "type", "INIT_COORDS", "payload", "ResetCoordinatesAction", "type", "INIT_COORDS", "payload", "clientOffset", "sourceClientOffset", "createBeginDrag", "manager", "beginDrag", "sourceIds", "options", "publishSource", "getSourceClientOffset", "monitor", "getMonitor", "registry", "getRegistry", "dispatch", "setClientOffset", "verifyInvariants", "sourceId", "getDraggableSource", "Error", "verifyGetSourceClientOffsetIsFunction", "source", "getSource", "item", "undefined", "verifyItemIsObject", "pinSource", "itemType", "getSourceType", "BEGIN_DRAG", "isSourcePublic", "invariant", "isDragging", "forEach", "isObject", "i", "length", "canDragSource", "createDrop", "manager", "drop", "options", "monitor", "getMonitor", "registry", "getRegistry", "verifyInvariants", "targetIds", "getDroppableTargets", "forEach", "targetId", "index", "dropResult", "determineDropResult", "action", "type", "DROP", "payload", "dispatch", "invariant", "isDragging", "didDrop", "target", "getTarget", "undefined", "verifyDropResultType", "getDropResult", "isObject", "getTargetIds", "filter", "canDropOnTarget", "reverse", "createEndDrag", "manager", "endDrag", "monitor", "getMonitor", "registry", "getRegistry", "verifyIsDragging", "sourceId", "getSourceId", "source", "getSource", "unpinSource", "type", "END_DRAG", "invariant", "isDragging", "matchesType", "targetType", "draggedItemType", "Array", "isArray", "some", "t", "createHover", "manager", "hover", "targetIdsArg", "clientOffset", "verifyTargetIdsIsArray", "targetIds", "slice", "monitor", "getMonitor", "registry", "getRegistry", "draggedItemType", "getItemType", "removeNonMatchingTargetIds", "checkInvariants", "hoverAllTargets", "type", "HOVER", "payload", "invariant", "Array", "isArray", "isDragging", "didDrop", "i", "length", "targetId", "lastIndexOf", "target", "getTarget", "targetType", "getTargetType", "matchesType", "splice", "forEach", "createPublishDragSource", "manager", "publishDragSource", "monitor", "getMonitor", "isDragging", "type", "PUBLISH_DRAG_SOURCE", "createDragDropActions", "manager", "beginDrag", "createBeginDrag", "publishDragSource", "createPublishDragSource", "hover", "createHover", "drop", "createDrop", "endDrag", "createEndDrag", "DragDropManagerImpl", "receiveBackend", "backend", "getMonitor", "monitor", "getBackend", "getRegistry", "registry", "getActions", "manager", "dispatch", "store", "bindActionCreator", "actionCreator", "args", "action", "apply", "actions", "createDragDropActions", "Object", "keys", "reduce", "boundActions", "key", "isSetUp", "handleRefCountChange", "shouldSetUp", "getState", "refCount", "setup", "teardown", "subscribe", "add", "a", "b", "x", "y", "subtract", "getSourceClientOffset", "state", "clientOffset", "initialClientOffset", "initialSourceClientOffset", "getDifferenceFromInitialOffset", "NONE", "ALL", "__IS_NONE__", "__IS_ALL__", "areDirty", "dirtyIds", "handlerIds", "commonIds", "intersection", "length", "DragDropMonitorImpl", "subscribeToStateChange", "listener", "options", "handlerIds", "invariant", "Array", "isArray", "prevStateId", "store", "getState", "stateId", "handleChange", "state", "currentStateId", "canSkipListener", "areDirty", "dirtyHandlerIds", "subscribe", "subscribeToOffsetChange", "previousState", "dragOffset", "nextState", "canDragSource", "sourceId", "source", "registry", "getSource", "isDragging", "canDrag", "canDropOnTarget", "targetId", "target", "getTarget", "didDrop", "targetType", "getTargetType", "draggedItemType", "getItemType", "matchesType", "canDrop", "Boolean", "isDraggingSource", "isSourcePublic", "sourceType", "getSourceType", "isOverTarget", "shallow", "targetIds", "getTargetIds", "length", "index", "indexOf", "dragOperation", "itemType", "getItem", "item", "getSourceId", "getDropResult", "dropResult", "getInitialClientOffset", "initialClientOffset", "getInitialSourceClientOffset", "initialSourceClientOffset", "getClientOffset", "clientOffset", "getSourceClientOffset", "getDifferenceFromInitialOffset", "scope", "global", "self", "BrowserMutationObserver", "MutationObserver", "WebKitMutationObserver", "makeRequestCallFromTimer", "callback", "requestCall", "timeoutHandle", "setTimeout", "handleTimer", "intervalHandle", "setInterval", "clearTimeout", "clearInterval", "makeRequestCallFromMutationObserver", "toggle", "observer", "node", "document", "createTextNode", "observe", "characterData", "data", "makeRequestCall", "AsapQueue", "enqueueTask", "task", "queue", "q", "requestFlush", "length", "flushing", "pendingErrors", "index", "capacity", "flush", "currentIndex", "call", "scan", "newLength", "registerPendingError", "err", "push", "requestErrorThrow", "makeRequestCall", "makeRequestCallFromTimer", "shift", "RawTask", "call", "task", "error", "onError", "release", "TaskFactory", "create", "task", "tasks", "freeTasks", "t", "length", "pop", "RawTask", "onError", "asapQueue", "AsapQueue", "taskFactory", "TaskFactory", "registerPendingError", "asap", "task", "enqueueTask", "create", "ADD_SOURCE", "ADD_TARGET", "REMOVE_SOURCE", "REMOVE_TARGET", "addSource", "sourceId", "type", "payload", "addTarget", "targetId", "removeSource", "removeTarget", "validateSourceContract", "source", "invariant", "canDrag", "beginDrag", "endDrag", "validateTargetContract", "target", "canDrop", "hover", "drop", "validateType", "type", "allowArray", "Array", "isArray", "forEach", "t", "HandlerRole", "SOURCE", "TARGET", "nextUniqueId", "getNextUniqueId", "getNextHandlerId", "role", "id", "getNextUniqueId", "toString", "HandlerRole", "SOURCE", "TARGET", "Error", "parseRoleFromHandlerId", "handlerId", "mapContainsValue", "map", "searchValue", "entries", "isDone", "done", "value", "next", "HandlerRegistryImpl", "addSource", "type", "source", "validateType", "validateSourceContract", "sourceId", "addHandler", "store", "dispatch", "addTarget", "target", "validateTargetContract", "targetId", "containsHandler", "handler", "dragSources", "dropTargets", "getSource", "includePinned", "invariant", "isSourceId", "isPinned", "pinnedSourceId", "pinnedSource", "get", "getTarget", "isTargetId", "getSourceType", "types", "getTargetType", "removeSource", "asap", "delete", "removeTarget", "pinSource", "unpinSource", "set", "Map", "strictEquality", "a", "b", "areCoordsEqual", "offsetA", "offsetB", "x", "y", "areArraysEqual", "isEqual", "length", "i", "reduce", "_state", "NONE", "action", "type", "HOVER", "ADD_SOURCE", "ADD_TARGET", "REMOVE_TARGET", "REMOVE_SOURCE", "BEGIN_DRAG", "PUBLISH_DRAG_SOURCE", "END_DRAG", "DROP", "ALL", "targetIds", "prevTargetIds", "payload", "result", "xor", "didChange", "length", "areArraysEqual", "prevInnermostTargetId", "innermostTargetId", "push", "_defineProperty", "initialState", "initialSourceClientOffset", "initialClientOffset", "clientOffset", "reduce", "state", "action", "payload", "type", "INIT_COORDS", "BEGIN_DRAG", "sourceClientOffset", "HOVER", "areCoordsEqual", "_objectSpread", "END_DRAG", "DROP", "_defineProperty", "initialState", "itemType", "item", "sourceId", "targetIds", "dropResult", "didDrop", "isSourcePublic", "reduce", "state", "action", "payload", "type", "BEGIN_DRAG", "_objectSpread", "PUBLISH_DRAG_SOURCE", "HOVER", "REMOVE_TARGET", "indexOf", "targetId", "without", "DROP", "END_DRAG", "reduce", "state", "action", "type", "ADD_SOURCE", "ADD_TARGET", "REMOVE_SOURCE", "REMOVE_TARGET", "reduce", "state", "_defineProperty", "reduce", "state", "action", "dirtyHandlerIds", "type", "payload", "_objectSpread", "prevTargetIds", "get", "dragOffset", "refCount", "dragOperation", "stateId", "createDragDropManager", "backendFactory", "globalContext", "undefined", "backendOptions", "debugMode", "store", "makeStoreInstance", "monitor", "DragDropMonitorImpl", "HandlerRegistryImpl", "manager", "DragDropManagerImpl", "backend", "receiveBackend", "reduxDevTools", "window", "__REDUX_DEVTOOLS_EXTENSION__", "createStore", "reduce", "name", "instanceId", "import_react", "refCount", "INSTANCE_SYM", "Symbol", "for", "DndProvider", "memo", "children", "props", "manager", "isGlobalInstance", "getDndContextValue", "useEffect", "context", "getGlobalContext", "_jsx", "DndContext", "Provider", "value", "getDndContextValue", "props", "manager", "dragDropManager", "createSingletonDndContext", "backend", "context", "options", "debugMode", "isGlobalInstance", "getGlobalContext", "ctx", "INSTANCE_SYM", "createDragDropManager", "global", "window", "import_react", "DragPreviewImage", "memo", "connect", "src", "useEffect", "Image", "connected", "img", "onload", "import_react", "import_react", "useIsomorphicLayoutEffect", "window", "useLayoutEffect", "useEffect", "useCollector", "monitor", "collect", "onUpdate", "collected", "setCollected", "useState", "updateCollected", "useCallback", "nextValue", "equal", "useIsomorphicLayoutEffect", "useMonitorOutput", "monitor", "collect", "onCollect", "collected", "updateCollected", "useCollector", "useIsomorphicLayoutEffect", "subscribeToMonitorStateChange", "handlerId", "getHandlerId", "subscribeToStateChange", "handlerIds", "useCollectedProps", "collector", "monitor", "connector", "useMonitorOutput", "reconnect", "import_react", "useOptionalFactory", "arg", "deps", "memoDeps", "push", "useMemo", "import_react", "useConnectDragSource", "connector", "useMemo", "hooks", "dragSource", "useConnectDragPreview", "dragPreview", "import_react", "isCallingCanDrag", "isCallingIsDragging", "DragSourceMonitorImpl", "receiveHandlerId", "sourceId", "getHandlerId", "canDrag", "invariant", "internalMonitor", "canDragSource", "isDragging", "isDraggingSource", "subscribeToStateChange", "listener", "options", "isOverTarget", "targetId", "getTargetIds", "isSourcePublic", "getSourceId", "subscribeToOffsetChange", "canDropOnTarget", "getItemType", "getItem", "getDropResult", "didDrop", "getInitialClientOffset", "getInitialSourceClientOffset", "getSourceClientOffset", "getClientOffset", "getDifferenceFromInitialOffset", "manager", "getMonitor", "isCallingCanDrop", "DropTargetMonitorImpl", "receiveHandlerId", "targetId", "getHandlerId", "subscribeToStateChange", "listener", "options", "internalMonitor", "canDrop", "invariant", "canDropOnTarget", "isOver", "isOverTarget", "getItemType", "getItem", "getDropResult", "didDrop", "getInitialClientOffset", "getInitialSourceClientOffset", "getSourceClientOffset", "getClientOffset", "getDifferenceFromInitialOffset", "manager", "getMonitor", "registerTarget", "type", "target", "manager", "registry", "getRegistry", "targetId", "addTarget", "removeTarget", "registerSource", "source", "sourceId", "addSource", "removeSource", "shallowEqual", "objA", "objB", "compare", "compareContext", "compareResult", "call", "keysA", "Object", "keys", "keysB", "length", "bHasOwnProperty", "prototype", "hasOwnProperty", "bind", "idx", "key", "valueA", "valueB", "isRef", "obj", "Object", "prototype", "hasOwnProperty", "call", "import_react", "throwIfCompositeComponentElement", "element", "type", "displayName", "name", "Error", "wrapHookToRecognizeElement", "hook", "elementOrNode", "options", "isValidElement", "node", "ref", "cloneWithRef", "wrapConnectorHooks", "hooks", "wrappedHooks", "Object", "keys", "forEach", "key", "endsWith", "wrappedHook", "setRef", "current", "newRef", "previousRef", "invariant", "cloneElement", "SourceConnector", "receiveHandlerId", "newHandlerId", "handlerId", "reconnect", "connectTarget", "dragSource", "dragSourceOptions", "dragSourceOptionsInternal", "options", "dragPreviewOptions", "dragPreviewOptionsInternal", "didChange", "reconnectDragSource", "reconnectDragPreview", "didHandlerIdChange", "didConnectedDragSourceChange", "didDragSourceOptionsChange", "disconnectDragSource", "lastConnectedDragSource", "lastConnectedHandlerId", "lastConnectedDragSourceOptions", "dragSourceUnsubscribe", "backend", "connectDragSource", "forceDidChange", "dragPreview", "didConnectedDragPreviewChange", "didDragPreviewOptionsChange", "disconnectDragPreview", "lastConnectedDragPreview", "lastConnectedDragPreviewOptions", "dragPreviewUnsubscribe", "connectDragPreview", "shallowEqual", "undefined", "dragPreviewNode", "dragPreviewRef", "dragSourceNode", "dragSourceRef", "current", "clearDragSource", "clearDragPreview", "hooks", "wrapConnectorHooks", "node", "isRef", "TargetConnector", "connectTarget", "dropTarget", "reconnect", "didChange", "didHandlerIdChange", "didDropTargetChange", "didOptionsChange", "disconnectDropTarget", "handlerId", "lastConnectedDropTarget", "lastConnectedHandlerId", "lastConnectedDropTargetOptions", "dropTargetOptions", "unsubscribeDropTarget", "backend", "connectDropTarget", "receiveHandlerId", "newHandlerId", "dropTargetOptionsInternal", "options", "shallowEqual", "undefined", "dropTargetNode", "dropTargetRef", "current", "clearDropTarget", "hooks", "wrapConnectorHooks", "node", "isRef", "import_react", "useDragDropManager", "dragDropManager", "useContext", "DndContext", "invariant", "useDragSourceConnector", "dragSourceOptions", "dragPreviewOptions", "manager", "useDragDropManager", "connector", "useMemo", "SourceConnector", "getBackend", "useIsomorphicLayoutEffect", "reconnect", "disconnectDragSource", "disconnectDragPreview", "import_react", "useDragSourceMonitor", "manager", "useDragDropManager", "useMemo", "DragSourceMonitorImpl", "import_react", "DragSourceImpl", "beginDrag", "spec", "monitor", "result", "item", "canDrag", "isDragging", "globalMonitor", "target", "getSourceId", "endDrag", "connector", "end", "getItem", "reconnect", "useDragSource", "spec", "monitor", "connector", "handler", "useMemo", "DragSourceImpl", "useEffect", "import_react", "useDragType", "spec", "useMemo", "result", "type", "invariant", "useRegisteredDragSource", "spec", "monitor", "connector", "manager", "useDragDropManager", "handler", "useDragSource", "itemType", "useDragType", "useIsomorphicLayoutEffect", "registerDragSource", "handlerId", "unregister", "registerSource", "receiveHandlerId", "useDrag", "specArg", "deps", "spec", "useOptionalFactory", "invariant", "begin", "monitor", "useDragSourceMonitor", "connector", "useDragSourceConnector", "options", "previewOptions", "useRegisteredDragSource", "useCollectedProps", "collect", "useConnectDragSource", "useConnectDragPreview", "import_react", "useDragLayer", "collect", "dragDropManager", "useDragDropManager", "monitor", "getMonitor", "collected", "updateCollected", "useCollector", "useEffect", "subscribeToOffsetChange", "subscribeToStateChange", "import_react", "useConnectDropTarget", "connector", "useMemo", "hooks", "dropTarget", "import_react", "useDropTargetConnector", "options", "manager", "useDragDropManager", "connector", "useMemo", "TargetConnector", "getBackend", "useIsomorphicLayoutEffect", "dropTargetOptions", "reconnect", "disconnectDropTarget", "import_react", "useDropTargetMonitor", "manager", "useDragDropManager", "useMemo", "DropTargetMonitorImpl", "import_react", "useAccept", "spec", "accept", "useMemo", "invariant", "Array", "isArray", "import_react", "DropTargetImpl", "canDrop", "spec", "monitor", "getItem", "hover", "drop", "useDropTarget", "spec", "monitor", "dropTarget", "useMemo", "DropTargetImpl", "useEffect", "useRegisteredDropTarget", "spec", "monitor", "connector", "manager", "useDragDropManager", "dropTarget", "useDropTarget", "accept", "useAccept", "useIsomorphicLayoutEffect", "registerDropTarget", "handlerId", "unregister", "registerTarget", "receiveHandlerId", "map", "a", "toString", "join", "useDrop", "specArg", "deps", "spec", "useOptionalFactory", "monitor", "useDropTargetMonitor", "connector", "useDropTargetConnector", "options", "useRegisteredDropTarget", "useCollectedProps", "collect", "useConnectDropTarget", "import_react", "import_react", "import_react", "t", "a", "o", "p", "l", "m", "P", "x", "c", "import_react", "import_react", "u", "D", "g", "t", "o", "l", "i", "p", "v", "x", "S", "s", "E", "k", "w", "M", "memoize", "fn", "result", "memoized", "without", "items", "item", "filter", "i", "union", "itemsA", "itemsB", "set", "Set", "insertItem", "add", "forEach", "key", "push", "EnterLeaveCounter", "enter", "enteringNode", "previousLength", "entered", "length", "isNodeEntered", "node", "isNodeInDocument", "contains", "union", "filter", "leave", "leavingNode", "without", "reset", "NativeDragSource", "initializeExposedProperties", "Object", "keys", "config", "exposeProperties", "forEach", "property", "defineProperty", "item", "configurable", "enumerable", "get", "console", "warn", "loadDataTransfer", "dataTransfer", "newProperties", "propertyFn", "value", "matchesTypes", "defineProperties", "canDrag", "beginDrag", "isDragging", "monitor", "handle", "getSourceId", "endDrag", "URL", "FILE", "TEXT", "HTML", "getDataFromDataTransfer", "dataTransfer", "typesToTry", "defaultValue", "result", "reduce", "resultSoFar", "typeToTry", "getData", "nativeTypesConfig", "FILE", "exposeProperties", "files", "dataTransfer", "Array", "prototype", "slice", "call", "items", "matchesTypes", "HTML", "html", "getDataFromDataTransfer", "URL", "urls", "split", "TEXT", "text", "createNativeDragSource", "type", "dataTransfer", "config", "nativeTypesConfig", "Error", "result", "NativeDragSource", "loadDataTransfer", "matchNativeItemType", "dataTransferTypes", "Array", "prototype", "slice", "call", "types", "Object", "keys", "filter", "nativeItemType", "typeConfig", "matchesTypes", "some", "t", "indexOf", "isFirefox", "memoize", "test", "navigator", "userAgent", "isSafari", "Boolean", "window", "safari", "MonotonicInterpolant", "interpolate", "x", "xs", "ys", "c1s", "c2s", "c3s", "i", "length", "low", "high", "mid", "Math", "floor", "xHere", "max", "diff", "diffSq", "indexes", "push", "sort", "a", "b", "dys", "dxs", "ms", "dx", "dy", "m2", "mNext", "dxNext", "common", "m", "c1", "invDx", "ELEMENT_NODE", "getNodeClientOffset", "node", "el", "nodeType", "parentElement", "top", "left", "getBoundingClientRect", "x", "y", "getEventClientOffset", "e", "clientX", "clientY", "isImageNode", "document", "nodeName", "isFirefox", "documentElement", "contains", "getDragPreviewSize", "isImage", "dragPreview", "sourceWidth", "sourceHeight", "dragPreviewWidth", "width", "dragPreviewHeight", "height", "isSafari", "window", "devicePixelRatio", "getDragPreviewOffset", "sourceNode", "clientOffset", "anchorPoint", "offsetPoint", "dragPreviewNode", "dragPreviewNodeOffsetFromClient", "offsetFromDragPreview", "offsetWidth", "offsetHeight", "anchorX", "anchorY", "calculateYOffset", "interpolantY", "MonotonicInterpolant", "interpolate", "calculateXOffset", "interpolantX", "offsetX", "offsetY", "isManualOffsetX", "isManualOffsetY", "OptionsReader", "window", "globalContext", "undefined", "document", "ref", "rootElement", "optionsArgs", "options", "ownerDocument", "_defineProperty", "HTML5BackendImpl", "profile", "ref", "sourcePreviewNodes", "size", "sourcePreviewNodeOptions", "sourceNodeOptions", "sourceNodes", "dragStartSourceIds", "length", "dropTargetIds", "dragEnterTargetIds", "dragOverTargetIds", "window", "options", "document", "rootElement", "setup", "root", "undefined", "__isReactDndBackendSetUp", "Error", "addEventListeners", "teardown", "removeEventListeners", "clearCurrentDragSourceNode", "asyncEndDragFrameId", "cancelAnimationFrame", "connectDragPreview", "sourceId", "node", "set", "delete", "connectDragSource", "handleDragStart", "e", "handleSelectStart", "setAttribute", "addEventListener", "removeEventListener", "connectDropTarget", "targetId", "handleDragEnter", "handleDragOver", "handleDrop", "target", "handleTopDragStart", "handleTopDragStartCapture", "handleTopDragEndCapture", "handleTopDragEnter", "handleTopDragEnterCapture", "handleTopDragLeaveCapture", "handleTopDragOver", "handleTopDragOverCapture", "handleTopDrop", "handleTopDropCapture", "getCurrentSourceNodeOptions", "monitor", "getSourceId", "get", "_objectSpread", "dropEffect", "altKeyPressed", "getCurrentDropEffect", "isDraggingNativeItem", "getCurrentSourcePreviewNodeOptions", "anchorX", "anchorY", "captureDraggingState", "itemType", "getItemType", "Object", "keys", "NativeTypes", "some", "key", "beginDragNativeItem", "type", "dataTransfer", "currentNativeSource", "createNativeDragSource", "currentNativeHandle", "registry", "addSource", "actions", "beginDrag", "setCurrentDragSourceNode", "currentDragSourceNode", "MOUSE_MOVE_TIMEOUT", "mouseMoveTimeoutTimer", "setTimeout", "endDragIfSourceWasRemovedFromDOM", "clearTimeout", "defaultPrevented", "unshift", "_e", "manager", "globalContext", "Map", "lastClientOffset", "hoverRafId", "getSourceClientOffset", "source", "getNodeClientOffset", "endDragNativeItem", "endDrag", "removeSource", "isNodeInDocument", "Boolean", "body", "contains", "isDragging", "cancelHover", "scheduleHover", "requestAnimationFrame", "hover", "clientOffset", "getEventClientOffset", "publishSource", "nativeType", "matchNativeItemType", "setDragImage", "sourceNode", "dragPreview", "offsetX", "offsetY", "anchorPoint", "offsetPoint", "dragPreviewOffset", "getDragPreviewOffset", "x", "y", "setData", "err", "publishDragSource", "types", "hasAttribute", "preventDefault", "loadDataTransfer", "isFirstEnter", "enterLeaveCounter", "enter", "altKey", "canDrop", "canDropOnTarget", "isLastLeave", "leave", "reset", "drop", "dragDrop", "tagName", "isContentEditable", "OptionsReader", "getActions", "getMonitor", "getRegistry", "EnterLeaveCounter", "HTML5Backend", "createBackend", "manager", "context", "options", "HTML5BackendImpl", "ListenerType", "mouse", "touch", "keyboard", "OptionsReader", "delay", "args", "scrollAngleRanges", "getDropTargetElementsAtPoint", "ignoreContextMenu", "enableHoverOutsideTarget", "enableKeyboardEvents", "enableMouseEvents", "enableTouchEvents", "touchSlop", "delayTouchStart", "ref", "ref2", "delayMouseStart", "window", "context", "undefined", "document", "rootElement", "distance", "x1", "y1", "x2", "y2", "Math", "sqrt", "pow", "abs", "inAngleRanges", "angleRanges", "angle", "atan2", "PI", "i", "length", "ar", "start", "end", "MouseButtons", "Left", "Right", "Center", "MouseButton", "eventShouldStartDrag", "e", "button", "undefined", "eventShouldEndDrag", "buttons", "isTouchEvent", "targetTouches", "ELEMENT_NODE", "getNodeClientOffset", "node", "el", "nodeType", "parentElement", "undefined", "top", "left", "getBoundingClientRect", "x", "y", "getEventClientTouchOffset", "e", "lastTargetTouchFallback", "targetTouches", "length", "getEventClientOffset", "touches", "target", "isTouchEvent", "clientX", "clientY", "supportsPassive", "supported", "addEventListener", "Object", "defineProperty", "get", "e", "eventNames", "ListenerType", "mouse", "start", "move", "end", "contextmenu", "touch", "keyboard", "keydown", "TouchBackendImpl", "profile", "ref", "sourceNodes", "size", "sourcePreviewNodes", "sourcePreviewNodeOptions", "targetNodes", "dragOverTargetIds", "length", "document", "options", "setup", "root", "rootElement", "invariant", "isSetUp", "addEventListener", "getTopMoveStartHandler", "handleTopMoveStartCapture", "handleTopMove", "handleTopMoveCapture", "handleTopMoveEndCapture", "enableMouseEvents", "ignoreContextMenu", "enableKeyboardEvents", "handleCancelOnEscape", "teardown", "_mouseClientOffset", "removeEventListener", "handleTopMoveStart", "uninstallSourceNodeRemovalObserver", "subject", "event", "handler", "capture", "supportsPassive", "passive", "listenerTypes", "forEach", "listenerType", "evt", "connectDragSource", "sourceId", "node", "handleMoveStart", "bind", "set", "delete", "connectDragPreview", "connectDropTarget", "targetId", "handleMove", "e", "monitor", "isDragging", "coords", "type", "x", "clientX", "y", "clientY", "touches", "droppedOn", "elementFromPoint", "undefined", "childMatch", "contains", "body", "delayTouchStart", "delayMouseStart", "handleTopMoveStartDelay", "installSourceNodeRemovalObserver", "draggedSourceNode", "draggedSourceNodeRemovalObserver", "MutationObserver", "parentElement", "resurrectSourceNode", "observe", "childList", "style", "display", "removeAttribute", "appendChild", "disconnect", "manager", "context", "getSourceClientOffset", "element", "get", "getNodeClientOffset", "eventShouldStartDrag", "moveStartSourceIds", "Array", "isArray", "unshift", "clientOffset", "getEventClientOffset", "isTouchEvent", "lastTargetTouchFallback", "targetTouches", "waitingForDelay", "delay", "timeout", "setTimeout", "_evt", "clearTimeout", "enableHoverOutsideTarget", "_isScrolling", "inAngleRanges", "scrollAngleRanges", "hasOwnProperty", "distance", "touchSlop", "actions", "beginDrag", "publishSource", "sourceNode", "getSourceId", "publishDragSource", "cancelable", "preventDefault", "dragOverTargetNodes", "map", "key", "filter", "elementsAtPoint", "getDropTargetElementsAtPoint", "elementsFromPoint", "elementsAtPointExtended", "nodeId", "currentNode", "push", "indexOf", "orderedDragOverTargetIds", "_getDropTargetId", "id", "index", "ids", "targetNode", "reverse", "hover", "keys", "next", "done", "value", "eventShouldEndDrag", "didDrop", "drop", "endDrag", "OptionsReader", "getActions", "getMonitor", "Map", "enableTouchEvents", "TouchBackend", "createBackend", "manager", "context", "options", "TouchBackendImpl", "s", "import_react", "import_react", "prefixNames", "prefix", "_i", "classNames", "map", "className", "split", "name", "join", "prefixCSS", "css", "replace", "_", "selector", "ref", "target", "e", "refs", "i", "Properties", "properties", "action", "component", "prototype", "forEach", "property", "withMethods", "methods", "duplicate", "propertyName", "methodName", "args", "result", "_a", "FUNCTION", "OBJECT", "STRING", "NUMBER", "UNDEFINED", "IS_WINDOW", "window", "doc", "document", "OPEN_CLOSED_CHARACTERS", "open", "close", "TINY_NUM", "REVERSE_TINY_NUM", "DEFAULT_UNIT_PRESETS", "pos", "size", "window", "innerWidth", "innerHeight", "Math", "max", "min", "dot", "a1", "a2", "b1", "b2", "isUndefined", "value", "UNDEFINED", "isObject", "OBJECT", "isArray", "Array", "isString", "STRING", "isNumber", "NUMBER", "isFunction", "FUNCTION", "isEqualSeparator", "character", "separator", "isCharacterSpace", "isSeparatorSpace", "findOpen", "openCharacter", "texts", "index", "length", "openCloseCharacters", "isIgnore", "findIgnore", "findClose", "ignore", "otherText", "slice", "join", "RegExp", "exec", "closeCharacter", "i", "trim", "nextIndex", "find", "_a", "splitText", "text", "splitOptions", "_b", "isSeparateFirst", "isSeparateOnlyOpenClose", "_c", "isSeparateOpenClose", "_d", "openClosedText", "map", "regexText", "regex", "split", "filter", "chr", "values", "tempValues", "resetTemp", "push", "nextOpenCloseCharacters", "splice", "indexOf", "splitSpace", "splitComma", "splitBracket", "matches", "prefix", "suffix", "splitUnit", "unit", "NaN", "parseFloat", "camelize", "str", "replace", "all", "letter", "toUpperCase", "decamelize", "letter2", "toLowerCase", "now", "Date", "getTime", "findIndex", "arr", "callback", "defaultIndex", "length", "i", "find", "arr", "callback", "defalutValue", "index", "findIndex", "requestAnimationFrame", "firstTime", "now", "raf", "IS_WINDOW", "window", "webkitRequestAnimationFrame", "mozRequestAnimationFrame", "msRequestAnimationFrame", "bind", "currTime", "id", "setTimeout", "cancelAnimationFrame", "caf", "webkitCancelAnimationFrame", "mozCancelAnimationFrame", "msCancelAnimationFrame", "handle", "clearTimeout", "getKeys", "obj", "Object", "keys", "getValues", "map", "key", "convertUnitSize", "pos", "size", "_a", "splitUnit", "value", "unit", "isObject", "sizeFunction", "isFunction", "DEFAULT_UNIT_PRESETS", "between", "min", "max", "Math", "checkBoundSize", "targetSize", "compareSize", "isMax", "ratio", "throttle", "TINY_NUM", "filter", "every", "i", "defaultSize", "throttledSize", "calculateBoundSize", "minSize", "maxSize", "keepRatio", "map", "width", "height", "minWidth", "minHeight", "_b", "maxWidth", "maxHeight", "sum", "nums", "length", "total", "average", "getRad", "pos1", "pos2", "distX", "distY", "rad", "atan2", "PI", "getCenterPoint", "points", "getShapeDirection", "center", "pos1Rad", "pos2Rad", "getDist", "a", "b", "sqrt", "pow", "num", "reverseUnit", "round", "throttleArray", "forEach", "_", "counter", "push", "flat", "arr", "reduce", "prev", "cur", "concat", "pushSet", "elements", "element", "indexOf", "push", "hasClass", "element", "className", "classList", "contains", "match", "RegExp", "addClass", "add", "removeClass", "remove", "reg", "replace", "addEvent", "el", "type", "listener", "options", "addEventListener", "removeEvent", "removeEventListener", "getDocument", "ownerDocument", "document", "getDocumentElement", "documentElement", "getDocumentBody", "body", "getWindow", "defaultView", "window", "isWindow", "val", "isNode", "isObject", "nodeName", "nodeType", "key", "values", "keys", "indexOf", "value", "prevIndex", "index", "length", "object", "SUPPORT_MAP", "Map", "prevLink", "nextLink", "prev", "next", "link", "orderChanged", "changed", "fixed", "fromLinks", "toLinks", "forEach", "_a", "from", "to", "Link", "i", "connect", "filter", "_", "map", "fromLink", "toLink", "fromIndex", "getIndex", "disconnect", "undefined", "toIndex", "prevList", "list", "added", "removed", "maintained", "changedBeforeAdded", "Object", "cacheOrdered", "caculateOrdered", "cachePureChanged", "ordered", "pureChanged", "_b", "fromBefore", "toBefore", "push", "diff", "findKeyCallback", "mapClass", "HashMap", "PolyMap", "callback", "e", "prevKeys", "prevKeyMap", "keyMap", "removedMap", "addedCount", "removedCount", "prevListIndex", "set", "listIndex", "get", "reverse", "Result", "slice", "call", "newData", "result", "fillKeys", "keys", "index", "map", "key", "concat", "flat", "arr", "arr2", "forEach", "el", "isArray", "fillProps", "props", "defaultProps", "name_1", "isUndefined", "isDiff", "a", "b", "i", "getAttributes", "className", "otherProps", "__rest", "class", "style", "children", "splitProps", "attributes", "events", "name_2", "indexOf", "findContainerNode", "provider", "base", "isNode", "c", "removeNode", "node", "parentNode", "removeChild", "executeHooks", "hooks", "hook", "renderFunctionComponent", "constructor", "context", "hooksIndex", "Provider", "t", "d", "k", "ref", "ps", "typ", "_ps", "_cs", "_hyd", "_sel", "__proto", "prototype", "s", "u", "contexts", "nextElement", "nextState", "isForceUpdate", "self", "currentDepth", "scheduledContexts", "getValues", "filter", "$_req", "scheduledSubs", "$_subs", "isContextUpdate", "find", "isString", "nextChildSubs", "reduce", "childs", "sub", "depth", "push", "child", "renderProviders", "o", "ss", "prevProps", "setCurrentInstance", "r", "md", "rr", "ud", "fr", "current", "getCurrentInstance", "Object", "__CROACT_CURRENT_INSTNACE__", "getHooksIndex", "setHooksInex", "nextHooksIndex", "Component", "state", "$_timer", "$_state", "$_cs", "render", "shouldComponentUpdate", "setState", "callback", "clearTimeout", "__assign", "window", "setTimeout", "$_setState", "forceUpdate", "componentDidMount", "componentDidUpdate", "prevState", "componentWillUnmount", "$_p", "isUpdate", "PureComponent", "_super", "__extends", "createRef", "defaultValue", "refCallback", "e", "forwardRef", "func", "_fr", "createComponent", "type", "contextValue", "_a", "ComponentProvider", "container", "_this", "call", "_usefs", "_uefs", "_defs", "nextProps", "isMount", "contextType", "get", "template", "_b", "length", "nextContexts", "register", "ef", "un", "unregister", "def", "diffAttributes", "attrs1", "attrs2", "diffObject", "added", "removed", "changed", "setAttribute", "name_3", "removeAttribute", "diffEvents", "events1", "events2", "provier", "name_4", "name_5", "keys1", "getKeys", "keys2", "result", "diff", "name", "maintained", "values", "diffStyle", "style1", "style2", "beforeName", "name_6", "decamelize", "setProperty", "name_7", "name_8", "removeProperty", "getNativeEventName", "replace", "toLowerCase", "ElementProvider", "apply", "arguments", "_es", "_svg", "isRemove", "eventName", "removeEvent", "addEvent", "contextValues", "containerNode", "isSVG", "ownerSVGElement", "element", "splice", "slice", "doc", "getDocument", "createElementNS", "createElement", "prevAttributes", "prevEvents", "_c", "nextAttributes", "nextEvents", "name_9", "findDOMNode", "comp", "providers", "findNodeProvider", "_i", "ContainerProvider", "TextProvider", "createTextNode", "diffProviders", "containerProvider", "childrenKeys", "p", "ordered", "from", "to", "childrenProvider", "next", "insertBefore", "createProvider", "childProvider", "__spreadArray", "getNextSibiling", "childProviders", "isNumber", "providerClass", "updatedHooks", "hyd", "updated", "nodeProvider", "reverse", "renderProvider", "__CROACT__", "isProvider", "undefined", "renderSelf", "element", "self", "containerProvider", "ContainerProvider", "parentElement", "_hyd", "_sel", "renderProvider", "checkHookInfo", "info", "inst", "getCurrentInstance", "hooks", "_hs", "index", "getHooksIndex", "prevHt", "setHooksInex", "isDiff", "deps", "updated", "push", "value", "func", "useMemo", "defaultFunction", "useRef", "defaultValue", "createRef", "useEffect", "effect", "deps", "unshift", "inst", "getCurrentInstance", "info", "checkHookInfo", "func", "effects", "_usefs", "_uefs", "updated", "push", "useImperativeHandle", "ref", "some", "arr", "callback", "length", "i", "find", "getUserAgentString", "agent", "userAgent", "navigator", "toLowerCase", "execRegExp", "pattern", "text", "RegExp", "exec", "e", "hasUserAgentData", "userAgentData", "brands", "uaList", "findVersion", "versionTest", "result", "convertVersion", "replace", "findPreset", "presets", "userPreset", "version", "preset", "test", "brand", "versionAlias", "findPresetBrand", "brandInfo", "findBrand", "id", "_a", "BROWSER_PRESETS", "CHROMIUM_PRESETS", "WEBKIT_PRESETS", "WEBVIEW_PRESETS", "OS_PRESETS", "isWebView", "getLegacyAgent", "nextAgent", "isMobile", "browser", "name", "majorVersion", "webview", "chromium", "chromiumVersion", "webkit", "webkitVersion", "os", "browserPreset", "browserVersion", "_b", "osPreset", "osVersion", "chromiumPreset", "webkitPreset", "parseInt", "isHints", "getClientHintsAgent", "osData", "fullVersionList", "mobile", "firstBrand", "platform", "chromiumBrand", "webkitBrand", "platfomResult", "platformVersion", "browserBrandByFullVersionList", "browserBrand", "uaFullVersion", "agent", "userAgent", "hasUserAgentData", "getClientHintsAgent", "getLegacyAgent", "add", "matrix", "inverseMatrix", "startIndex", "fromIndex", "n", "k", "i", "x", "fromX", "swap", "v", "iv", "divide", "ignoreDimension", "m", "Math", "sqrt", "length", "newMatrix", "slice", "invert", "createIdentityMatrix", "identityIndex", "throttle", "TINY_NUM", "j", "targetStartIndex", "targetIndex", "target", "transpose", "getOrigin", "originMatrix", "w", "fromTranslation", "pos", "convertPositionMatrix", "convertDimension", "min", "multiplies", "_i", "matrixes", "forEach", "multiply", "matrix2", "l", "plus", "pos1", "pos2", "nextPos", "minus", "convertCSStoMatrix", "a", "is2d", "convertMatrixtoCSS", "calculate", "result", "map", "rotateX3d", "rad", "cos", "sin", "rotateY3d", "rotateZ3d", "createRotateMatrix", "scale3d", "_a", "_b", "sx", "_c", "sy", "_d", "sz", "rotate", "translate3d", "tx", "ty", "tz", "matrix3d", "matrix1", "createScaleMatrix", "scale", "createOriginMatrix", "origin", "createWarpMatrix", "pos0", "pos3", "nextPos0", "nextPos1", "nextPos2", "nextPos3", "x0", "y0", "x1", "y1", "x2", "y2", "x3", "y3", "u0", "v0", "u1", "v1", "u2", "v2", "u3", "v3", "h", "__assign", "t", "s", "i", "p", "w", "t", "isObject", "__assign", "v", "i", "m", "findKeyCallback", "Map", "undefined", "childrenCount", "el", "__DIFF_KEY__", "tslib_1", "ChildrenDiffer", "list", "_super", "ListDiffer", "diff", "prevList", "listdiff", "EventEmitter", "eventName", "listener", "isObject", "name", "on", "_addEvent", "_events", "off", "events", "index", "findIndex", "e", "splice", "once", "Promise", "resolve", "_this", "param", "isStop", "eventType", "stop", "currentTarget", "__spreadArrays", "forEach", "info", "emit", "options", "listeners", "push", "__assign", "getDefaultScrollPosition", "e", "container", "document", "body", "scrollLeft", "documentElement", "scrollTop", "checkDefaultScrollEvent", "callback", "addEventListener", "removeEventListener", "getContainerElement", "isString", "querySelector", "isFunction", "Element", "current", "value", "__extends", "DragScroll", "_this", "options", "_currentOptions", "_lock", "emit", "next", "inputEvent", "checkScroll", "_flag", "top", "left", "width", "height", "window", "innerWidth", "innerHeight", "rect", "getBoundingClientRect", "_startPos", "clientX", "clientY", "_startRect", "_prevScrollPos", "_getScrollPosition", "_registerScrollEvent", "clearTimeout", "_timer", "_a", "threshold", "_b", "direction", "_continueDrag", "__assign", "isDrag", "_isWait", "prevScrollPos", "throttleTime", "nextScrollPos", "offsetX", "offsetY", "nextDirection", "Math", "abs", "setTimeout", "_unregisterScrollEvent", "getScrollPosition", "useScroll", "nowTime", "now", "distTime", "max", "_prevTime", "param", "requestScroll", "checkScrollEvent", "_unregister", "_onScroll", "EventEmitter", "tinyThrottle", "num", "throttle", "TINY_NUM", "isSameConstants", "linearConstants1", "linearConstants2", "every", "v", "i", "isSamePoint", "point1", "point2", "getAreaSize", "points", "length", "Math", "abs", "sum", "map", "point", "i", "nextPoint", "fitPoints", "rect", "width", "height", "left", "top", "_a", "getMinMaxs", "minX", "minY", "maxX", "maxY", "ratioX", "ratioY", "xs", "ys", "min", "max", "isInside", "pos", "excludeLine", "x", "y", "xLine", "xLinearConstants", "getLinearConstants", "lines", "convertLines", "intersectionPosInfos", "forEach", "line", "linearConstants", "standardPoint", "isSameConstants", "push", "type", "xPoints", "getPointsOnLines", "getIntersectionPointsByConstants", "some", "linePoint", "isSamePoint", "tinyThrottle", "find", "p", "intersectionCount", "xMap", "prevValue", "nextValue", "getLinearConstants", "point1", "point2", "x1", "y1", "x2", "y2", "dx", "dy", "Math", "abs", "TINY_NUM", "a", "b", "c", "getIntersectionPointsByConstants", "linearConstants1", "linearConstants2", "a1", "b1", "c1", "a2", "b2", "c2", "isZeroA", "isZeroB", "results", "Infinity", "y", "x", "map", "result", "getPointsOnLines", "points", "lines", "minMaxs", "map", "line", "order", "Math", "min", "max", "results", "length", "_a", "x", "y", "tinyThrottle", "top", "minMax", "bottom", "left", "right", "filter", "point", "pointX", "pointY", "every", "result", "convertLines", "__spreadArrays", "slice", "i", "getOverlapPointInfos", "points1", "points2", "targetPoints1", "targetPoints2", "getShapeDirection", "reverse", "lines1", "lines2", "linearConstantsList1", "line1", "getLinearConstants", "linearConstantsList2", "line2", "overlapInfos", "forEach", "linearConstants1", "linePointInfos", "linearConstants2", "j", "intersectionPoints", "getIntersectionPointsByConstants", "push", "pos", "index1", "index2", "type", "sort", "a", "b", "getDist", "isInside", "isNext", "index", "findIndex", "splice", "pointMap", "key", "getOverlapPoints", "infos", "getOverlapSize", "points1", "points2", "points", "getOverlapPoints", "getAreaSize", "extendStatics", "d", "b", "p", "__extends", "__assign", "t", "s", "i", "getRad", "getDist", "ClientStore", "Gesto", "_a", "container", "options", "getHash", "str", "stringHash", "toString", "getShadowRoot", "parentElement", "getRootNode", "rootNode", "nodeType", "replaceStyle", "className", "css", "options", "original", "replace", "_", "selector", "trimmedSelector", "trim", "splitComma", "map", "subSelector", "trimmedSubSelector", "indexOf", "join", "injectStyle", "el", "shadowRoot", "doc", "getDocument", "style", "createElement", "setAttribute", "nonce", "innerHTML", "head", "body", "appendChild", "styled", "injectClassName", "inject", "styleElement", "ownerDocument", "document", "querySelector", "count", "parseFloat", "getAttribute", "destroy", "injectCount", "remove", "parentNode", "removeChild", "__assign", "t", "s", "i", "p", "__rest", "styled", "css", "ref", "__rest", "useEffect", "__assign", "extendStatics", "d", "b", "p", "__extends", "__assign", "t", "s", "i", "__rest", "c", "o", "m", "__spreadArray", "l", "agent", "TINY_NUM", "CustomGesto", "x2", "x3", "getDist", "v", "getShadowRoot", "rotate", "_a", "a", "y", "x", "sign", "dot", "_b", "_c", "_d", "result", "nextWidth", "nextHeight", "checkSnap", "direction", "type", "pos", "distance", "isObject", "diff", "getComputedStyle", "scaleMatrix", "self", "a2", "flat", "ratio", "h", "requestAnimationFrame", "getDefaultScrollPosition", "xPos", "yPos", "rad", "dist", "nextParams", "EventManager", "eventName", "moveable", "__assign", "__extends", "MoveableManager", "cancelAnimationFrame", "requestAnimationFrame", "self", "__spreadArray", "v", "css", "styled", "flat", "i", "eventName", "manager", "_a", "_b", "a", "b", "c", "TINY_NUM", "MoveableGroup", "rotation", "MoveableIndividualGroup", "m", "target", "InitialMoveable", "__rest", "Moveable", "InnerMoveable", "_super", "__extends", "props", "_this", "call", "state", "render", "React", "Moveable", "__assign", "ref", "Component", "PROPERTIES", "MOVEABLE_PROPS", "METHODS", "MOVEABLE_METHODS", "EVENTS", "MOVEABLE_EVENTS", "MoveableManager", "parentElement", "options", "containerProvider", "selfElement", "_warp", "nextOptions", "events", "forEach", "name", "camelize", "concat", "e", "trigger", "warpSelf", "getDocument", "createElement", "appendChild", "renderSelf", "target", "isArray", "length", "updateRect", "setState", "callback", "innerMoveable", "forceUpdate", "dragStart", "$_timer", "getMoveable", "destroy", "_a", "removeChild", "off", "moveable", "__decorate", "Properties", "prototype", "property", "args", "_i", "arguments", "self", "Object", "defineProperty", "get", "set", "value", "enumerable", "configurable", "EventEmitter", "Moveable", "import_jsx_dev_runtime", "import_jsx_dev_runtime", "t", "import_jsx_dev_runtime", "Text", "t", "import_jsx_dev_runtime", "Text", "Title", "t", "import_jsx_dev_runtime", "t", "import_jsx_dev_runtime", "import_jsx_dev_runtime", "import_jsx_dev_runtime", "Text", "t", "boxes", "dayjs", "domtoimage", "import_jsx_dev_runtime", "g", "s"]
}
